<?xml version="1.0" encoding="UTF-8"?>
<project name="CoadunationInstall" basedir="." default="main">
    <property name="lib.dir" value="coadunation/lib"/>
    <property name="deploy.dir" value="deploy/lib"/>
    <property name="sbin.dir" value="coadunation/sbin"/>
    <property name="dist.dir" value="coadunation"/>
    <property name="release.dir" value="coadunation"/>
    <property name="documenttarget.dir" value="coadunation/documents"/>
    <property name="sampletarget.dir" value="coadunation/samples"/>
    <property name="clientlib.dir" value="coadunation/clientlib"/>
    <property name="tools.dir" value="coadunation/tools"/>
    <property name="windows.dir" value="coadunation/var-windows/jython/Lib"/>
    <property name="unix.dir" value="coadunation/var-unix/jython/Lib"/>
    <property name="iz.dir" value=""/>
    <target name="main">
        <copy file="${file.reference.CoadunationBase.jar}" todir="${sbin.dir}"/>
        <copy file="${file.reference.CoadunationAnnotations.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.CoadunationClient.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.CoadunationClient.jar}" todir="${clientlib.dir}"/>
        <copy file="${file.reference.CoadunationLib.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.ant.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.avalon-framework-4.1.5.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.avalon-framework-4.1.5.jar}" todir="${clientlib.dir}"/>
        <copy file="${file.reference.axis-ant.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.axis.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.backport-util-concurrent.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.commons-cli-1.0.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.commons-collections-3.2.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.commons-dbcp-1.2.1.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.commons-discovery-0.2.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.commons-logging-1.0.4.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.commons-pool-1.3.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.connector-1_5.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.cosnaming.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.howl.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.irmi.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.jacorb.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.jacorb.jar}" todir="${clientlib.dir}"/>
        <copy file="${file.reference.httpcore-4.0-beta1.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.httpcore-nio-4.0-beta1.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.jaxrpc.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.jotm.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.jotm_iiop_stubs.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.jta-spec1_0_1.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.jts1_0.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.log4j-1.2.13.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.logkit-1.2.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.logkit-1.2.jar}" todir="${clientlib.dir}"/>
        <copy file="${file.reference.mysql-connector-java-3.1.12-bin.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.objectweb-datasource.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.ow_carol-all.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.ow_carol.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.ow_carol_iiop_delegate.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.providerutil.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.saaj.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.wsdl4j-1.5.1.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.xapool.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.xstream-1.1.3.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.hsqldb.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.antlr-2.7.6rc1.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.c3p0-0.9.0.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.cglib-2.1.3.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.dom4j-1.6.1.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.javassist-3.4.GA.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.slf4j-api-1.5.5.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.slf4j-simple-1.5.5.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.commons-collections-3.1.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.jta-1.1.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.ehcache-1.1.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.hibernate3.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.0010-HsqlDBEngineDaemon.jar}" todir="${deploy.dir}"/>
        <copy file="${file.reference.0050-Timer.jar}" todir="${deploy.dir}"/>
        <copy file="${file.reference.0040-ServiceBroker.jar}" todir="${deploy.dir}"/>
        <copy file="${file.reference.0100-JythonDaemon.jar}" todir="${deploy.dir}"/>
        <copy file="${file.reference.0101-DeploymentDaemon.jar}" todir="${deploy.dir}"/>
        <copy file="${file.reference.HsqlDBEngineClient.jar}" todir="${clientlib.dir}"/>
        <copy file="${file.reference.TimerClient.jar}" todir="${clientlib.dir}"/>
        <copy file="${file.reference.ServiceBrokerClient.jar}" todir="${clientlib.dir}"/>
        <copy file="${file.reference.JythonDaemonClient.jar}" todir="${clientlib.dir}"/>
        <copy file="${file.reference.TimerCommandLineTool.jar}" todir="${tools.dir}"/>
        <copy file="${file.reference.ServiceBrokerCommandLineTool.jar}" todir="${tools.dir}"/>
        <copy file="${file.reference.JythonDaemonCommandLineTool.jar}" todir="${tools.dir}"/>
        <copy file="${file.reference.DeploymentDaemonCommandLineTool.jar}" todir="${tools.dir}"/>
        <copy file="${file.reference.DeploymentDaemonClient.jar}" todir="${clientlib.dir}"/>
        <copy file="${file.reference.CoadunationHibernate.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.CoadunationUtil.jar}" todir="${clientlib.dir}"/>
        <copy file="${file.reference.CoadunationCommon.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.CoadunationCommon.jar}" todir="${clientlib.dir}"/>
        <copy file="${file.reference.CoadunationSecurity.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.MessageServiceClient.jar}" todir="${clientlib.dir}"/>
        <copy file="${file.reference.0040-MessageService.jar}" todir="${deploy.dir}"/>
        <copy file="${file.reference.MessageServiceCommandLineTool.jar}" todir="${tools.dir}"/>
        <!-- tomcat install -->
        <copy file="${file.reference.TomcatClient.jar}" todir="${clientlib.dir}"/>
        <copy file="${file.reference.0060-Tomcat.jar}" todir="${deploy.dir}"/>
        <!-- end of tomcat -->
        <!-- Coadunation Admin -->
        <copy file="${file.reference.CoadunationAdmin.war}" todir="${deploy.dir}"/>
        <!-- end of tomcat -->
        <!-- DNS install -->
        <copy file="${file.reference.DNSServerClient.jar}" todir="${clientlib.dir}"/>
        <copy file="${file.reference.0005-DNSServer.jar}" todir="${deploy.dir}"/>
        <!-- end of dns -->
        <!-- Email install -->
        <copy file="${file.reference.EmailServerClient.jar}" todir="${clientlib.dir}"/>
        <copy file="${file.reference.0045-EmailServer.jar}" todir="${deploy.dir}"/>
        <copy file="${file.reference.webmail.war}" todir="${deploy.dir}"/>
        <!-- end of Email -->
        <!-- RDB User install -->
        <copy file="${file.reference.CoadunationRDBAuth.jar}" todir="${lib.dir}"/>
        <copy file="${file.reference.RDBUserManagerClient.jar}" todir="${clientlib.dir}"/>
        <copy file="${file.reference.0020-RDBUserManager.jar}" todir="${deploy.dir}"/>
        <!-- end of RDB User -->
        <!-- Desktop Install -->
        <copy file="${file.reference.DesktopServerClient.jar}" todir="${clientlib.dir}"/>
        <copy file="${file.reference.0050-DesktopServer.jar}" todir="${deploy.dir}"/>
        <copy file="${file.reference.CoadunationDesktop.war}" todir="${deploy.dir}"/>
        <copy file="${file.reference.FileManager.war}" todir="${deploy.dir}"/>
        <copy todir="${deploy.dir}">
            <fileset dir="${desktopapps.dir}"/>
        </copy>
        <!-- End of the Desktop Install -->
        <!-- Event Server Install -->
        <copy file="${file.reference.EventServerClient.jar}" todir="${clientlib.dir}"/>
        <copy file="${file.reference.0050-EventServer.jar}" todir="${deploy.dir}"/>
        <!-- end of Event Server Install -->
        <!-- RSS Reader Install -->
        <copy file="${file.reference.RSSReaderClient.jar}" todir="${clientlib.dir}"/>
        <copy file="${file.reference.0102-RSSReaderClient.jar}" todir="${deploy.dir}"/>
        <!-- end of RSS Reader Install -->
        <copy file="${file.reference.MessageServiceClient.jar}" todir="${clientlib.dir}"/>
        <copy file="${file.reference.jython.jar}" todir="${lib.dir}"/>
        <copy file="${getting.started.guide}" todir="${documenttarget.dir}"/>
        <mkdir dir="${documenttarget.dir}/CoadunationLib"/>
        <mkdir dir="${sampletarget.dir}/1004-SampleMessageServices"/>
        <copy todir="${documenttarget.dir}/CoadunationLib">
            <fileset dir="${jdocsrc.dir}"/>
        </copy>
        <mkdir dir="${documenttarget.dir}/hsqldb"/>
        <copy todir="${documenttarget.dir}/hsqldb">
            <fileset dir="${hsqldb.jdocsrc.dir}"/>
        </copy>
        <mkdir dir="${documenttarget.dir}/timer"/>
        <copy todir="${documenttarget.dir}/timer">
            <fileset dir="${timer.jdocsrc.dir}"/>
        </copy>
        <mkdir dir="${documenttarget.dir}/deploymentdaemon"/>
        <copy todir="${documenttarget.dir}/deploymentdaemon">
            <fileset dir="${deployment.jdocsrc.dir}"/>
        </copy>
        <mkdir dir="${documenttarget.dir}/jythondaemon"/>
        <copy todir="${documenttarget.dir}/jythondaemon">
            <fileset dir="${jython.jdocsrc.dir}"/>
        </copy>
        <mkdir dir="${documenttarget.dir}/servicebroker"/>
        <copy todir="${documenttarget.dir}/servicebroker">
            <fileset dir="${service.jdocsrc.dir}"/>
        </copy>
        <mkdir dir="${documenttarget.dir}/messageservice"/>
        <copy todir="${documenttarget.dir}/messageservice">
            <fileset dir="${messageservice.jdocsrc.dir}"/>
        </copy>
        <mkdir dir="${documenttarget.dir}/dnsserver"/>
        <copy todir="${documenttarget.dir}/dnsserver">
            <fileset dir="${dnsserver.jdocsrc.dir}"/>
        </copy>
        <mkdir dir="${documenttarget.dir}/emailserver"/>
        <copy todir="${documenttarget.dir}/emailserver">
            <fileset dir="${emailserver.jdocsrc.dir}"/>
        </copy>
        <!-- User Manager -->
        <mkdir dir="${documenttarget.dir}/rdbusermanager"/>
        <copy todir="${documenttarget.dir}/rdbusermanager">
            <fileset dir="${rdbusermanager.jdocsrc.dir}"/>
        </copy>
        <!-- end of User Manager -->
        <!-- Desktop Server Client -->
        <mkdir dir="${documenttarget.dir}/desktopserverclient"/>
        <copy todir="${documenttarget.dir}/desktopserverclient">
            <fileset dir="${desktopserverclient.jdocsrc.dir}"/>
        </copy>
        <mkdir dir="${documenttarget.dir}/backgrounds"/>
        <copy todir="${documenttarget.dir}/backgrounds">
            <fileset dir="${desktop.backgrounds.dir}"/>
        </copy>
        <!-- end of User Manager -->
        <!-- Event Server -->
        <mkdir dir="${documenttarget.dir}/event"/>
        <copy todir="${documenttarget.dir}/event">
            <fileset dir="${eventserverclient.jdocsrc.dir}"/>
        </copy>
        <!-- end of Event Server -->
        <!-- RSS Reader Client -->
        <mkdir dir="${documenttarget.dir}/rss"/>
        <copy todir="${documenttarget.dir}/rss">
            <fileset dir="${rssreaderclient.jdocsrc.dir}"/>
        </copy>
        <!-- end of RSS Reader Client -->
        <copy todir="${sampletarget.dir}">
            <fileset dir="${samplesrc.dir}"/>
        </copy>
        <copy todir="${sampletarget.dir}/1004-SampleMessageServices">
            <fileset dir="${project.reference.1004-SampleMessageServices}"/>
        </copy>
        <copy todir="${sampletarget.dir}/1001-MessageTest">
            <fileset dir="${project.reference.1001-MessageTest}"/>
        </copy>
        <copy todir="${sampletarget.dir}/ExampleWebApplication">
            <fileset dir="${project.reference.ExampleWebApplication}"/>
        </copy>
        <copy todir="${windows.dir}">
            <fileset dir="${windows.lib.dir}"/>
        </copy>
        <copy todir="${unix.dir}">
            <fileset dir="${unix.lib.dir}"/>
        </copy>
    </target>
    <target name="izpack">
        <taskdef name="izpack" classpath="${iz.dir}/lib/compiler.jar" classname="com.izforge.izpack.ant.IzPackTask"/>
        <izpack input="${dist.dir}/install.xml" output="${release.dir}/CoadunationOS_Install_${buildVersion}.jar" installerType="standard" basedir="${dist.dir}" izPackDir="${iz.dir}/"/>
    </target>
</project>
