/*
Ext JS - JavaScript Library
Copyright (c) 2006-2011, Sencha Inc.
All rights reserved.
licensing@sencha.com
*/
(function(a){if(typeof a==="undefined"){this.Ext={}}a.buildSettings={baseCSSPrefix:"x4-",scopeResetCSS:true};a.define("Ext.util.Animate",{uses:["Ext.fx.Manager","Ext.fx.Anim"],animate:function(b){var c=this;if(a.fx.Manager.hasFxBlock(c.id)){return c}a.fx.Manager.queueFx(a.create("Ext.fx.Anim",c.anim(b)));return this},anim:function(b){if(!a.isObject(b)){return(b)?{}:false}var c=this;if(b.stopAnimation){c.stopAnimation()}a.applyIf(b,a.fx.Manager.getFxDefaults(c.id));return a.apply({target:c,paused:true},b)},stopFx:a.Function.alias(a.util.Animate,"stopAnimation"),stopAnimation:function(){a.fx.Manager.stopAnimation(this.id);return this},syncFx:function(){a.fx.Manager.setFxDefaults(this.id,{concurrent:true});return this},sequenceFx:function(){a.fx.Manager.setFxDefaults(this.id,{concurrent:false});return this},hasActiveFx:a.Function.alias(a.util.Animate,"getActiveAnimation"),getActiveAnimation:function(){return a.fx.Manager.getActiveAnimation(this.id)}});a.applyIf(a.core.Element.prototype,a.util.Animate.prototype);a.define("Ext.util.Floating",{uses:["Ext.Layer","Ext.window.Window"],focusOnToFront:true,shadow:"sides",constructor:function(b){this.floating=true;this.el=a.create("Ext.Layer",a.apply({},b,{hideMode:this.hideMode,hidden:this.hidden,shadow:a.isDefined(this.shadow)?this.shadow:"sides",shadowOffset:this.shadowOffset,constrain:false,shim:this.shim===false?false:undefined}),this.el)},onFloatRender:function(){var b=this;b.zIndexParent=b.getZIndexParent();b.setFloatParent(b.ownerCt);delete b.ownerCt;if(b.zIndexParent){b.zIndexParent.registerFloatingItem(b)}else{a.WindowManager.register(b)}},setFloatParent:function(c){var b=this;if(b.floatParent){b.mun(b.floatParent,{hide:b.onFloatParentHide,show:b.onFloatParentShow,scope:b})}b.floatParent=c;if(c){b.mon(b.floatParent,{hide:b.onFloatParentHide,show:b.onFloatParentShow,scope:b})}if((b.constrain||b.constrainHeader)&&!b.constrainTo){b.constrainTo=c?c.getTargetEl():b.container}},onFloatParentHide:function(){this.showOnParentShow=this.isVisible();this.hide()},onFloatParentShow:function(){if(this.showOnParentShow){delete this.showOnParentShow;this.show()}},getZIndexParent:function(){var b=this.ownerCt,d;if(b){while(b){d=b;b=b.ownerCt}if(d.floating){return d}}},setZIndex:function(b){var c=this;this.el.setZIndex(b);b+=10;if(c.floatingItems){b=Math.floor(c.floatingItems.setBase(b)/100)*100+10000}return b},doConstrain:function(c){var d=this,b=d.getConstrainVector(c),e;if(b){e=d.getPosition();e[0]+=b[0];e[1]+=b[1];d.setPosition(e)}},getConstrainVector:function(c){var d=this,b;if(d.constrain||d.constrainHeader){b=d.constrainHeader?d.header.el:d.el;c=c||(d.floatParent&&d.floatParent.getTargetEl())||d.container;return b.getConstrainVector(c)}},alignTo:function(c,b,d){if(c.isComponent){c=c.getEl()}var e=this.el.getAlignToXY(c,b,d);this.setPagePosition(e);return this},toFront:function(c){var b=this;if(b.zIndexParent){b.zIndexParent.toFront(true)}if(b.zIndexManager.bringToFront(b)){if(!a.isDefined(c)){c=!b.focusOnToFront}if(!c){b.focus(false,true)}}return b},setActive:function(b,c){if(b){if((this instanceof a.window.Window)&&!this.maximized){this.el.enableShadow(true)}this.fireEvent("activate",this)}else{if((this instanceof a.window.Window)&&(c instanceof a.window.Window)){this.el.disableShadow()}this.fireEvent("deactivate",this)}},toBack:function(){this.zIndexManager.sendToBack(this);return this},center:function(){var b=this.el.getAlignToXY(this.container,"c-c");this.setPagePosition(b);return this},syncShadow:function(){if(this.floating){this.el.sync(true)}},fitContainer:function(){var d=this.floatParent,b=d?d.getTargetEl():this.container,c=b.getViewSize(false);this.setSize(c)}});a.define("Ext.ZIndexManager",{alternateClassName:"Ext.WindowGroup",statics:{zBase:9000},constructor:function(b){var c=this;c.list={};c.zIndexStack=[];c.front=null;if(b){if(b.isContainer){b.on("resize",c._onContainerResize,c);c.zseed=a.Number.from(b.getEl().getStyle("zIndex"),c.getNextZSeed());c.targetEl=b.getTargetEl();c.container=b}else{a.EventManager.onWindowResize(c._onContainerResize,c);c.zseed=c.getNextZSeed();c.targetEl=a.get(b)}}else{a.EventManager.onWindowResize(c._onContainerResize,c);c.zseed=c.getNextZSeed();a.onDocumentReady(function(){c.targetEl=a.getBody()})}},getNextZSeed:function(){return(a.ZIndexManager.zBase+=10000)},setBase:function(b){this.zseed=b;return this.assignZIndices()},assignZIndices:function(){var c=this.zIndexStack,b=c.length,e=0,f=this.zseed,d;for(;e<b;e++){d=c[e];if(d&&!d.hidden){f=d.setZIndex(f)}}this._activateLast();return f},_setActiveChild:function(b){if(b!=this.front){if(this.front){this.front.setActive(false,b)}this.front=b;if(b){b.setActive(true);if(b.modal){this._showModalMask(b.el.getStyle("zIndex")-4)}}}},_activateLast:function(b){var c,e=false,d;for(d=this.zIndexStack.length-1;d>=0;--d){c=this.zIndexStack[d];if(!c.hidden){if(!e){this._setActiveChild(c);e=true}if(c.modal){this._showModalMask(c.el.getStyle("zIndex")-4);return}}}this._hideModalMask();if(!e){this._setActiveChild(null)}},_showModalMask:function(b){if(!this.mask){this.mask=this.targetEl.createChild({cls:a.baseCSSPrefix+"mask"});this.mask.setVisibilityMode(a.core.Element.DISPLAY);this.mask.on("click",this._onMaskClick,this)}a.getBody().addCls(a.baseCSSPrefix+"body-masked");this.mask.setSize(this.targetEl.getViewSize(true));this.mask.setStyle("zIndex",b);this.mask.show()},_hideModalMask:function(){if(this.mask){a.getBody().removeCls(a.baseCSSPrefix+"body-masked");this.mask.hide()}},_onMaskClick:function(){if(this.front){this.front.focus()}},_onContainerResize:function(){if(this.mask&&this.mask.isVisible()){this.mask.setSize(this.targetEl.getViewSize(true))}},register:function(b){if(b.zIndexManager){b.zIndexManager.unregister(b)}b.zIndexManager=this;this.list[b.id]=b;this.zIndexStack.push(b);b.on("hide",this._activateLast,this)},unregister:function(b){delete b.zIndexManager;if(this.list&&this.list[b.id]){delete this.list[b.id];b.un("hide",this._activateLast);a.Array.remove(this.zIndexStack,b);this._activateLast(b)}},get:function(b){return typeof b=="object"?b:this.list[b]},bringToFront:function(b){b=this.get(b);if(b!=this.front){a.Array.remove(this.zIndexStack,b);this.zIndexStack.push(b);this.assignZIndices();return true}if(b.modal){a.getBody().addCls(a.baseCSSPrefix+"body-masked");this.mask.setSize(a.core.Element.getViewWidth(true),a.core.Element.getViewHeight(true));this.mask.show()}return false},sendToBack:function(b){b=this.get(b);a.Array.remove(this.zIndexStack,b);this.zIndexStack.unshift(b);this.assignZIndices();return b},hideAll:function(){for(var b in this.list){if(this.list[b].isComponent&&this.list[b].isVisible()){this.list[b].hide()}}},hide:function(){var c=0,d=this.zIndexStack.length,b;this.tempHidden=[];for(;c<d;c++){b=this.zIndexStack[c];if(b.isVisible()){this.tempHidden.push(b);b.hide()}}},show:function(){var d=0,e=this.tempHidden.length,c,b,f;for(;d<e;d++){c=this.tempHidden[d];b=c.x;f=c.y;c.show();c.setPosition(b,f)}delete this.tempHidden},getActive:function(){return this.front},getBy:function(f,e){var g=[],d=0,b=this.zIndexStack.length,c;for(;d<b;d++){c=this.zIndexStack[d];if(f.call(e||c,c)!==false){g.push(c)}}return g},each:function(d,c){var b;for(var e in this.list){b=this.list[e];if(b.isComponent&&d.call(c||b,b)===false){return}}},eachBottomUp:function(f,e){var c,b=this.zIndexStack,d,g;for(d=0,g=b.length;d<g;d++){c=b[d];if(c.isComponent&&f.call(e||c,c)===false){return}}},eachTopDown:function(f,e){var c,b=this.zIndexStack,d;for(d=b.length;d-->0;){c=b[d];if(c.isComponent&&f.call(e||c,c)===false){return}}},destroy:function(){delete this.zIndexStack;delete this.list;delete this.container;delete this.targetEl}},function(){a.WindowManager=a.WindowMgr=new this()});a.define("Ext.layout.container.boxOverflow.None",{alternateClassName:"Ext.layout.boxOverflow.None",constructor:function(c,b){this.layout=c;a.apply(this,b||{})},handleOverflow:a.emptyFn,clearOverflow:a.emptyFn,onRemove:a.emptyFn,getItem:function(b){return this.layout.owner.getComponent(b)},onRemove:a.emptyFn});a.define("Ext.util.KeyMap",{alternateClassName:"Ext.KeyMap",constructor:function(c,e,b){var d=this;a.apply(d,{el:a.get(c),eventName:b||d.eventName,bindings:[]});if(e){d.addBinding(e)}d.enable()},eventName:"keydown",addBinding:function(h){if(a.isArray(h)){a.each(h,this.addBinding,this);return}var g=h.key,j=false,e,f,c,d,b;if(a.isString(g)){f=[];c=g.toLowerCase();for(d=0,b=c.length;d<b;++d){f.push(c.charCodeAt(d))}g=f;j=true}if(!a.isArray(g)){g=[g]}if(!j){for(d=0,b=g.length;d<b;++d){e=g[d];if(a.isString(e)){g[d]=e.toLowerCase().charCodeAt(0)}}}this.bindings.push(a.apply({keyCode:g},h))},handleKeyDown:function(d){if(this.enabled){var e=this.bindings,c=0,b=e.length;d=this.processEvent(d);for(;c<b;++c){this.processBinding(e[c],d)}}},processEvent:function(b){return b},processBinding:function(g,b){if(this.checkModifiers(g,b)){var h=b.getKey(),k=g.fn||g.handler,l=g.scope||this,j=g.keyCode,c=g.defaultEventAction,d,f,e=new a.EventObjectImpl(b);for(d=0,f=j.length;d<f;++d){if(h===j[d]){if(k.call(l,h,b)!==true&&c){e[c]()}break}}}},checkModifiers:function(j,g){var f=["shift","ctrl","alt"],d=0,b=f.length,h,c;for(;d<b;++d){c=f[d];h=j[c];if(!(h===undefined||(h===g[c+"Key"]))){return false}}return true},on:function(c,e,d){var h,b,f,g;if(a.isObject(c)&&!a.isArray(c)){h=c.key;b=c.shift;f=c.ctrl;g=c.alt}else{h=c}this.addBinding({key:h,shift:b,ctrl:f,alt:g,fn:e,scope:d})},isEnabled:function(){return this.enabled},enable:function(){if(!this.enabled){this.el.on(this.eventName,this.handleKeyDown,this);this.enabled=true}},disable:function(){if(this.enabled){this.el.removeListener(this.eventName,this.handleKeyDown,this);this.enabled=false}},setDisabled:function(b){if(b){this.disable()}else{this.enable()}},destroy:function(c){var b=this;b.bindings=[];b.disable();if(c===true){b.el.remove()}delete b.el}});a.define("Ext.util.ClickRepeater",{extend:"Ext.util.Observable",constructor:function(c,b){this.el=a.get(c);this.el.unselectable();a.apply(this,b);this.addEvents("mousedown","click","mouseup");if(!this.disabled){this.disabled=true;this.enable()}if(this.handler){this.on("click",this.handler,this.scope||this)}this.callParent()},interval:20,delay:250,preventDefault:true,stopDefault:false,timer:0,enable:function(){if(this.disabled){this.el.on("mousedown",this.handleMouseDown,this);if(a.isIE){this.el.on("dblclick",this.handleDblClick,this)}if(this.preventDefault||this.stopDefault){this.el.on("click",this.eventOptions,this)}}this.disabled=false},disable:function(b){if(b||!this.disabled){clearTimeout(this.timer);if(this.pressedCls){this.el.removeCls(this.pressedCls)}a.getDoc().un("mouseup",this.handleMouseUp,this);this.el.removeAllListeners()}this.disabled=true},setDisabled:function(b){this[b?"disable":"enable"]()},eventOptions:function(b){if(this.preventDefault){b.preventDefault()}if(this.stopDefault){b.stopEvent()}},destroy:function(){this.disable(true);a.destroy(this.el);this.clearListeners()},handleDblClick:function(b){clearTimeout(this.timer);this.el.blur();this.fireEvent("mousedown",this,b);this.fireEvent("click",this,b)},handleMouseDown:function(b){clearTimeout(this.timer);this.el.blur();if(this.pressedCls){this.el.addCls(this.pressedCls)}this.mousedownTime=new Date();a.getDoc().on("mouseup",this.handleMouseUp,this);this.el.on("mouseout",this.handleMouseOut,this);this.fireEvent("mousedown",this,b);this.fireEvent("click",this,b);if(this.accelerate){this.delay=400}b=new a.EventObjectImpl(b);this.timer=a.defer(this.click,this.delay||this.interval,this,[b])},click:function(b){this.fireEvent("click",this,b);this.timer=a.defer(this.click,this.accelerate?this.easeOutExpo(a.Date.getElapsed(this.mousedownTime),400,-390,12000):this.interval,this,[b])},easeOutExpo:function(f,e,h,g){return(f==g)?e+h:h*(-Math.pow(2,-10*f/g)+1)+e},handleMouseOut:function(){clearTimeout(this.timer);if(this.pressedCls){this.el.removeCls(this.pressedCls)}this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(){this.el.un("mouseover",this.handleMouseReturn,this);if(this.pressedCls){this.el.addCls(this.pressedCls)}this.click()},handleMouseUp:function(b){clearTimeout(this.timer);this.el.un("mouseover",this.handleMouseReturn,this);this.el.un("mouseout",this.handleMouseOut,this);a.getDoc().un("mouseup",this.handleMouseUp,this);if(this.pressedCls){this.el.removeCls(this.pressedCls)}this.fireEvent("mouseup",this,b)}});a.define("Ext.layout.component.Button",{alias:["layout.button"],extend:"Ext.layout.component.Component",type:"button",cellClsRE:/-btn-(tl|br)\b/,htmlRE:/<.*>/,beforeLayout:function(){return this.callParent(arguments)||this.lastText!==this.owner.text},onLayout:function(d,m){var j=this,g=a.isNumber,e=j.owner,l=e.el,h=e.btnEl,f=e.btnInnerEl,c=e.minWidth,k=e.maxWidth,b,n,i;j.getTargetInfo();j.callParent(arguments);f.unclip();j.setTargetSize(d,m);if(!g(d)){if(e.text&&a.isIE7&&a.isStrict&&h&&h.getWidth()>20){n=j.btnFrameWidth;i=a.util.TextMetrics.measure(f,e.text);l.setWidth(i.width+n+j.adjWidth);h.setWidth(i.width+n);f.setWidth(i.width+n)}else{l.setWidth(null);h.setWidth(null);f.setWidth(null)}if(c||k){b=l.getWidth();if(c&&(b<c)){j.setTargetSize(c,m)}else{if(k&&(b>k)){f.clip();j.setTargetSize(k,m)}}}}this.lastText=e.text},setTargetSize:function(b,l){var h=this,c=h.owner,f=a.isNumber,e=c.btnInnerEl,j=(f(b)?b-h.adjWidth:b),g=(f(l)?l-h.adjHeight:l),d=h.btnFrameHeight,k=c.getText(),i;h.callParent(arguments);h.setElementSize(c.btnEl,j,g);h.setElementSize(e,j,g);if(f(g)){e.setStyle("line-height",g-d+"px")}if(k&&this.htmlRE.test(k)){e.setStyle("line-height","normal");i=a.util.TextMetrics.measure(e,k).height;e.setStyle("padding-top",h.btnFrameTop+Math.max(e.getHeight()-d-i,0)/2+"px");h.setElementSize(e,j,g)}},getTargetInfo:function(){var f=this,b=f.owner,e=b.el,d=f.frameSize,h=b.frameBody,c=b.btnWrap,g=b.btnInnerEl;if(!("adjWidth" in f)){a.apply(f,{adjWidth:d.left+d.right+e.getBorderWidth("lr")+e.getPadding("lr")+c.getPadding("lr")+(h?h.getFrameWidth("lr"):0),adjHeight:d.top+d.bottom+e.getBorderWidth("tb")+e.getPadding("tb")+c.getPadding("tb")+(h?h.getFrameWidth("tb"):0),btnFrameWidth:g.getFrameWidth("lr"),btnFrameHeight:g.getFrameWidth("tb"),btnFrameTop:g.getFrameWidth("t")})}return f.callParent()}});a.define("Ext.util.TextMetrics",{statics:{shared:null,measure:function(b,e,f){var c=this,d=c.shared;if(!d){d=c.shared=new c(b,f)}d.bind(b);d.setFixedWidth(f||"auto");return d.getSize(e)},destroy:function(){var b=this;a.destroy(b.shared);b.shared=null}},constructor:function(b,d){var c=this.measure=a.getBody().createChild({cls:"x-textmetrics"});this.el=a.get(b);c.position("absolute");c.setLeftTop(-1000,-1000);c.hide();if(d){c.setWidth(d)}},getSize:function(d){var c=this.measure,b;c.update(d);b=c.getSize();c.update("");return b},bind:function(b){var c=this;c.el=a.get(b);c.measure.setStyle(c.el.getStyles("font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"))},setFixedWidth:function(b){this.measure.setWidth(b)},getWidth:function(b){this.measure.dom.style.width="auto";return this.getSize(b).width},getHeight:function(b){return this.getSize(b).height},destroy:function(){var b=this;b.measure.remove();delete b.el;delete b.measure}},function(){a.core.Element.addMethods({getTextWidth:function(d,c,b){return a.Number.constrain(a.util.TextMetrics.measure(this.dom,a.value(d,this.dom.innerHTML,true)).width,c||0,b||1000000)}})});a.define("Ext.layout.container.boxOverflow.Scroller",{extend:"Ext.layout.container.boxOverflow.None",requires:["Ext.util.ClickRepeater","Ext.core.Element"],alternateClassName:"Ext.layout.boxOverflow.Scroller",mixins:{observable:"Ext.util.Observable"},animateScroll:false,scrollIncrement:20,wheelIncrement:10,scrollRepeatInterval:60,scrollDuration:400,scrollerCls:a.baseCSSPrefix+"box-scroller",constructor:function(c,b){this.layout=c;a.apply(this,b||{});this.addEvents("scroll")},initCSSClasses:function(){var c=this,b=c.layout;if(!c.CSSinitialized){c.beforeCtCls=c.beforeCtCls||a.baseCSSPrefix+"box-scroller-"+b.parallelBefore;c.afterCtCls=c.afterCtCls||a.baseCSSPrefix+"box-scroller-"+b.parallelAfter;c.beforeScrollerCls=c.beforeScrollerCls||a.baseCSSPrefix+b.owner.getXType()+"-scroll-"+b.parallelBefore;c.afterScrollerCls=c.afterScrollerCls||a.baseCSSPrefix+b.owner.getXType()+"-scroll-"+b.parallelAfter;c.CSSinitializes=true}},handleOverflow:function(b,g){var f=this,e=f.layout,d="get"+e.parallelPrefixCap,c={};f.initCSSClasses();f.callParent(arguments);this.createInnerElements();this.showScrollers();c[e.perpendicularPrefix]=g[e.perpendicularPrefix];c[e.parallelPrefix]=g[e.parallelPrefix]-(f.beforeCt[d]()+f.afterCt[d]());return{targetSize:c}},createInnerElements:function(){var b=this,c=b.layout.getRenderTarget();if(!b.beforeCt){c.addCls(a.baseCSSPrefix+b.layout.direction+"-box-overflow-body");b.beforeCt=c.insertSibling({cls:a.layout.container.Box.prototype.innerCls+" "+b.beforeCtCls},"before");b.afterCt=c.insertSibling({cls:a.layout.container.Box.prototype.innerCls+" "+b.afterCtCls},"after");b.createWheelListener()}},createWheelListener:function(){this.layout.innerCt.on({scope:this,mousewheel:function(b){b.stopEvent();this.scrollBy(b.getWheelDelta()*this.wheelIncrement*-1,false)}})},clearOverflow:function(){this.hideScrollers()},showScrollers:function(){this.createScrollers();this.beforeScroller.show();this.afterScroller.show();this.updateScrollButtons();this.layout.owner.addClsWithUI("scroller")},hideScrollers:function(){if(this.beforeScroller!=undefined){this.beforeScroller.hide();this.afterScroller.hide();this.layout.owner.removeClsWithUI("scroller")}},createScrollers:function(){if(!this.beforeScroller&&!this.afterScroller){var b=this.beforeCt.createChild({cls:a.String.format("{0} {1} ",this.scrollerCls,this.beforeScrollerCls)});var c=this.afterCt.createChild({cls:a.String.format("{0} {1}",this.scrollerCls,this.afterScrollerCls)});b.addClsOnOver(this.beforeScrollerCls+"-hover");c.addClsOnOver(this.afterScrollerCls+"-hover");b.setVisibilityMode(a.core.Element.DISPLAY);c.setVisibilityMode(a.core.Element.DISPLAY);this.beforeRepeater=a.create("Ext.util.ClickRepeater",b,{interval:this.scrollRepeatInterval,handler:this.scrollLeft,scope:this});this.afterRepeater=a.create("Ext.util.ClickRepeater",c,{interval:this.scrollRepeatInterval,handler:this.scrollRight,scope:this});this.beforeScroller=b;this.afterScroller=c}},destroy:function(){a.destroy(this.beforeRepeater,this.afterRepeater,this.beforeScroller,this.afterScroller,this.beforeCt,this.afterCt)},scrollBy:function(c,b){this.scrollTo(this.getScrollPosition()+c,b)},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},updateScrollButtons:function(){if(this.beforeScroller==undefined||this.afterScroller==undefined){return}var e=this.atExtremeBefore()?"addCls":"removeCls",d=this.atExtremeAfter()?"addCls":"removeCls",b=this.beforeScrollerCls+"-disabled",c=this.afterScrollerCls+"-disabled";this.beforeScroller[e](b);this.afterScroller[d](c);this.scrolling=false},atExtremeBefore:function(){return this.getScrollPosition()===0},scrollLeft:function(){this.scrollBy(-this.scrollIncrement,false)},scrollRight:function(){this.scrollBy(this.scrollIncrement,false)},getScrollPosition:function(){var b=this.layout;return parseInt(b.innerCt.dom["scroll"+b.parallelBeforeCap],10)||0},getMaxScrollPosition:function(){var b=this.layout;return b.innerCt.dom["scroll"+b.parallelPrefixCap]-this.layout.innerCt["get"+b.parallelPrefixCap]()},atExtremeAfter:function(){return this.getScrollPosition()>=this.getMaxScrollPosition()},scrollTo:function(b,c){var g=this,f=g.layout,e=g.getScrollPosition(),d=a.Number.constrain(b,0,g.getMaxScrollPosition());if(d!=e&&!g.scrolling){if(c==undefined){c=g.animateScroll}f.innerCt.scrollTo(f.parallelBefore,d,c?g.getScrollAnim():false);if(c){g.scrolling=true}else{g.scrolling=false;g.updateScrollButtons()}g.fireEvent("scroll",g,d,c?g.getScrollAnim():false)}},scrollToItem:function(h,c){var g=this,f=g.layout,b,e,d;h=g.getItem(h);if(h!=undefined){b=this.getItemVisibility(h);if(!b.fullyVisible){e=h.getBox(true,true);d=e[f.parallelPosition];if(b.hiddenEnd){d-=(this.layout.innerCt["get"+f.parallelPrefixCap]()-e[f.parallelPrefix])}this.scrollTo(d,c)}}},getItemVisibility:function(g){var f=this,e=f.getItem(g).getBox(true,true),d=f.layout,c=e[d.parallelPosition],h=c+e[d.parallelPrefix],i=f.getScrollPosition(),b=i+d.innerCt["get"+d.parallelPrefixCap]();return{hiddenStart:c<i,hiddenEnd:h>b,fullyVisible:c>i&&h<b}}});a.define("Ext.util.KeyNav",{alternateClassName:"Ext.KeyNav",requires:["Ext.util.KeyMap"],statics:{keyOptions:{left:37,right:39,up:38,down:40,space:32,pageUp:33,pageDown:34,del:46,backspace:8,home:36,end:35,enter:13,esc:27,tab:9}},constructor:function(c,b){this.setConfig(c,b||{})},setConfig:function(e,b){if(this.map){this.map.destroy()}var g=a.create("Ext.util.KeyMap",e,null,this.getKeyEvent("forceKeyDown" in b?b.forceKeyDown:this.forceKeyDown)),f=a.util.KeyNav.keyOptions,d=b.scope||this,c;this.map=g;for(c in f){if(f.hasOwnProperty(c)){if(b[c]){g.addBinding({scope:d,key:f[c],handler:a.Function.bind(this.handleEvent,d,[b[c]],true),defaultEventAction:b.defaultEventAction||this.defaultEventAction})}}}g.disable();if(!b.disabled){g.enable()}},handleEvent:function(d,c,b){return b.call(this,c)},disabled:false,defaultEventAction:"stopEvent",forceKeyDown:false,destroy:function(b){this.map.destroy(b);delete this.map},enable:function(){this.map.enable();this.disabled=false},disable:function(){this.map.disable();this.disabled=true},setDisabled:function(b){this.map.setDisabled(b);this.disabled=b},getKeyEvent:function(b){return(b||a.EventManager.useKeyDown)?"keydown":"keypress"}});a.define("Ext.dd.StatusProxy",{animRepair:false,constructor:function(b){a.apply(this,b);this.id=this.id||a.id();this.proxy=a.createWidget("component",{floating:true,id:this.id,html:'<div class="'+a.baseCSSPrefix+'dd-drop-icon"></div><div class="'+a.baseCSSPrefix+'dd-drag-ghost"></div>',cls:a.baseCSSPrefix+"dd-drag-proxy "+this.dropNotAllowed,shadow:!b||b.shadow!==false,renderTo:document.body});this.el=this.proxy.el;this.el.show();this.el.setVisibilityMode(a.core.Element.VISIBILITY);this.el.hide();this.ghost=a.get(this.el.dom.childNodes[1]);this.dropStatus=this.dropNotAllowed},dropAllowed:a.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:a.baseCSSPrefix+"dd-drop-nodrop",setStatus:function(b){b=b||this.dropNotAllowed;if(this.dropStatus!=b){this.el.replaceCls(this.dropStatus,b);this.dropStatus=b}},reset:function(b){this.el.dom.className=a.baseCSSPrefix+"dd-drag-proxy "+this.dropNotAllowed;this.dropStatus=this.dropNotAllowed;if(b){this.ghost.update("")}},update:function(b){if(typeof b=="string"){this.ghost.update(b)}else{this.ghost.update("");b.style.margin="0";this.ghost.dom.appendChild(b)}var c=this.ghost.dom.firstChild;if(c){a.fly(c).setStyle("float","none")}},getEl:function(){return this.el},getGhost:function(){return this.ghost},hide:function(b){this.proxy.hide();if(b){this.reset(true)}},stop:function(){if(this.anim&&this.anim.isAnimated&&this.anim.isAnimated()){this.anim.stop()}},show:function(){this.proxy.show();this.proxy.toFront()},sync:function(){this.proxy.el.sync()},repair:function(c,d,b){this.callback=d;this.scope=b;if(c&&this.animRepair!==false){this.el.addCls(a.baseCSSPrefix+"dd-drag-repair");this.el.hideUnders(true);this.anim=this.el.animate({duration:this.repairDuration||500,easing:"ease-out",to:{x:c[0],y:c[1]},stopAnimation:true,callback:this.afterRepair,scope:this})}else{this.afterRepair()}},afterRepair:function(){this.hide(true);if(typeof this.callback=="function"){this.callback.call(this.scope||this)}this.callback=null;this.scope=null},destroy:function(){a.destroy(this.ghost,this.proxy,this.el)}});a.define("Ext.panel.Proxy",{alternateClassName:"Ext.dd.PanelProxy",constructor:function(b,c){this.panel=b;this.id=this.panel.id+"-ddproxy";a.apply(this,c)},insertProxy:true,setStatus:a.emptyFn,reset:a.emptyFn,update:a.emptyFn,stop:a.emptyFn,sync:a.emptyFn,getEl:function(){return this.ghost.el},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){if(this.ghost){if(this.proxy){this.proxy.remove();delete this.proxy}this.panel.unghost(null,false);delete this.ghost}},show:function(){if(!this.ghost){var b=this.panel.getSize();this.panel.el.setVisibilityMode(a.core.Element.DISPLAY);this.ghost=this.panel.ghost();if(this.insertProxy){this.proxy=this.panel.el.insertSibling({cls:a.baseCSSPrefix+"panel-dd-spacer"});this.proxy.setSize(b)}}},repair:function(c,d,b){this.hide();if(typeof d=="function"){d.call(b||this)}},moveProxy:function(b,c){if(this.proxy){b.insertBefore(this.proxy.dom,c)}}});a.define("Ext.Component",{alias:["widget.component","widget.box"],extend:"Ext.AbstractComponent",requires:["Ext.util.DelayedTask"],uses:["Ext.Layer","Ext.resizer.Resizer","Ext.util.ComponentDragger"],mixins:{floating:"Ext.util.Floating"},statics:{DIRECTION_TOP:"top",DIRECTION_RIGHT:"right",DIRECTION_BOTTOM:"bottom",DIRECTION_LEFT:"left"},resizeHandles:"all",floating:false,toFrontOnShow:true,hideMode:"display",hideParent:false,ariaRole:"presentation",bubbleEvents:[],actionMode:"el",monPropRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate)$/,constructor:function(b){b=b||{};if(b.initialConfig){if(b.isAction){this.baseAction=b}b=b.initialConfig}else{if(b.tagName||b.dom||a.isString(b)){b={applyTo:b,id:b.id||b}}}this.callParent([b]);if(this.baseAction){this.baseAction.addComponent(this)}},initComponent:function(){var b=this;if(b.listeners){b.on(b.listeners);delete b.listeners}b.enableBubble(b.bubbleEvents);b.mons=[]},afterRender:function(){var c=this,b=c.resizable;if(c.floating){c.makeFloating(c.floating)}else{c.el.setVisibilityMode(a.core.Element[c.hideMode.toUpperCase()])}if(a.isDefined(c.autoScroll)){c.setAutoScroll(c.autoScroll)}c.callParent();if(!(c.x&&c.y)&&(c.pageX||c.pageY)){c.setPagePosition(c.pageX,c.pageY)}if(b){c.initResizable(b)}if(c.draggable){c.initDraggable()}c.initAria()},initAria:function(){var b=this.getActionEl(),c=this.ariaRole;if(c){b.dom.setAttribute("role",c)}},setAutoScroll:function(b){var c=this,d;b=!!b;if(c.rendered){d=c.getTargetEl();d.setStyle("overflow",b?"auto":"");if(b&&(a.isIE6||a.isIE7)){d.position()}}c.autoScroll=b;return c},makeFloating:function(b){this.mixins.floating.constructor.call(this,b)},initResizable:function(b){b=a.apply({target:this,dynamic:false,constrainTo:this.constrainTo,handles:this.resizeHandles},b);b.target=this;this.resizer=a.create("Ext.resizer.Resizer",b)},getDragEl:function(){return this.el},initDraggable:function(){var c=this,b=a.applyIf({el:this.getDragEl(),constrainTo:c.constrainTo||(c.floatParent?c.floatParent.getTargetEl():c.el.dom.parentNode)},this.draggable);if(c.constrain||c.constrainDelegate){b.constrain=c.constrain;b.constrainDelegate=c.constrainDelegate}this.dd=a.create("Ext.util.ComponentDragger",this,b)},setPosition:function(k,i,b){var g=this,c=g.el,l={},h,j,f,e,d;if(a.isArray(k)){b=i;i=k[1];k=k[0]}g.x=k;g.y=i;if(!g.rendered){return g}h=g.adjustPosition(k,i);j=h.x;f=h.y;e=a.isNumber(j);d=a.isNumber(f);if(e||d){if(b){if(e){l.left=j}if(d){l.top=f}g.stopAnimation();g.animate(a.apply({duration:1000,listeners:{afteranimate:a.Function.bind(g.afterSetPosition,g,[j,f])},to:l},b))}else{if(!e){c.setTop(f)}else{if(!d){c.setLeft(j)}else{c.setLeftTop(j,f)}}g.afterSetPosition(j,f)}}return g},afterSetPosition:function(c,b){this.onPosition(c,b);this.fireEvent("move",this,c,b)},showAt:function(b,d,c){if(this.floating){this.setPosition(b,d,c)}else{this.setPagePosition(b,d,c)}this.show()},setPagePosition:function(b,f,c){var d=this,e;if(a.isArray(b)){f=b[1];b=b[0]}d.pageX=b;d.pageY=f;if(d.floating&&d.floatParent){e=d.floatParent.getTargetEl().getViewRegion();if(a.isNumber(b)&&a.isNumber(e.left)){b-=e.left}if(a.isNumber(f)&&a.isNumber(e.top)){f-=e.top}d.setPosition(b,f,c)}else{e=d.el.translatePoints(b,f);d.setPosition(e.left,e.top,c)}return d},getBox:function(b){var d=this.getPosition(b);var c=this.getSize();c.x=d[0];c.y=d[1];return c},updateBox:function(b){this.setSize(b.width,b.height);this.setPagePosition(b.x,b.y);return this},getOuterSize:function(){var b=this.el;return{width:b.getWidth()+b.getMargin("lr"),height:b.getHeight()+b.getMargin("tb")}},adjustSize:function(b,c){if(this.autoWidth){b="auto"}if(this.autoHeight){c="auto"}return{width:b,height:c}},adjustPosition:function(b,d){if(this.floating&&this.floatParent){var c=this.floatParent.getTargetEl().getViewRegion();b+=c.left;d+=c.top}return{x:b,y:d}},getPosition:function(b){var c=this.el,d;if(b===true){return[c.getLeft(true),c.getTop(true)]}d=this.xy||c.getXY();if(this.floating&&this.floatParent){var e=this.floatParent.getTargetEl().getViewRegion();d[0]-=e.left;d[1]-=e.top}return d},getId:function(){return this.id||(this.id=(this.getXType()||"ext-comp")+"-"+this.getAutoId())},onEnable:function(){var b=this.getActionEl();b.dom.removeAttribute("aria-disabled");b.dom.disabled=false;this.callParent()},onDisable:function(){var b=this.getActionEl();b.dom.setAttribute("aria-disabled",true);b.dom.disabled=true;this.callParent()},show:function(d,b,c){if(this.rendered&&this.isVisible()){if(this.toFrontOnShow&&this.floating){this.toFront()}}else{if(this.fireEvent("beforeshow",this)!==false){this.hidden=false;if(!this.rendered&&(this.autoRender||this.floating)){this.doAutoRender()}if(this.rendered){this.beforeShow();this.onShow.apply(this,arguments);if(this.ownerCt&&!this.floating&&!(this.ownerCt.suspendLayout||this.ownerCt.layout.layoutBusy)){this.ownerCt.doLayout()}this.afterShow.apply(this,arguments)}}}return this},beforeShow:a.emptyFn,onShow:function(){var b=this;b.el.show();if(this.floating&&this.constrain){this.doConstrain()}b.callParent(arguments)},afterShow:function(h,c,f){var g=this,b,d,e;h=h||g.animateTarget;if(!g.ghost){h=null}if(h){h=h.el?h.el:a.get(h);d=g.el.getBox();b=h.getBox();b.width+="px";b.height+="px";d.width+="px";d.height+="px";g.el.addCls(a.baseCSSPrefix+"hide-offsets");e=g.ghost();e.el.stopAnimation();e.el.animate({from:b,to:d,listeners:{afteranimate:function(){delete e.componentLayout.lastComponentSize;g.unghost();g.el.removeCls(a.baseCSSPrefix+"hide-offsets");if(g.floating){g.toFront()}a.callback(c,f||g)}}})}else{if(g.floating){g.toFront()}a.callback(c,f||g)}g.fireEvent("show",g)},hide:function(){this.showOnParentShow=false;if(!(this.rendered&&!this.isVisible())&&this.fireEvent("beforehide",this)!==false){this.hidden=true;if(this.rendered){this.onHide.apply(this,arguments);if(this.ownerCt&&!this.floating&&!(this.ownerCt.suspendLayout||this.ownerCt.layout.layoutBusy)){this.ownerCt.doLayout()}}}return this},onHide:function(g,b,e){var f=this,d,c;g=g||f.animateTarget;if(!f.ghost){g=null}if(g){g=g.el?g.el:a.get(g);d=f.ghost();d.el.stopAnimation();c=g.getBox();c.width+="px";c.height+="px";d.el.animate({to:c,listeners:{afteranimate:function(){delete d.componentLayout.lastComponentSize;d.el.hide();f.afterHide(b,e)}}})}f.el.hide();if(!g){f.afterHide(b,e)}},afterHide:function(b,c){a.callback(b,c||this);this.fireEvent("hide",this)},onDestroy:function(){var b=this;if(b.rendered){a.destroy(b.proxy,b.resizer);if(b.actionMode=="container"||b.removeMode=="container"){b.container.remove()}}delete b.focusTask;b.callParent()},deleteMembers:function(){var c=arguments,b=c.length,d=0;for(;d<b;++d){delete this[c[d]]}},focus:function(e,c){var d=this,b;if(c){if(!d.focusTask){d.focusTask=a.create("Ext.util.DelayedTask",d.focus)}d.focusTask.delay(a.isNumber(c)?c:10,null,d,[e,false]);return d}if(d.rendered&&!d.isDestroyed){b=d.getFocusEl();b.focus();if(b.dom&&e===true){b.dom.select()}if(d.floating){d.toFront(true)}}return d},getFocusEl:function(){return this.el},blur:function(){if(this.rendered){this.getFocusEl().blur()}return this},getEl:function(){return this.el},getResizeEl:function(){return this.el},getPositionEl:function(){return this.el},getActionEl:function(){return this.el},getVisibilityEl:function(){return this.el},onResize:a.emptyFn,getBubbleTarget:function(){return this.ownerCt},getContentTarget:function(){return this.el},cloneConfig:function(d){d=d||{};var e=d.id||a.id();var b=a.applyIf(d,this.initialConfig);b.id=e;var c=a.getClass(this);return new c(b)},getXType:function(){return this.self.xtype},findParentBy:function(b){var c;for(c=this.ownerCt;c&&!b(c,this);c=c.ownerCt){}return c||null},findParentByType:function(b){return a.isFunction(b)?this.findParentBy(function(c){return c.constructor===b}):this.up(b)},bubble:function(d,c,b){var e=this;while(e){if(d.apply(c||e,b||[e])===false){break}e=e.ownerCt}return this},getProxy:function(){if(!this.proxy){this.proxy=this.el.createProxy(a.baseCSSPrefix+"proxy-el",a.getBody(),true)}return this.proxy}});a.define("Ext.layout.container.Container",{extend:"Ext.layout.container.AbstractContainer",alternateClassName:"Ext.layout.ContainerLayout",layoutItem:function(c,b){b=b||{};if(c.componentLayout.initialized!==true){this.setItemSize(c,b.width||c.width||undefined,b.height||c.height||undefined)}},getLayoutTargetSize:function(){var c=this.getTarget(),b;if(c){b=c.getViewSize();if(a.isIE&&b.width==0){b=c.getStyleSize()}b.width-=c.getPadding("lr");b.height-=c.getPadding("tb")}return b},beforeLayout:function(){if(this.owner.beforeLayout(arguments)!==false){return this.callParent(arguments)}else{return false}},afterLayout:function(){this.owner.afterLayout(arguments);this.callParent(arguments)},getRenderedItems:function(){var f=this,h=f.getTarget(),b=f.getLayoutItems(),e=b.length,g=[],c,d;for(c=0;c<e;c++){d=b[c];if(d.rendered&&f.isValidParent(d,h,c)){g.push(d)}}return g},getVisibleItems:function(){var g=this.getTarget(),c=this.getLayoutItems(),f=c.length,b=[],d,e;for(d=0;d<f;d++){e=c[d];if(e.rendered&&this.isValidParent(e,g,d)&&e.hidden!==true){b.push(e)}}return b}});a.define("Ext.container.Container",{extend:"Ext.container.AbstractContainer",alias:"widget.container",alternateClassName:"Ext.Container",getChildByElement:function(e){var g,c,b=0,d=this.items.items,f=d.length;e=a.getDom(e);for(;b<f;b++){g=d[b];c=g.getEl();if((c.dom===e)||c.contains(e)){return g}}return null}});a.define("Ext.toolbar.Fill",{extend:"Ext.Component",alias:"widget.tbfill",alternateClassName:"Ext.Toolbar.Fill",isFill:true,flex:1});a.define("Ext.toolbar.Item",{extend:"Ext.Component",alias:"widget.tbitem",alternateClassName:"Ext.Toolbar.Item",enable:a.emptyFn,disable:a.emptyFn,focus:a.emptyFn});a.define("Ext.toolbar.Separator",{extend:"Ext.toolbar.Item",alias:"widget.tbseparator",alternateClassName:"Ext.Toolbar.Separator",baseCls:a.baseCSSPrefix+"toolbar-separator",focusable:false});a.define("Ext.menu.Manager",{singleton:true,requires:["Ext.util.MixedCollection","Ext.util.KeyMap"],alternateClassName:"Ext.menu.MenuMgr",uses:["Ext.menu.Menu"],menus:{},groups:{},attached:false,lastShow:new Date(),init:function(){var b=this;b.active=a.create("Ext.util.MixedCollection");a.getDoc().addKeyListener(27,function(){if(b.active.length>0){b.hideAll()}},b)},hideAll:function(){var b=this.active,d;if(b&&b.length>0){d=b.clone();d.each(function(c){c.hide()});return true}return false},onHide:function(b){var c=this,d=c.active;d.remove(b);if(d.length<1){a.getDoc().un("mousedown",c.onMouseDown,c);c.attached=false}},onShow:function(b){var f=this,g=f.active,e=g.last(),d=f.attached,c=b.getEl(),h;f.lastShow=new Date();g.add(b);if(!d){a.getDoc().on("mousedown",f.onMouseDown,f);f.attached=true}b.toFront()},onBeforeHide:function(b){if(b.activeChild){b.activeChild.hide()}if(b.autoHideTimer){clearTimeout(b.autoHideTimer);delete b.autoHideTimer}},onBeforeShow:function(b){var d=this.active,c=b.parentMenu;d.remove(b);if(!c&&!b.allowOtherMenus){this.hideAll()}else{if(c&&c.activeChild&&b!=c.activeChild){c.activeChild.hide()}}},onMouseDown:function(f){var c=this,d=c.active,b=c.lastShow;if(a.Date.getElapsed(b)>50&&d.length>0&&!f.getTarget("."+a.baseCSSPrefix+"menu")){c.hideAll()}},register:function(c){var b=this;if(!b.active){b.init()}if(c.floating){b.menus[c.id]=c;c.on({beforehide:b.onBeforeHide,hide:b.onHide,beforeshow:b.onBeforeShow,show:b.onShow,scope:b})}},get:function(c){var b=this.menus;if(typeof c=="string"){if(!b){return null}return b[c]}else{if(c.isMenu){return c}else{if(a.isArray(c)){return a.create("Ext.menu.Menu",{items:c})}else{return a.ComponentManager.create(c,"menu")}}}},unregister:function(e){var b=this,c=b.menus,d=b.active;delete c[e.id];d.remove(e);e.un({beforehide:b.onBeforeHide,hide:b.onHide,beforeshow:b.onBeforeShow,show:b.onShow,scope:b})},registerCheckable:function(d){var b=this.groups,c=d.group;if(c){if(!b[c]){b[c]=[]}b[c].push(d)}},unregisterCheckable:function(d){var b=this.groups,c=d.group;if(c){a.Array.remove(b[c],d)}},onCheckChange:function(e,g){var b=this.groups,d=e.group,c=0,j,f,h;if(d&&g){j=b[d];f=j.length;for(;c<f;c++){h=j[c];if(h!=e){h.setChecked(false)}}}}});a.define("Ext.button.Button",{alias:"widget.button",extend:"Ext.Component",requires:["Ext.menu.Manager","Ext.util.ClickRepeater","Ext.layout.component.Button","Ext.util.TextMetrics","Ext.util.KeyMap"],alternateClassName:"Ext.Button",isButton:true,componentLayout:"button",hidden:false,disabled:false,pressed:false,enableToggle:false,menuAlign:"tl-bl?",type:"button",clickEvent:"click",preventDefault:true,handleMouseEvents:true,tooltipType:"qtip",baseCls:a.baseCSSPrefix+"btn",pressedCls:"pressed",overCls:"over",focusCls:"focus",menuActiveCls:"menu-active",ariaRole:"button",renderTpl:'<em class="{splitCls}"><tpl if="href"><a href="{href}" target="{target}"<tpl if="tabIndex"> tabIndex="{tabIndex}"</tpl> role="link"><span class="{baseCls}-inner">{text}</span></a></tpl><tpl if="!href"><button type="{type}" hidefocus="true"<tpl if="tabIndex"> tabIndex="{tabIndex}"</tpl> role="button" autocomplete="off"><span class="{baseCls}-inner" style="{innerSpanStyle}">{text}</span></button></tpl></em>',scale:"small",allowedScales:["small","medium","large"],iconAlign:"left",arrowAlign:"right",arrowCls:"arrow",maskOnDisable:false,initComponent:function(){var b=this;b.callParent(arguments);b.addEvents("click","toggle","mouseover","mouseout","menushow","menuhide","menutriggerover","menutriggerout");if(b.menu){b.split=true;b.menu=a.menu.Manager.get(b.menu);b.menu.ownerCt=b}if(b.url){b.href=b.url}if(b.href&&!b.hasOwnProperty("preventDefault")){b.preventDefault=false}if(a.isString(b.toggleGroup)){b.enableToggle=true}},initAria:function(){this.callParent();var b=this.getActionEl();if(this.menu){b.dom.setAttribute("aria-haspopup",true)}},getActionEl:function(){return this.btnEl},getFocusEl:function(){return this.btnEl},setButtonCls:function(){var d=this,c=d.el,b=[];if(d.useSetClass){if(!a.isEmpty(d.oldCls)){d.removeClsWithUI(d.oldCls);d.removeClsWithUI(d.pressedCls)}if(d.iconCls||d.icon){if(d.text){b.push("icon-text-"+d.iconAlign)}else{b.push("icon")}}else{if(d.text){b.push("noicon")}}d.oldCls=b;d.addClsWithUI(b);d.addClsWithUI(d.pressed?d.pressedCls:null)}},onRender:function(e,b){var f=this,d,c;a.applyIf(f.renderData,f.getTemplateArgs());a.applyIf(f.renderSelectors,{btnEl:f.href?"a":"button",btnWrap:"em",btnInnerEl:"."+f.baseCls+"-inner"});if(f.scale){f.ui=f.ui+"-"+f.scale}f.callParent(arguments);if(f.split&&f.arrowTooltip){f.arrowEl.dom[f.tooltipType]=f.arrowTooltip}f.mon(f.btnEl,{scope:f,focus:f.onFocus,blur:f.onBlur});c=f.el;if(f.icon){f.setIcon(f.icon)}if(f.iconCls){f.setIconCls(f.iconCls)}if(f.tooltip){f.setTooltip(f.tooltip,true)}if(f.handleMouseEvents){f.mon(c,{scope:f,mouseover:f.onMouseOver,mouseout:f.onMouseOut,mousedown:f.onMouseDown});if(f.split){f.mon(c,{mousemove:f.onMouseMove,scope:f})}}if(f.menu){f.mon(f.menu,{scope:f,show:f.onMenuShow,hide:f.onMenuHide});f.keyMap=a.create("Ext.util.KeyMap",f.el,{key:a.EventObject.DOWN,handler:f.onDownKey,scope:f})}if(f.repeat){d=a.create("Ext.util.ClickRepeater",c,a.isObject(f.repeat)?f.repeat:{});f.mon(d,"click",f.onRepeatClick,f)}else{f.mon(c,f.clickEvent,f.onClick,f)}a.ButtonToggleManager.register(f)},getTemplateArgs:function(){var d=this,c=d.getPersistentBtnPadding(),b="";if(Math.max.apply(Math,c)>0){b="margin:"+a.Array.map(c,function(e){return -e+"px"}).join(" ")}return{href:d.getHref(),target:d.target||"_blank",type:d.type,splitCls:d.getSplitCls(),cls:d.cls,text:d.text||"&#160;",tabIndex:d.tabIndex,innerSpanStyle:b}},getHref:function(){var b=this,c=a.apply({},b.baseParams);c=a.apply(c,b.params);return b.href?a.urlAppend(b.href,a.Object.toQueryString(c)):false},setParams:function(b){this.params=b;this.btnEl.dom.href=this.getHref()},getSplitCls:function(){var b=this;return b.split?(b.baseCls+"-"+b.arrowCls)+" "+(b.baseCls+"-"+b.arrowCls+"-"+b.arrowAlign):""},afterRender:function(){var b=this;b.useSetClass=true;b.setButtonCls();b.doc=a.getDoc();this.callParent(arguments)},setIconCls:function(b){var c=this,d=c.btnInnerEl;if(d){d.removeCls(c.iconCls);d.addCls(b||"");c.setButtonCls()}c.iconCls=b;return c},setTooltip:function(d,b){var c=this;if(c.rendered){if(!b){c.clearTip()}if(a.isObject(d)){a.tip.QuickTipManager.register(a.apply({target:c.btnEl.id},d));c.tooltip=d}else{c.btnEl.dom.setAttribute("data-"+this.tooltipType,d)}}else{c.tooltip=d}return c},getRefItems:function(b){var d=this.menu,c;if(d){c=d.getRefItems(b);c.unshift(d)}return c||[]},clearTip:function(){if(a.isObject(this.tooltip)){a.tip.QuickTipManager.unregister(this.btnEl)}},beforeDestroy:function(){var b=this;if(b.rendered){b.clearTip()}if(b.menu&&b.destroyMenu!==false){a.destroy(b.btnEl,b.btnInnerEl,b.menu)}a.destroy(b.repeater)},onDestroy:function(){var b=this;if(b.rendered){b.doc.un("mouseover",b.monitorMouseOver,b);b.doc.un("mouseup",b.onMouseUp,b);delete b.doc;delete b.btnEl;delete b.btnInnerEl;a.ButtonToggleManager.unregister(b);a.destroy(b.keyMap);delete b.keyMap}b.callParent()},setHandler:function(c,b){this.handler=c;this.scope=b;return this},setText:function(c){var b=this;b.text=c;if(b.el){b.btnInnerEl.update(c||"&#160;");b.setButtonCls()}b.doComponentLayout();return b},setIcon:function(b){var c=this,d=c.btnInnerEl;c.icon=b;if(d){d.setStyle("background-image",b?"url("+b+")":"");c.setButtonCls()}return c},getText:function(){return this.text},toggle:function(d,b){var c=this;d=d===undefined?!c.pressed:!!d;if(d!==c.pressed){if(c.rendered){c[d?"addClsWithUI":"removeClsWithUI"](c.pressedCls)}c.btnEl.dom.setAttribute("aria-pressed",d);c.pressed=d;if(!b){c.fireEvent("toggle",c,d);a.callback(c.toggleHandler,c.scope||c,[c,d])}}return c},showMenu:function(){var b=this;if(b.rendered&&b.menu){if(b.tooltip){a.tip.QuickTipManager.getQuickTip().cancelShow(b.btnEl)}if(b.menu.isVisible()){b.menu.hide()}b.menu.showBy(b.el,b.menuAlign)}return b},hideMenu:function(){if(this.hasVisibleMenu()){this.menu.hide()}return this},hasVisibleMenu:function(){var b=this.menu;return b&&b.rendered&&b.isVisible()},onRepeatClick:function(b,c){this.onClick(c)},onClick:function(c){var b=this;if(b.preventDefault||(b.disabled&&b.getHref())&&c){c.preventDefault()}if(c.button!==0){return}if(!b.disabled){if(b.enableToggle&&(b.allowDepress!==false||!b.pressed)){b.toggle()}if(b.menu&&!b.hasVisibleMenu()&&!b.ignoreNextClick){b.showMenu()}b.fireEvent("click",b,c);if(b.handler){b.handler.call(b.scope||b,b,c)}b.onBlur()}},onMouseOver:function(c){var b=this;if(!b.disabled&&!c.within(b.el,true,true)){b.onMouseEnter(c)}},onMouseOut:function(c){var b=this;if(!c.within(b.el,true,true)){if(b.overMenuTrigger){b.onMenuTriggerOut(c)}b.onMouseLeave(c)}},onMouseMove:function(h){var f=this,d=f.el,g=f.overMenuTrigger,c,b;if(f.split){if(f.arrowAlign==="right"){c=h.getX()-d.getX();b=d.getWidth()}else{c=h.getY()-d.getY();b=d.getHeight()}if(c>(b-f.getTriggerSize())){if(!g){f.onMenuTriggerOver(h)}}else{if(g){f.onMenuTriggerOut(h)}}}},getTriggerSize:function(){var f=this,d=f.triggerSize,c,b,e;if(d===e){c=f.arrowAlign;b=c.charAt(0);d=f.triggerSize=f.el.getFrameWidth(b)+f.btnWrap.getFrameWidth(b)+(f.frameSize&&f.frameSize[c]||0)}return d},onMouseEnter:function(c){var b=this;b.addClsWithUI(b.overCls);b.fireEvent("mouseover",b,c)},onMouseLeave:function(c){var b=this;b.removeClsWithUI(b.overCls);b.fireEvent("mouseout",b,c)},onMenuTriggerOver:function(c){var b=this;b.overMenuTrigger=true;b.fireEvent("menutriggerover",b,b.menu,c)},onMenuTriggerOut:function(c){var b=this;delete b.overMenuTrigger;b.fireEvent("menutriggerout",b,b.menu,c)},enable:function(b){var c=this;c.callParent(arguments);c.removeClsWithUI("disabled");return c},disable:function(b){var c=this;c.callParent(arguments);c.addClsWithUI("disabled");return c},setScale:function(d){var b=this,c=b.ui.replace("-"+b.scale,"");if(!a.Array.contains(b.allowedScales,d)){throw ("#setScale: scale must be an allowed scale ("+b.allowedScales.join(", ")+")")}b.scale=d;b.setUI(c)},setUI:function(c){var b=this;if(b.scale&&!c.match(b.scale)){c=c+"-"+b.scale}b.callParent([c])},onFocus:function(c){var b=this;if(!b.disabled){b.addClsWithUI(b.focusCls)}},onBlur:function(c){var b=this;b.removeClsWithUI(b.focusCls)},onMouseDown:function(c){var b=this;if(!b.disabled&&c.button===0){b.addClsWithUI(b.pressedCls);b.doc.on("mouseup",b.onMouseUp,b)}},onMouseUp:function(c){var b=this;if(c.button===0){if(!b.pressed){b.removeClsWithUI(b.pressedCls)}b.doc.un("mouseup",b.onMouseUp,b)}},onMenuShow:function(c){var b=this;b.ignoreNextClick=0;b.addClsWithUI(b.menuActiveCls);b.fireEvent("menushow",b,b.menu)},onMenuHide:function(c){var b=this;b.removeClsWithUI(b.menuActiveCls);b.ignoreNextClick=a.defer(b.restoreClick,250,b);b.fireEvent("menuhide",b,b.menu)},restoreClick:function(){this.ignoreNextClick=0},onDownKey:function(){var b=this;if(!b.disabled){if(b.menu){b.showMenu()}}},getPersistentBtnPadding:function(){var b=a.button.Button,f=b.persistentPadding,d,c,e,g;if(!f){f=b.persistentPadding=[0,0,0,0];if(!a.isIE){d=a.create("Ext.button.Button",{renderTo:a.getBody(),text:"test",style:"position:absolute;top:-999px;"});e=d.btnEl;g=d.btnInnerEl;e.setSize(null,null);c=g.getOffsetsTo(e);f[0]=c[1];f[1]=e.getWidth()-g.getWidth()-c[0];f[2]=e.getHeight()-g.getHeight()-c[1];f[3]=c[0];d.destroy()}}return f}},function(){var b={},f,e,c;function d(g,h){if(h){f=b[g.toggleGroup];for(e=0,c=f.length;e<c;e++){if(f[e]!==g){f[e].toggle(false)}}}}a.ButtonToggleManager={register:function(g){if(!g.toggleGroup){return}var h=b[g.toggleGroup];if(!h){h=b[g.toggleGroup]=[]}h.push(g);g.on("toggle",d)},unregister:function(g){if(!g.toggleGroup){return}var h=b[g.toggleGroup];if(h){a.Array.remove(h,g);g.un("toggle",d)}},getPressed:function(l){var k=b[l],j=0,h;if(k){for(h=k.length;j<h;j++){if(k[j].pressed===true){return k[j]}}}return null}}});a.define("Ext.layout.container.boxOverflow.Menu",{extend:"Ext.layout.container.boxOverflow.None",requires:["Ext.toolbar.Separator","Ext.button.Button"],alternateClassName:"Ext.layout.boxOverflow.Menu",noItemsMenuText:'<div class="'+a.baseCSSPrefix+'toolbar-no-items">(None)</div>',constructor:function(c){var b=this;b.callParent(arguments);c.beforeLayout=a.Function.createInterceptor(c.beforeLayout,this.clearOverflow,this);b.afterCtCls=b.afterCtCls||a.baseCSSPrefix+"box-menu-"+c.parallelAfter;b.menuItems=[]},onRemove:function(b){a.Array.remove(this.menuItems,b)},handleOverflow:function(b,h){var g=this,f=g.layout,d="get"+f.parallelPrefixCap,c={},e=[null,null];g.callParent(arguments);this.createMenu(b,h);c[f.perpendicularPrefix]=h[f.perpendicularPrefix];c[f.parallelPrefix]=h[f.parallelPrefix]-g.afterCt[d]();e[f.perpendicularSizeIndex]=(b.meta.maxSize-g.menuTrigger["get"+f.perpendicularPrefixCap]())/2;g.menuTrigger.setPosition.apply(g.menuTrigger,e);return{targetSize:c}},clearOverflow:function(b,j){var h=this,g=j?j.width+(h.afterCt?h.afterCt.getWidth():0):0,c=h.menuItems,d=0,f=c.length,e;h.hideTrigger();for(;d<f;d++){c[d].show()}c.length=0;return j?{targetSize:{height:j.height,width:g}}:null},showTrigger:function(){this.menuTrigger.show()},hideTrigger:function(){if(this.menuTrigger!==undefined){this.menuTrigger.hide()}},beforeMenuShow:function(j){var h=this,c=h.menuItems,e=0,b=c.length,g,f;var d=function(k,i){return k.isXType("buttongroup")&&!(i instanceof a.toolbar.Separator)};h.clearMenu();j.removeAll();for(;e<b;e++){g=c[e];if(!e&&(g instanceof a.toolbar.Separator)){continue}if(f&&(d(g,f)||d(f,g))){j.add("-")}h.addComponentToMenu(j,g);f=g}if(j.items.length<1){j.add(h.noItemsMenuText)}},createMenuConfig:function(d,b){var c=a.apply({},d.initialConfig),e=d.toggleGroup;a.copyTo(c,d,["iconCls","icon","itemId","disabled","handler","scope","menu"]);a.apply(c,{text:d.overflowText||d.text,hideOnClick:b,destroyMenu:false});if(e||d.enableToggle){a.apply(c,{group:e,checked:d.pressed,listeners:{checkchange:function(g,f){d.toggle(f)}}})}delete c.ownerCt;delete c.xtype;delete c.id;return c},addComponentToMenu:function(d,b){var c=this;if(b instanceof a.toolbar.Separator){d.add("-")}else{if(b.isComponent){if(b.isXType("splitbutton")){d.add(c.createMenuConfig(b,true))}else{if(b.isXType("button")){d.add(c.createMenuConfig(b,!b.menu))}else{if(b.isXType("buttongroup")){b.items.each(function(e){c.addComponentToMenu(d,e)})}else{d.add(a.create(a.getClassName(b),c.createMenuConfig(b)))}}}}}},clearMenu:function(){var b=this.moreMenu;if(b&&b.items){b.items.each(function(c){if(c.menu){delete c.menu}})}},createMenu:function(b,d){var l=this,j=l.layout,m=j.parallelBefore,f=j.parallelPrefix,c=d[f],h=b.boxes,e=0,k=h.length,g;if(!l.menuTrigger){l.createInnerElements();l.menu=a.create("Ext.menu.Menu",{hideMode:"offsets",listeners:{scope:l,beforeshow:l.beforeMenuShow}});l.menuTrigger=a.create("Ext.button.Button",{ownerCt:l.layout.owner,iconCls:a.baseCSSPrefix+j.owner.getXType()+"-more-icon",ui:j.owner instanceof a.toolbar.Toolbar?"default-toolbar":"default",menu:l.menu,getSplitCls:function(){return""},renderTo:l.afterCt})}l.showTrigger();c-=l.afterCt.getWidth();l.menuItems.length=0;for(;e<k;e++){g=h[e];if(g[m]+g[f]>c){l.menuItems.push(g.component);g.component.hide()}}},createInnerElements:function(){var b=this,c=b.layout.getRenderTarget();if(!this.afterCt){c.addCls(a.baseCSSPrefix+b.layout.direction+"-box-overflow-body");this.afterCt=c.insertSibling({cls:a.layout.container.Box.prototype.innerCls+" "+this.afterCtCls},"before")}},destroy:function(){a.destroy(this.menu,this.menuTrigger)}});a.define("Ext.dd.DragDropManager",{singleton:true,requires:["Ext.util.Region"],uses:["Ext.tip.QuickTipManager"],alternateClassName:["Ext.dd.DragDropMgr","Ext.dd.DDM"],ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:true,stopPropagation:true,initialized:false,locked:false,init:function(){this.initialized=true},POINT:0,INTERSECT:1,mode:0,_execOnAll:function(d,c){for(var e in this.ids){for(var b in this.ids[e]){var f=this.ids[e][b];if(!this.isTypeOfDD(f)){continue}f[d].apply(f,c)}}},_onLoad:function(){this.init();var b=a.EventManager;b.on(document,"mouseup",this.handleMouseUp,this,true);b.on(document,"mousemove",this.handleMouseMove,this,true);b.on(window,"unload",this._onUnload,this,true);b.on(window,"resize",this._onResize,this,true)},_onResize:function(b){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=true},unlock:function(){this.locked=false},isLocked:function(){return this.locked},locationCache:{},useCache:true,clickPixelThresh:3,clickTimeThresh:350,dragThreshMet:false,clickTimeout:null,startX:0,startY:0,regDragDrop:function(c,b){if(!this.initialized){this.init()}if(!this.ids[b]){this.ids[b]={}}this.ids[b][c.id]=c},removeDDFromGroup:function(d,b){if(!this.ids[b]){this.ids[b]={}}var c=this.ids[b];if(c&&c[d.id]){delete c[d.id]}},_remove:function(c){for(var b in c.groups){if(b&&this.ids[b]&&this.ids[b][c.id]){delete this.ids[b][c.id]}}delete this.handleIds[c.id]},regHandle:function(c,b){if(!this.handleIds[c]){this.handleIds[c]={}}this.handleIds[c][b]=b},isDragDrop:function(b){return(this.getDDById(b))?true:false},getRelated:function(g,c){var f=[];for(var e in g.groups){for(var d in this.ids[e]){var b=this.ids[e][d];if(!this.isTypeOfDD(b)){continue}if(!c||b.isTarget){f[f.length]=b}}}return f},isLegalTarget:function(f,e){var c=this.getRelated(f,true);for(var d=0,b=c.length;d<b;++d){if(c[d].id==e.id){return true}}return false},isTypeOfDD:function(b){return(b&&b.__ygDragDrop)},isHandle:function(c,b){return(this.handleIds[c]&&this.handleIds[c][b])},getDDById:function(c){for(var b in this.ids){if(this.ids[b][c]){return this.ids[b][c]}}return null},handleMouseDown:function(d,c){if(a.tip.QuickTipManager){a.tip.QuickTipManager.ddDisable()}if(this.dragCurrent){this.handleMouseUp(d)}this.currentTarget=d.getTarget();this.dragCurrent=c;var b=c.getEl();this.startX=d.getPageX();this.startY=d.getPageY();this.deltaX=this.startX-b.offsetLeft;this.deltaY=this.startY-b.offsetTop;this.dragThreshMet=false;this.clickTimeout=setTimeout(function(){var e=a.dd.DragDropManager;e.startDrag(e.startX,e.startY)},this.clickTimeThresh)},startDrag:function(b,c){clearTimeout(this.clickTimeout);if(this.dragCurrent){this.dragCurrent.b4StartDrag(b,c);this.dragCurrent.startDrag(b,c)}this.dragThreshMet=true},handleMouseUp:function(b){if(a.tip.QuickTipManager){a.tip.QuickTipManager.ddEnable()}if(!this.dragCurrent){return}clearTimeout(this.clickTimeout);if(this.dragThreshMet){this.fireEvents(b,true)}else{}this.stopDrag(b);this.stopEvent(b)},stopEvent:function(b){if(this.stopPropagation){b.stopPropagation()}if(this.preventDefault){b.preventDefault()}},stopDrag:function(b){if(this.dragCurrent){if(this.dragThreshMet){this.dragCurrent.b4EndDrag(b);this.dragCurrent.endDrag(b)}this.dragCurrent.onMouseUp(b)}this.dragCurrent=null;this.dragOvers={}},handleMouseMove:function(d){if(!this.dragCurrent){return true}if(a.isIE&&(d.button!==0&&d.button!==1&&d.button!==2)){this.stopEvent(d);return this.handleMouseUp(d)}if(!this.dragThreshMet){var c=Math.abs(this.startX-d.getPageX());var b=Math.abs(this.startY-d.getPageY());if(c>this.clickPixelThresh||b>this.clickPixelThresh){this.startDrag(this.startX,this.startY)}}if(this.dragThreshMet){this.dragCurrent.b4Drag(d);this.dragCurrent.onDrag(d);if(!this.dragCurrent.moveOnly){this.fireEvents(d,false)}}this.stopEvent(d);return true},fireEvents:function(m,n){var q=this.dragCurrent;if(!q||q.isLocked()){return}var r=m.getPoint();var b=[];var f=[];var k=[];var h=[];var d=[];for(var g in this.dragOvers){var c=this.dragOvers[g];if(!this.isTypeOfDD(c)){continue}if(!this.isOverTarget(r,c,this.mode)){f.push(c)}b[g]=true;delete this.dragOvers[g]}for(var p in q.groups){if("string"!=typeof p){continue}for(g in this.ids[p]){var j=this.ids[p][g];if(!this.isTypeOfDD(j)){continue}if(j.isTarget&&!j.isLocked()&&((j!=q)||(q.ignoreSelf===false))){if(this.isOverTarget(r,j,this.mode)){if(n){h.push(j)}else{if(!b[j.id]){d.push(j)}else{k.push(j)}this.dragOvers[j.id]=j}}}}}if(this.mode){if(f.length){q.b4DragOut(m,f);q.onDragOut(m,f)}if(d.length){q.onDragEnter(m,d)}if(k.length){q.b4DragOver(m,k);q.onDragOver(m,k)}if(h.length){q.b4DragDrop(m,h);q.onDragDrop(m,h)}}else{var l=0;for(g=0,l=f.length;g<l;++g){q.b4DragOut(m,f[g].id);q.onDragOut(m,f[g].id)}for(g=0,l=d.length;g<l;++g){q.onDragEnter(m,d[g].id)}for(g=0,l=k.length;g<l;++g){q.b4DragOver(m,k[g].id);q.onDragOver(m,k[g].id)}for(g=0,l=h.length;g<l;++g){q.b4DragDrop(m,h[g].id);q.onDragDrop(m,h[g].id)}}if(n&&!h.length){q.onInvalidDrop(m)}},getBestMatch:function(d){var f=null;var c=d.length;if(c==1){f=d[0]}else{for(var e=0;e<c;++e){var b=d[e];if(b.cursorIsOver){f=b;break}else{if(!f||f.overlap.getArea()<b.overlap.getArea()){f=b}}}}return f},refreshCache:function(c){for(var b in c){if("string"!=typeof b){continue}for(var d in this.ids[b]){var e=this.ids[b][d];if(this.isTypeOfDD(e)){var f=this.getLocation(e);if(f){this.locationCache[e.id]=f}else{delete this.locationCache[e.id]}}}}},verifyEl:function(c){if(c){var b;if(a.isIE){try{b=c.offsetParent}catch(d){}}else{b=c.offsetParent}if(b){return true}}return false},getLocation:function(i){if(!this.isTypeOfDD(i)){return null}if(i.getRegion){return i.getRegion()}var g=i.getEl(),m,f,d,p,n,q,c,k,h;try{m=a.core.Element.getXY(g)}catch(j){}if(!m){return null}f=m[0];d=f+g.offsetWidth;p=m[1];n=p+g.offsetHeight;q=p-i.padding[0];c=d+i.padding[1];k=n+i.padding[2];h=f-i.padding[3];return a.create("Ext.util.Region",q,c,k,h)},isOverTarget:function(j,b,d){var f=this.locationCache[b.id];if(!f||!this.useCache){f=this.getLocation(b);this.locationCache[b.id]=f}if(!f){return false}b.cursorIsOver=f.contains(j);var i=this.dragCurrent;if(!i||!i.getTargetCoord||(!d&&!i.constrainX&&!i.constrainY)){return b.cursorIsOver}b.overlap=null;var g=i.getTargetCoord(j.x,j.y);var c=i.getDragEl();var e=a.create("Ext.util.Region",g.y,g.x+c.offsetWidth,g.y+c.offsetHeight,g.x);var h=e.intersect(f);if(h){b.overlap=h;return(d)?true:b.cursorIsOver}else{return false}},_onUnload:function(c,b){a.dd.DragDropManager.unregAll()},unregAll:function(){if(this.dragCurrent){this.stopDrag();this.dragCurrent=null}this._execOnAll("unreg",[]);for(var b in this.elementCache){delete this.elementCache[b]}this.elementCache={};this.ids={}},elementCache:{},getElWrapper:function(c){var b=this.elementCache[c];if(!b||!b.el){b=this.elementCache[c]=new this.ElementWrapper(a.getDom(c))}return b},getElement:function(b){return a.getDom(b)},getCss:function(c){var b=a.getDom(c);return(b)?b.style:null},ElementWrapper:function(b){this.el=b||null;this.id=this.el&&b.id;this.css=this.el&&b.style},getPosX:function(b){return a.core.Element.getX(b)},getPosY:function(b){return a.core.Element.getY(b)},swapNode:function(d,b){if(d.swapNode){d.swapNode(b)}else{var e=b.parentNode;var c=b.nextSibling;if(c==d){e.insertBefore(d,b)}else{if(b==d.nextSibling){e.insertBefore(b,d)}else{d.parentNode.replaceChild(b,d);e.insertBefore(d,c)}}}},getScroll:function(){var e=window.document,f=e.documentElement,b=e.body,d=0,c=0;if(a.isGecko4){d=window.scrollYOffset;c=window.scrollXOffset}else{if(f&&(f.scrollTop||f.scrollLeft)){d=f.scrollTop;c=f.scrollLeft}else{if(b){d=b.scrollTop;c=b.scrollLeft}}}return{top:d,left:c}},getStyle:function(c,b){return a.fly(c).getStyle(b)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(b,d){var c=a.core.Element.getXY(d);a.core.Element.setXY(b,c)},numericSort:function(d,c){return(d-c)},_timeoutCount:0,_addListeners:function(){if(document){this._onLoad()}else{if(this._timeoutCount>2000){}else{setTimeout(this._addListeners,10);if(document&&document.body){this._timeoutCount+=1}}}},handleWasClicked:function(b,d){if(this.isHandle(d,b.id)){return true}else{var c=b.parentNode;while(c){if(this.isHandle(d,c.id)){return true}else{c=c.parentNode}}}return false}},function(){this._addListeners()});a.define("Ext.layout.container.Box",{alias:["layout.box"],extend:"Ext.layout.container.Container",alternateClassName:"Ext.layout.BoxLayout",requires:["Ext.layout.container.boxOverflow.None","Ext.layout.container.boxOverflow.Menu","Ext.layout.container.boxOverflow.Scroller","Ext.util.Format","Ext.dd.DragDropManager"],defaultMargins:{top:0,right:0,bottom:0,left:0},padding:"0",pack:"start",type:"box",scrollOffset:0,itemCls:a.baseCSSPrefix+"box-item",targetCls:a.baseCSSPrefix+"box-layout-ct",innerCls:a.baseCSSPrefix+"box-inner",bindToOwnerCtContainer:true,fixedLayout:false,availableSpaceOffset:0,reserveOffset:true,clearInnerCtOnLayout:false,flexSortFn:function(d,c){var e="max"+this.parallelPrefixCap,f=Infinity;d=d.component[e]||f;c=c.component[e]||f;if(!isFinite(d)&&!isFinite(c)){return false}return d-c},minSizeSortFn:function(d,c){return c.available-d.available},constructor:function(b){var c=this;c.callParent(arguments);c.flexSortFn=a.Function.bind(c.flexSortFn,c);c.initOverflowHandler()},getChildBox:function(b){b=b.el||this.owner.getComponent(b).el;return{left:b.getLeft(true),top:b.getTop(true),width:b.getWidth(),height:b.getHeight()}},calculateChildBox:function(f){var e=this,c=e.calculateChildBoxes(e.getVisibleItems(),e.getLayoutTargetSize()).boxes,d=c.length,b=0;f=e.owner.getComponent(f);for(;b<d;b++){if(c[b].component===f){return c[b]}}},calculateChildBoxes:function(r,c){var z=this,L=Math,m=L.max,q=Infinity,x,u=z.parallelPrefix,p=z.parallelPrefixCap,O=z.perpendicularPrefix,v=z.perpendicularPrefixCap,E="min"+p,H="min"+v,al="max"+v,d=c[u]-z.scrollOffset,ab=c[O],ag=z.padding,t=ag[z.parallelBefore],w=t+ag[z.parallelAfter],R=ag[z.perpendicularLeftTop],M=R+ag[z.perpendicularRightBottom],aj=m(0,ab-M),ad=z.pack=="start",ao=z.pack=="center",G=z.pack=="end",af=a.Number.constrain,P=r.length,e=0,ak=0,am=0,y=0,I=0,S=[],N=[],ai,ah,j,ac,C,D,an,aa,Y,Z,n,f,B,K,A,Q,k,T,ae,g,F,V,b,s,l,J,U,X,h,W;for(ah=0;ah<P;ah++){j=r[ah];C=j[O];z.layoutItem(j);D=j.margins;J=D[z.parallelBefore]+D[z.parallelAfter];Y={component:j,margins:D};if(j.flex){ak+=j.flex;ac=x}else{if(!(j[u]&&C)){an=j.getSize()}ac=j[u]||an[u];C=C||an[O]}e+=J+(ac||0);am+=J+(j.flex?j[E]||0:ac);y+=J+(j[E]||ac||0);if(typeof C!="number"){C=j["get"+v]()}I=m(I,C+D[z.perpendicularLeftTop]+D[z.perpendicularRightBottom]);Y[u]=ac||x;Y[O]=C||x;S.push(Y)}Z=am-d;n=y>d;f=m(0,d-e-w-(z.reserveOffset?z.availableSpaceOffset:0));if(n){for(ah=0;ah<P;ah++){k=S[ah];B=r[ah][E]||r[ah][u]||k[u];k.dirtySize=k.dirtySize||k[u]!=B;k[u]=B}}else{if(Z>0){for(ah=0;ah<P;ah++){K=r[ah];B=K[E]||0;if(K.flex){k=S[ah];k.dirtySize=k.dirtySize||k[u]!=B;k[u]=B}else{N.push({minSize:B,available:S[ah][u]-B,index:ah})}}a.Array.sort(N,z.minSizeSortFn);for(ah=0,A=N.length;ah<A;ah++){Q=N[ah].index;if(Q==x){continue}K=r[Q];B=N[ah].minSize;k=S[Q];T=k[u];ae=m(B,T-L.ceil(Z/(A-ah)));g=T-ae;k.dirtySize=k.dirtySize||k[u]!=ae;k[u]=ae;Z-=g}}else{b=f;s=ak;V=[];for(ah=0;ah<P;ah++){j=r[ah];if(ad&&j.flex){V.push(S[a.Array.indexOf(r,j)])}}a.Array.sort(V,z.flexSortFn);for(ah=0;ah<V.length;ah++){U=V[ah];j=U.component;D=U.margins;l=L.ceil((j.flex/s)*b);l=Math.max(j["min"+p]||0,L.min(j["max"+p]||q,l));b-=l;s-=j.flex;U.dirtySize=U.dirtySize||U[u]!=l;U[u]=l}}}if(ao){t+=f/2}else{if(G){t+=f}}if(z.owner.dock&&(a.isIE6||a.isIE7||a.isIEQuirks)&&!z.owner.width&&z.direction=="vertical"){ai=I+z.owner.el.getPadding("lr")+z.owner.el.getBorderWidth("lr");if(z.owner.frameSize){ai+=z.owner.frameSize.left+z.owner.frameSize.right}aj=Math.min(aj,c.width=I+ag.left+ag.right)}for(ah=0;ah<P;ah++){j=r[ah];U=S[ah];D=U.margins;h=D[z.perpendicularLeftTop]+D[z.perpendicularRightBottom];t+=D[z.parallelBefore];U[z.parallelBefore]=t;U[z.perpendicularLeftTop]=R+D[z.perpendicularLeftTop];if(z.align=="stretch"){W=af(aj-h,j[H]||0,j[al]||q);U.dirtySize=U.dirtySize||U[O]!=W;U[O]=W}else{if(z.align=="stretchmax"){W=af(I-h,j[H]||0,j[al]||q);U.dirtySize=U.dirtySize||U[O]!=W;U[O]=W}else{if(z.align==z.alignCenteringString){F=m(aj,I)-z.innerCt.getBorderWidth(z.perpendicularLT+z.perpendicularRB)-U[O];if(F>0){U[z.perpendicularLeftTop]=R+Math.round(F/2)}}}}t+=(U[u]||0)+D[z.parallelAfter]}return{boxes:S,meta:{calculatedWidth:ai,maxSize:I,nonFlexSize:e,desiredSize:am,minimumSize:y,shortfall:Z,tooNarrow:n}}},onRemove:function(b){this.callParent(arguments);if(this.overflowHandler){this.overflowHandler.onRemove(b)}},initOverflowHandler:function(){var d=this.overflowHandler;if(typeof d=="string"){d={type:d}}var c="None";if(d&&d.type!==undefined){c=d.type}var b=a.layout.container.boxOverflow[c];if(b[this.type]){b=b[this.type]}this.overflowHandler=a.create("Ext.layout.container.boxOverflow."+c,this,d)},onLayout:function(){this.callParent();if(this.clearInnerCtOnLayout===true&&this.adjustmentPass!==true){this.innerCt.setSize(null,null)}var h=this,d=h.getLayoutTargetSize(),g=h.getVisibleItems(),c=h.calculateChildBoxes(g,d),f=c.boxes,i=c.meta,j,b,e;if(h.autoSize&&c.meta.desiredSize){d[h.parallelPrefix]=c.meta.desiredSize}if(i.shortfall>0){j=h.overflowHandler;b=i.tooNarrow?"handleOverflow":"clearOverflow";e=j[b](c,d);if(e){if(e.targetSize){d=e.targetSize}if(e.recalculate){g=h.getVisibleItems(owner);c=h.calculateChildBoxes(g,d);f=c.boxes}}}else{h.overflowHandler.clearOverflow()}h.layoutTargetLastSize=d;h.childBoxCache=c;h.updateInnerCtSize(d,c);h.updateChildBoxes(f);h.handleTargetOverflow(d)},updateChildBoxes:function(h){var m=this,f=0,d=h.length,q=[],p=a.dd.DDM.getDDById(m.innerCt.id),b,g,e,j,k,c;for(;f<d;f++){g=h[f];j=g.component;if(p&&(p.getDragEl()===j.el.dom)){continue}e=false;b=m.getChildBox(j);if(m.animate){c=m.animate.callback||m.animate;k={layoutAnimation:true,target:j,from:{},to:{},listeners:{}};if(!isNaN(g.width)&&(g.width!=b.width)){e=true;k.to.width=g.width}if(!isNaN(g.height)&&(g.height!=b.height)){e=true;k.to.height=g.height}if(!isNaN(g.left)&&(g.left!=b.left)){e=true;k.to.left=g.left}if(!isNaN(g.top)&&(g.top!=b.top)){e=true;k.to.top=g.top}if(e){q.push(k)}}else{if(g.dirtySize){if(g.width!==b.width||g.height!==b.height){m.setItemSize(j,g.width,g.height)}}if(isNaN(g.left)||isNaN(g.top)){continue}j.setPosition(g.left,g.top)}}d=q.length;if(d){var n=function(i){d-=1;if(!d){m.layoutBusy=false;if(a.isFunction(c)){c()}}};var l=function(){m.layoutBusy=true};for(f=0,d=q.length;f<d;f++){k=q[f];k.listeners.afteranimate=n;if(!f){k.listeners.beforeanimate=l}if(m.animate.duration){k.duration=m.animate.duration}j=k.target;delete k.target;j.stopAnimation();j.animate(k)}}},updateInnerCtSize:function(d,b){var h=this,f=Math.max,g=h.align,i=h.padding,c=d.width,k=d.height,l=b.meta,e,j;if(h.direction=="horizontal"){e=c;j=l.maxSize+i.top+i.bottom+h.innerCt.getBorderWidth("tb");if(g=="stretch"){j=k}else{if(g=="middle"){j=f(k,j)}}}else{j=k;e=l.maxSize+i.left+i.right+h.innerCt.getBorderWidth("lr");if(g=="stretch"){e=c}else{if(g=="center"){e=f(c,e)}}}h.getRenderTarget().setSize(e||undefined,j||undefined);if(l.calculatedWidth&&h.owner.el.getWidth()>l.calculatedWidth){h.owner.el.setWidth(l.calculatedWidth)}if(h.innerCt.dom.scrollTop){h.innerCt.dom.scrollTop=0}},handleTargetOverflow:function(d){var c=this.getTarget(),e=c.getStyle("overflow"),b;if(e&&e!="hidden"&&!this.adjustmentPass){b=this.getLayoutTargetSize();if(b.width!=d.width||b.height!=d.height){this.adjustmentPass=true;this.onLayout();return true}}delete this.adjustmentPass},isValidParent:function(d,e,b){var c=d.el?d.el.dom:a.getDom(d);return(c&&this.innerCt&&c.parentNode===this.innerCt.dom)||false},getRenderTarget:function(){if(!this.innerCt){this.innerCt=this.getTarget().createChild({cls:this.innerCls,role:"presentation"});this.padding=a.util.Format.parseBox(this.padding)}return this.innerCt},renderItem:function(e,g){this.callParent(arguments);var d=this,b=e.getEl(),c=b.dom.style,f=e.margins||e.margin;if(f){if(a.isString(f)||a.isNumber(f)){f=a.util.Format.parseBox(f)}else{a.applyIf(f,{top:0,right:0,bottom:0,left:0})}}else{f=a.apply({},d.defaultMargins)}f.top+=b.getMargin("t");f.right+=b.getMargin("r");f.bottom+=b.getMargin("b");f.left+=b.getMargin("l");c.marginTop=c.marginRight=c.marginBottom=c.marginLeft="0";e.margins=f},destroy:function(){a.destroy(this.overflowHandler);this.callParent(arguments)}});a.define("Ext.layout.container.HBox",{alias:["layout.hbox"],extend:"Ext.layout.container.Box",alternateClassName:"Ext.layout.HBoxLayout",align:"top",alignCenteringString:"middle",type:"hbox",direction:"horizontal",parallelSizeIndex:0,perpendicularSizeIndex:1,parallelPrefix:"width",parallelPrefixCap:"Width",parallelLT:"l",parallelRB:"r",parallelBefore:"left",parallelBeforeCap:"Left",parallelAfter:"right",parallelPosition:"x",perpendicularPrefix:"height",perpendicularPrefixCap:"Height",perpendicularLT:"t",perpendicularRB:"b",perpendicularLeftTop:"top",perpendicularRightBottom:"bottom",perpendicularPosition:"y"});a.define("Ext.layout.container.VBox",{alias:["layout.vbox"],extend:"Ext.layout.container.Box",alternateClassName:"Ext.layout.VBoxLayout",align:"left",alignCenteringString:"center",type:"vbox",direction:"vertical",parallelSizeIndex:1,perpendicularSizeIndex:0,parallelPrefix:"height",parallelPrefixCap:"Height",parallelLT:"t",parallelRB:"b",parallelBefore:"top",parallelBeforeCap:"Top",parallelAfter:"bottom",parallelPosition:"y",perpendicularPrefix:"width",perpendicularPrefixCap:"Width",perpendicularLT:"l",perpendicularRB:"r",perpendicularLeftTop:"left",perpendicularRightBottom:"right",perpendicularPosition:"x"});a.define("Ext.FocusManager",{singleton:true,alternateClassName:"Ext.FocusMgr",mixins:{observable:"Ext.util.Observable"},requires:["Ext.ComponentManager","Ext.ComponentQuery","Ext.util.HashMap","Ext.util.KeyNav"],enabled:false,focusElementCls:a.baseCSSPrefix+"focus-element",focusFrameCls:a.baseCSSPrefix+"focus-frame",whitelist:["textfield"],tabIndexWhitelist:["a","button","embed","frame","iframe","img","input","object","select","textarea"],constructor:function(){var b=this,c=a.ComponentQuery;b.addEvents("beforecomponentfocus","componentfocus","disable","enable");b.keyNav=a.create("Ext.util.KeyNav",a.getDoc(),{disabled:true,scope:b,backspace:b.focusLast,enter:b.navigateIn,esc:b.navigateOut,tab:b.navigateSiblings});b.focusData={};b.subscribers=a.create("Ext.util.HashMap");b.focusChain={};a.apply(c.pseudos,{focusable:function(f){var d=f.length,h=[],g=0,j,e=function(i){return i&&i.focusable!==false&&c.is(i,"[rendered]:not([destroying]):not([isDestroyed]):not([disabled]){isVisible(true)}{el && c.el.dom && c.el.isVisible()}")};for(;g<d;g++){j=f[g];if(e(j)){h.push(j)}}return h},nextFocus:function(f,e,h){h=h||1;e=parseInt(e,10);var d=f.length,g=e+h,j;for(;g!=e;g+=h){if(g>=d){g=0}else{if(g<0){g=d-1}}j=f[g];if(c.is(j,":focusable")){return[j]}else{if(j.placeholder&&c.is(j.placeholder,":focusable")){return[j.placeholder]}}}return[]},prevFocus:function(e,d){return this.nextFocus(e,d,-1)},root:function(e){var d=e.length,g=[],f=0,h;for(;f<d;f++){h=e[f];if(!h.ownerCt){g.push(h)}}return g}})},addXTypeToWhitelist:function(c){var b=this;if(a.isArray(c)){a.Array.forEach(c,b.addXTypeToWhitelist,b);return}if(!a.Array.contains(b.whitelist,c)){b.whitelist.push(c)}},clearComponent:function(b){clearTimeout(this.cmpFocusDelay);if(!b.isDestroyed){b.blur()}},disable:function(){var b=this;if(!b.enabled){return}delete b.options;b.enabled=false;a.ComponentManager.all.un("add",b.onComponentCreated,b);b.removeDOM();b.keyNav.disable();b.setFocusAll(false);b.fireEvent("disable",b)},enable:function(b){var c=this;if(b===true){b={focusFrame:true}}c.options=b=b||{};if(c.enabled){return}a.ComponentManager.all.on("add",c.onComponentCreated,c);c.initDOM(b);c.keyNav.enable();c.setFocusAll(true,b);c.focusEl.focus();delete c.focusedCmp;c.enabled=true;c.fireEvent("enable",c)},focusLast:function(c){var b=this;if(b.isWhitelisted(b.focusedCmp)){return true}if(b.previousFocusedCmp){b.previousFocusedCmp.focus()}},getRootComponents:function(){var b=this,d=a.ComponentQuery,c=d.query(":focusable:root:not([floating])"),e=d.query(":focusable:root[floating]");e.sort(function(g,f){return g.el.getZIndex()>f.el.getZIndex()});return e.concat(c)},initDOM:function(c){var d=this,e="&#160",b=d.focusFrameCls;if(!a.isReady){a.onReady(d.initDOM,d);return}if(!d.focusEl){d.focusEl=a.getBody().createChild({tabIndex:"-1",cls:d.focusElementCls,html:e})}if(!d.focusFrame&&c.focusFrame){d.focusFrame=a.getBody().createChild({cls:b,children:[{cls:b+"-top"},{cls:b+"-bottom"},{cls:b+"-left"},{cls:b+"-right"}],style:"top: -100px; left: -100px;"});d.focusFrame.setVisibilityMode(a.core.Element.DISPLAY);d.focusFrameWidth=d.focusFrame.child("."+b+"-top").getHeight();d.focusFrame.hide().setLeftTop(0,0)}},isWhitelisted:function(b){return b&&a.Array.some(this.whitelist,function(c){return b.isXType(c)})},navigateIn:function(f){var c=this,b=c.focusedCmp,g,d;if(!b){g=c.getRootComponents();if(g.length){g[0].focus()}}else{d=a.ComponentQuery.query(">:focusable",b)[0];if(d){d.focus()}else{if(a.isFunction(b.onClick)){f.button=0;b.onClick(f);b.focus()}}}},navigateOut:function(d){var c=this,b;if(!c.focusedCmp||!(b=c.focusedCmp.up(":focusable"))){c.focusEl.focus();return}b.focus()},navigateSiblings:function(i,c,n){var j=this,b=c||j,p=i.getKey(),g=a.EventObject,k=i.shiftKey||p==g.LEFT||p==g.UP,d=p==g.LEFT||p==g.RIGHT||p==g.UP||p==g.DOWN,h=k?"prev":"next",m,f,l;l=(b.focusedCmp&&b.focusedCmp.comp)||b.focusedCmp;if(!l&&!n){return}if(d&&j.isWhitelisted(l)){return true}n=n||l.up();if(n){m=l?a.Array.indexOf(n.getRefItems(),l):-1;f=a.ComponentQuery.query(">:"+h+"Focus("+m+")",n)[0];if(f&&l!==f){f.focus();return f}}},onComponentBlur:function(c,d){var b=this;if(b.focusedCmp===c){b.previousFocusedCmp=c;delete b.focusedCmp}if(b.focusFrame){b.focusFrame.hide()}},onComponentCreated:function(c,d,b){this.setFocus(b,true,this.options)},onComponentDestroy:function(b){this.setFocus(b,false)},onComponentFocus:function(p,l){var m=this,b=m.focusChain;if(!a.ComponentQuery.is(p,":focusable")){m.clearComponent(p);if(b[p.id]){return}var r=p.up();if(r){b[p.id]=true;r.focus()}return}m.focusChain={};clearTimeout(m.cmpFocusDelay);if(arguments.length!==2){m.cmpFocusDelay=a.defer(m.onComponentFocus,90,m,[p,l]);return}if(m.fireEvent("beforecomponentfocus",m,p,m.previousFocusedCmp)===false){m.clearComponent(p);return}m.focusedCmp=p;if(m.shouldShowFocusFrame(p)){var t="."+m.focusFrameCls+"-",c=m.focusFrame,g=m.focusFrameWidth,j=p.el.getPageBox(),s=j.top,d=j.left,n=j.width,h=j.height,i=c.child(t+"top"),f=c.child(t+"bottom"),q=c.child(t+"left"),k=c.child(t+"right");i.setWidth(n-2).setLeftTop(d+1,s);f.setWidth(n-2).setLeftTop(d+1,s+h-g);q.setHeight(h-2).setLeftTop(d,s+1);k.setHeight(h-2).setLeftTop(d+n-g,s+1);c.show()}m.fireEvent("componentfocus",m,p,m.previousFocusedCmp)},onComponentHide:function(f){var e=this,g=a.ComponentQuery,c=false,b,d;if(e.focusedCmp){b=g.query("[id="+e.focusedCmp.id+"]",f)[0];c=e.focusedCmp.id===f.id||b;if(b){e.clearComponent(b)}}e.clearComponent(f);if(c){d=g.query("^:focusable",f)[0];if(d){d.focus()}}},removeDOM:function(){var b=this;if(b.enabled||b.subscribers.length){return}a.destroy(b.focusEl,b.focusFrame);delete b.focusEl;delete b.focusFrame;delete b.focusFrameWidth},removeXTypeFromWhitelist:function(c){var b=this;if(a.isArray(c)){a.Array.forEach(c,b.removeXTypeFromWhitelist,b);return}a.Array.remove(b.whitelist,c)},setFocus:function(f,i,c){var e=this,d,h,g,b=function(j){return !a.Array.contains(e.tabIndexWhitelist,j.tagName.toLowerCase())&&j.tabIndex<=0};c=c||{};if(!f.rendered){f.on("afterrender",a.pass(e.setFocus,arguments,e),e,{single:true});return}d=f.getFocusEl();h=d.dom;if((i&&!e.focusData[f.id])||(!i&&e.focusData[f.id])){if(i){g={focusFrame:c.focusFrame};if(b(h)){g.tabIndex=h.tabIndex;h.tabIndex=-1}d.on({focus:g.focusFn=a.bind(e.onComponentFocus,e,[f],0),blur:g.blurFn=a.bind(e.onComponentBlur,e,[f],0),scope:e});f.on({hide:e.onComponentHide,close:e.onComponentHide,beforedestroy:e.onComponentDestroy,scope:e});e.focusData[f.id]=g}else{g=e.focusData[f.id];if("tabIndex" in g){h.tabIndex=g.tabIndex}d.un("focus",g.focusFn,e);d.un("blur",g.blurFn,e);f.un("hide",e.onComponentHide,e);f.un("close",e.onComponentHide,e);f.un("beforedestroy",e.onComponentDestroy,e);delete e.focusData[f.id]}}},setFocusAll:function(h,d){var g=this,c=a.ComponentManager.all.getArray(),b=c.length,f,e=0;for(;e<b;e++){g.setFocus(c[e],h,d)}},setupSubscriberKeys:function(b,g){var f=this,e=b.getFocusEl(),d=g.scope,c={backspace:f.focusLast,enter:f.navigateIn,esc:f.navigateOut,scope:f},h=function(i){if(f.focusedCmp===b){return f.navigateSiblings(i,f,b)}else{return f.navigateSiblings(i)}};a.iterate(g,function(j,i){c[j]=function(l){var k=h(l);if(a.isFunction(i)&&i.call(d||b,l,k)===true){return true}return k}},f);return a.create("Ext.util.KeyNav",e,c)},shouldShowFocusFrame:function(d){var c=this,b=c.options||{};if(!c.focusFrame||!d){return false}if(b.focusFrame){return true}if(c.focusData[d.id].focusFrame){return true}return false},subscribe:function(b,d){var g=this,f=a.Array,h={},e=g.subscribers,c=function(i){if(i.isContainer&&!e.containsKey(i.id)){f.forEach(i.query(">"),c);g.setFocus(i,true,d);i.on("add",h.onAdd,g)}else{if(!i.isContainer){g.setFocus(i,true,d)}}};if(!b||!b.isContainer){return}if(!b.rendered){b.on("afterrender",a.pass(g.subscribe,arguments,g),g,{single:true});return}g.initDOM(d);h.keyNav=g.setupSubscriberKeys(b,d.keys);h.onAdd=function(j,k,i){c(k)};b.on("beforedestroy",g.unsubscribe,g);c(b);e.add(b.id,h)},unsubscribe:function(b){var f=this,e=a.Array,d=f.subscribers,g,c=function(h){if(h.isContainer&&!d.containsKey(h.id)){e.forEach(h.query(">"),c);f.setFocus(h,false);h.un("add",g.onAdd,f)}else{if(!h.isContainer){f.setFocus(h,false)}}};if(!b||!d.containsKey(b.id)){return}g=d.get(b.id);g.keyNav.destroy();b.un("beforedestroy",f.unsubscribe,f);d.removeAtKey(b.id);c(b);f.removeDOM()}});a.define("Ext.toolbar.Toolbar",{extend:"Ext.container.Container",requires:["Ext.toolbar.Fill","Ext.layout.container.HBox","Ext.layout.container.VBox","Ext.FocusManager"],uses:["Ext.toolbar.Separator"],alias:"widget.toolbar",alternateClassName:"Ext.Toolbar",isToolbar:true,baseCls:a.baseCSSPrefix+"toolbar",ariaRole:"toolbar",defaultType:"button",vertical:false,enableOverflow:false,trackMenus:true,itemCls:a.baseCSSPrefix+"toolbar-item",initComponent:function(){var c=this,b;if(!c.layout&&c.enableOverflow){c.layout={overflowHandler:"Menu"}}if(c.dock==="right"||c.dock==="left"){c.vertical=true}c.layout=a.applyIf(a.isString(c.layout)?{type:c.layout}:c.layout||{},{type:c.vertical?"vbox":"hbox",align:c.vertical?"stretchmax":"middle"});if(c.vertical){c.addClsWithUI("vertical")}if(c.ui==="footer"){c.ignoreBorderManagement=true}c.callParent();c.addEvents("overflowchange");b=c.vertical?["up","down"]:["left","right"];a.FocusManager.subscribe(c,{keys:b})},lookupComponent:function(d){if(a.isString(d)){var b=a.toolbar.Toolbar.shortcuts[d];if(b){d={xtype:b}}else{d={xtype:"tbtext",text:d}}this.applyDefaults(d)}return this.callParent(arguments)},applyDefaults:function(e){if(!a.isString(e)){e=this.callParent(arguments);var b=this.internalDefaults;if(e.events){a.applyIf(e.initialConfig,b);a.apply(e,b)}else{a.applyIf(e,b)}}return e},trackMenu:function(d,b){if(this.trackMenus&&d.menu){var e=b?"mun":"mon",c=this;c[e](d,"menutriggerover",c.onButtonTriggerOver,c);c[e](d,"menushow",c.onButtonMenuShow,c);c[e](d,"menuhide",c.onButtonMenuHide,c)}},constructButton:function(b){return b.events?b:this.createComponent(b,b.split?"splitbutton":this.defaultType)},onBeforeAdd:function(b){if(b.is("field")||(b.is("button")&&this.ui!="footer")){b.ui=b.ui+"-toolbar"}if(b instanceof a.toolbar.Separator){b.setUI((this.vertical)?"vertical":"horizontal")}this.callParent(arguments)},onAdd:function(b){this.callParent(arguments);this.trackMenu(b);if(this.disabled){b.disable()}},onRemove:function(b){this.callParent(arguments);this.trackMenu(b,true)},onButtonTriggerOver:function(b){if(this.activeMenuBtn&&this.activeMenuBtn!=b){this.activeMenuBtn.hideMenu();b.showMenu();this.activeMenuBtn=b}},onButtonMenuShow:function(b){this.activeMenuBtn=b},onButtonMenuHide:function(b){delete this.activeMenuBtn}},function(){this.shortcuts={"-":"tbseparator"," ":"tbspacer","->":"tbfill"}});a.define("Ext.panel.Header",{extend:"Ext.container.Container",uses:["Ext.panel.Tool","Ext.draw.Component","Ext.util.CSS"],alias:"widget.header",isHeader:true,defaultType:"tool",indicateDrag:false,weight:-1,renderTpl:['<div class="{baseCls}-body<tpl if="bodyCls"> {bodyCls}</tpl><tpl if="uiCls"><tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl></tpl>"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>></div>'],initComponent:function(){var d=this,f,c,b,e;d.indicateDragCls=d.baseCls+"-draggable";d.title=d.title||"&#160;";d.tools=d.tools||[];d.items=d.items||[];d.orientation=d.orientation||"horizontal";d.dock=(d.dock)?d.dock:(d.orientation=="horizontal")?"top":"left";d.addClsWithUI(d.orientation);d.addClsWithUI(d.dock);a.applyIf(d.renderSelectors,{body:"."+d.baseCls+"-body"});if(!a.isEmpty(d.iconCls)){d.initIconCmp();d.items.push(d.iconCmp)}if(d.orientation=="vertical"){if(a.isIE6||a.isIE7){d.width=this.width||24}else{if(a.isIEQuirks){d.width=this.width||25}}d.layout={type:"vbox",align:"center",clearInnerCtOnLayout:true,bindToOwnerCtContainer:false};d.textConfig={cls:d.baseCls+"-text",type:"text",text:d.title,rotate:{degrees:90}};e=d.ui;if(a.isArray(e)){e=e[0]}f=a.util.CSS.getRule("."+d.baseCls+"-text-"+e);if(f){c=f.style}if(c){a.apply(d.textConfig,{"font-family":c.fontFamily,"font-weight":c.fontWeight,"font-size":c.fontSize,fill:c.color})}d.titleCmp=a.create("Ext.draw.Component",{ariaRole:"heading",focusable:false,viewBox:false,autoSize:true,margins:"5 0 0 0",items:[d.textConfig],renderSelectors:{textEl:"."+d.baseCls+"-text"}})}else{d.layout={type:"hbox",align:"middle",clearInnerCtOnLayout:true,bindToOwnerCtContainer:false};d.titleCmp=a.create("Ext.Component",{xtype:"component",ariaRole:"heading",focusable:false,renderTpl:['<span class="{cls}-text {cls}-text-{ui}">{title}</span>'],renderData:{title:d.title,cls:d.baseCls,ui:d.ui},renderSelectors:{textEl:"."+d.baseCls+"-text"}})}d.items.push(d.titleCmp);d.items.push({xtype:"component",html:"&nbsp;",flex:1,focusable:false});d.items=d.items.concat(d.tools);this.callParent()},initIconCmp:function(){this.iconCmp=a.create("Ext.Component",{focusable:false,renderTpl:['<img alt="" src="{blank}" class="{cls}-icon {iconCls}"/>'],renderData:{blank:a.BLANK_IMAGE_URL,cls:this.baseCls,iconCls:this.iconCls,orientation:this.orientation},renderSelectors:{iconEl:"."+this.baseCls+"-icon"},iconCls:this.iconCls})},afterRender:function(){var b=this;b.el.unselectable();if(b.indicateDrag){b.el.addCls(b.indicateDragCls)}b.mon(b.el,{click:b.onClick,scope:b});b.callParent()},afterLayout:function(){var b=this;b.callParent(arguments);if(a.isIE7){b.el.repaint()}},addUIClsToElement:function(b,d){var c=this;c.callParent(arguments);if(!d&&c.rendered){c.body.addCls(c.baseCls+"-body-"+b);c.body.addCls(c.baseCls+"-body-"+c.ui+"-"+b)}},removeUIClsFromElement:function(b,d){var c=this;c.callParent(arguments);if(!d&&c.rendered){c.body.removeCls(c.baseCls+"-body-"+b);c.body.removeCls(c.baseCls+"-body-"+c.ui+"-"+b)}},addUIToElement:function(c){var b=this;b.callParent(arguments);if(!c&&b.rendered){b.body.addCls(b.baseCls+"-body-"+b.ui)}if(!c&&b.titleCmp&&b.titleCmp.rendered&&b.titleCmp.textEl){b.titleCmp.textEl.addCls(b.baseCls+"-text-"+b.ui)}},removeUIFromElement:function(){var b=this;b.callParent(arguments);if(b.rendered){b.body.removeCls(b.baseCls+"-body-"+b.ui)}if(b.titleCmp&&b.titleCmp.rendered&&b.titleCmp.textEl){b.titleCmp.textEl.removeCls(b.baseCls+"-text-"+b.ui)}},onClick:function(b){if(!b.getTarget(a.baseCSSPrefix+"tool")){this.fireEvent("click",b)}},getTargetEl:function(){return this.body||this.frameBody||this.el},setTitle:function(e){var d=this;if(d.rendered){if(d.titleCmp.rendered){if(d.titleCmp.surface){d.title=e||"";var c=d.titleCmp.surface.items.items[0],b=d.titleCmp.surface;b.remove(c);d.textConfig.type="text";d.textConfig.text=e;c=b.add(d.textConfig);c.setAttributes({rotate:{degrees:90}},true);d.titleCmp.autoSizeSurface()}else{d.title=e||"&#160;";d.titleCmp.textEl.update(d.title)}}else{d.titleCmp.on({render:function(){d.setTitle(e)},single:true})}}else{d.on({render:function(){d.layout.layout();d.setTitle(e)},single:true})}},setIconCls:function(b){this.iconCls=b;if(!this.iconCmp){this.initIconCmp();this.insert(0,this.iconCmp)}else{if(!b||!b.length){this.iconCmp.destroy()}else{var d=this.iconCmp,c=d.iconEl;c.removeCls(d.iconCls);c.addCls(b);d.iconCls=b}}},addTool:function(b){this.tools.push(this.add(b))},onAdd:function(c,b){this.callParent([arguments]);if(c instanceof a.panel.Tool){c.bindTo(this.ownerCt);this.tools[c.type]=c}}});a.define("Ext.dd.DragDrop",{requires:["Ext.dd.DragDropManager"],constructor:function(d,b,c){if(d){this.init(d,b,c)}},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:false,lock:function(){this.locked=true},moveOnly:false,unlock:function(){this.locked=false},isTarget:true,padding:null,_domRef:null,__ygDragDrop:true,constrainX:false,constrainY:false,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:false,xTicks:null,yTicks:null,primaryButtonOnly:true,available:false,hasOuterHandles:false,b4StartDrag:function(b,c){},startDrag:function(b,c){},b4Drag:function(b){},onDrag:function(b){},onDragEnter:function(b,c){},b4DragOver:function(b){},onDragOver:function(b,c){},b4DragOut:function(b){},onDragOut:function(b,c){},b4DragDrop:function(b){},onDragDrop:function(b,c){},onInvalidDrop:function(b){},b4EndDrag:function(b){},endDrag:function(b){},b4MouseDown:function(b){},onMouseDown:function(b){},onMouseUp:function(b){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(i,g,n){if(a.isNumber(g)){g={left:g,right:g,top:g,bottom:g}}g=g||this.defaultPadding;var k=a.get(this.getEl()).getBox(),d=a.get(i),m=d.getScroll(),j,e=d.dom;if(e==document.body){j={x:m.left,y:m.top,width:a.core.Element.getViewWidth(),height:a.core.Element.getViewHeight()}}else{var l=d.getXY();j={x:l[0],y:l[1],width:e.clientWidth,height:e.clientHeight}}var h=k.y-j.y,f=k.x-j.x;this.resetConstraints();this.setXConstraint(f-(g.left||0),j.width-f-k.width-(g.right||0),this.xTickSize);this.setYConstraint(h-(g.top||0),j.height-h-k.height-(g.bottom||0),this.yTickSize)},getEl:function(){if(!this._domRef){this._domRef=a.getDom(this.id)}return this._domRef},getDragEl:function(){return a.getDom(this.dragElId)},init:function(d,b,c){this.initTarget(d,b,c);a.EventManager.on(this.id,"mousedown",this.handleMouseDown,this)},initTarget:function(d,b,c){this.config=c||{};this.DDMInstance=a.dd.DragDropManager;this.groups={};if(typeof d!=="string"){d=a.id(d)}this.id=d;this.addToGroup((b)?b:"default");this.handleElId=d;this.setDragElId(d);this.invalidHandleTypes={A:"A"};this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig();this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0];this.isTarget=(this.config.isTarget!==false);this.maintainOffset=(this.config.maintainOffset);this.primaryButtonOnly=(this.config.primaryButtonOnly!==false)},handleOnAvailable:function(){this.available=true;this.resetConstraints();this.onAvailable()},setPadding:function(d,b,e,c){if(!b&&0!==b){this.padding=[d,d,d,d]}else{if(!e&&0!==e){this.padding=[d,b,d,b]}else{this.padding=[d,b,e,c]}}},setInitPosition:function(e,d){var f=this.getEl();if(!this.DDMInstance.verifyEl(f)){return}var c=e||0;var b=d||0;var g=a.core.Element.getXY(f);this.initPageX=g[0]-c;this.initPageY=g[1]-b;this.lastPageX=g[0];this.lastPageY=g[1];this.setStartPosition(g)},setStartPosition:function(c){var b=c||a.core.Element.getXY(this.getEl());this.deltaSetXY=null;this.startPageX=b[0];this.startPageY=b[1]},addToGroup:function(b){this.groups[b]=true;this.DDMInstance.regDragDrop(this,b)},removeFromGroup:function(b){if(this.groups[b]){delete this.groups[b]}this.DDMInstance.removeDDFromGroup(this,b)},setDragElId:function(b){this.dragElId=b},setHandleElId:function(b){if(typeof b!=="string"){b=a.id(b)}this.handleElId=b;this.DDMInstance.regHandle(this.id,b)},setOuterHandleElId:function(b){if(typeof b!=="string"){b=a.id(b)}a.EventManager.on(b,"mousedown",this.handleMouseDown,this);this.setHandleElId(b);this.hasOuterHandles=true},unreg:function(){a.EventManager.un(this.id,"mousedown",this.handleMouseDown,this);this._domRef=null;this.DDMInstance._remove(this)},destroy:function(){this.unreg()},isLocked:function(){return(this.DDMInstance.isLocked()||this.locked)},handleMouseDown:function(d,c){if(this.primaryButtonOnly&&d.button!=0){return}if(this.isLocked()){return}this.DDMInstance.refreshCache(this.groups);var b=d.getPoint();if(!this.hasOuterHandles&&!this.DDMInstance.isOverTarget(b,this)){}else{if(this.clickValidator(d)){this.setStartPosition();this.b4MouseDown(d);this.onMouseDown(d);this.DDMInstance.handleMouseDown(d,this);this.DDMInstance.stopEvent(d)}else{}}},clickValidator:function(c){var b=c.getTarget();return(this.isValidHandleChild(b)&&(this.id==this.handleElId||this.DDMInstance.handleWasClicked(b,this.id)))},addInvalidHandleType:function(b){var c=b.toUpperCase();this.invalidHandleTypes[c]=c},addInvalidHandleId:function(b){if(typeof b!=="string"){b=a.id(b)}this.invalidHandleIds[b]=b},addInvalidHandleClass:function(b){this.invalidHandleClasses.push(b)},removeInvalidHandleType:function(b){var c=b.toUpperCase();delete this.invalidHandleTypes[c]},removeInvalidHandleId:function(b){if(typeof b!=="string"){b=a.id(b)}delete this.invalidHandleIds[b]},removeInvalidHandleClass:function(c){for(var d=0,b=this.invalidHandleClasses.length;d<b;++d){if(this.invalidHandleClasses[d]==c){delete this.invalidHandleClasses[d]}}},isValidHandleChild:function(f){var d=true;var h;try{h=f.nodeName.toUpperCase()}catch(g){h=f.nodeName}d=d&&!this.invalidHandleTypes[h];d=d&&!this.invalidHandleIds[f.id];for(var c=0,b=this.invalidHandleClasses.length;d&&c<b;++c){d=!a.fly(f).hasCls(this.invalidHandleClasses[c])}return d},setXTicks:function(e,b){this.xTicks=[];this.xTickSize=b;var d={};for(var c=this.initPageX;c>=this.minX;c=c-b){if(!d[c]){this.xTicks[this.xTicks.length]=c;d[c]=true}}for(c=this.initPageX;c<=this.maxX;c=c+b){if(!d[c]){this.xTicks[this.xTicks.length]=c;d[c]=true}}a.Array.sort(this.xTicks,this.DDMInstance.numericSort)},setYTicks:function(e,b){this.yTicks=[];this.yTickSize=b;var d={};for(var c=this.initPageY;c>=this.minY;c=c-b){if(!d[c]){this.yTicks[this.yTicks.length]=c;d[c]=true}}for(c=this.initPageY;c<=this.maxY;c=c+b){if(!d[c]){this.yTicks[this.yTicks.length]=c;d[c]=true}}a.Array.sort(this.yTicks,this.DDMInstance.numericSort)},setXConstraint:function(d,c,b){this.leftConstraint=d;this.rightConstraint=c;this.minX=this.initPageX-d;this.maxX=this.initPageX+c;if(b){this.setXTicks(this.initPageX,b)}this.constrainX=true},clearConstraints:function(){this.constrainX=false;this.constrainY=false;this.clearTicks()},clearTicks:function(){this.xTicks=null;this.yTicks=null;this.xTickSize=0;this.yTickSize=0},setYConstraint:function(b,d,c){this.topConstraint=b;this.bottomConstraint=d;this.minY=this.initPageY-b;this.maxY=this.initPageY+d;if(c){this.setYTicks(this.initPageY,c)}this.constrainY=true},resetConstraints:function(){if(this.initPageX||this.initPageX===0){var c=(this.maintainOffset)?this.lastPageX-this.initPageX:0;var b=(this.maintainOffset)?this.lastPageY-this.initPageY:0;this.setInitPosition(c,b)}else{this.setInitPosition()}if(this.constrainX){this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize)}if(this.constrainY){this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)}},getTick:function(h,e){if(!e){return h}else{if(e[0]>=h){return e[0]}else{for(var c=0,b=e.length;c<b;++c){var d=c+1;if(e[d]&&e[d]>=h){var g=h-e[c];var f=e[d]-h;return(f>g)?e[c]:e[d]}}return e[e.length-1]}}},toString:function(){return("DragDrop "+this.id)}});a.define("Ext.dd.DD",{extend:"Ext.dd.DragDrop",requires:["Ext.dd.DragDropManager"],constructor:function(d,b,c){if(d){this.init(d,b,c)}},scroll:true,autoOffset:function(d,c){var b=d-this.startPageX;var e=c-this.startPageY;this.setDelta(b,e)},setDelta:function(c,b){this.deltaX=c;this.deltaY=b},setDragElPos:function(d,c){var b=this.getDragEl();this.alignElWithMouse(b,d,c)},alignElWithMouse:function(c,f,d){var g=this.getTargetCoord(f,d),e=c.dom?c:a.fly(c,"_dd"),l=e.getSize(),i=a.core.Element,j;if(!this.deltaSetXY){j=this.cachedViewportSize={width:i.getDocumentWidth(),height:i.getDocumentHeight()};var b=[Math.max(0,Math.min(g.x,j.width-l.width)),Math.max(0,Math.min(g.y,j.height-l.height))];e.setXY(b);var k=e.getLeft(true);var h=e.getTop(true);this.deltaSetXY=[k-g.x,h-g.y]}else{j=this.cachedViewportSize;e.setLeftTop(Math.max(0,Math.min(g.x+this.deltaSetXY[0],j.width-l.width)),Math.max(0,Math.min(g.y+this.deltaSetXY[1],j.height-l.height)))}this.cachePosition(g.x,g.y);this.autoScroll(g.x,g.y,c.offsetHeight,c.offsetWidth);return g},cachePosition:function(c,b){if(c){this.lastPageX=c;this.lastPageY=b}else{var d=a.core.Element.getXY(this.getEl());this.lastPageX=d[0];this.lastPageY=d[1]}},autoScroll:function(l,k,f,m){if(this.scroll){var n=a.core.Element.getViewHeight();var c=a.core.Element.getViewWidth();var q=this.DDMInstance.getScrollTop();var e=this.DDMInstance.getScrollLeft();var j=f+k;var p=m+l;var i=(n+q-k-this.deltaY);var g=(c+e-l-this.deltaX);var d=40;var b=(document.all)?80:30;if(j>n&&i<d){window.scrollTo(e,q+b)}if(k<q&&q>0&&k-q<d){window.scrollTo(e,q-b)}if(p>c&&g<d){window.scrollTo(e+b,q)}if(l<e&&e>0&&l-e<d){window.scrollTo(e-b,q)}}},getTargetCoord:function(d,c){var b=d-this.deltaX;var e=c-this.deltaY;if(this.constrainX){if(b<this.minX){b=this.minX}if(b>this.maxX){b=this.maxX}}if(this.constrainY){if(e<this.minY){e=this.minY}if(e>this.maxY){e=this.maxY}}b=this.getTick(b,this.xTicks);e=this.getTick(e,this.yTicks);return{x:b,y:e}},applyConfig:function(){this.callParent();this.scroll=(this.config.scroll!==false)},b4MouseDown:function(b){this.autoOffset(b.getPageX(),b.getPageY())},b4Drag:function(b){this.setDragElPos(b.getPageX(),b.getPageY())},toString:function(){return("DD "+this.id)}});a.define("Ext.dd.DDProxy",{extend:"Ext.dd.DD",statics:{dragElId:"ygddfdiv"},constructor:function(d,b,c){if(d){this.init(d,b,c);this.initFrame()}},resizeFrame:true,centerFrame:false,createFrame:function(){var c=this;var b=document.body;if(!b||!b.firstChild){setTimeout(function(){c.createFrame()},50);return}var e=this.getDragEl();if(!e){e=document.createElement("div");e.id=this.dragElId;var d=e.style;d.position="absolute";d.visibility="hidden";d.cursor="move";d.border="2px solid #aaa";d.zIndex=999;b.insertBefore(e,b.firstChild)}},initFrame:function(){this.createFrame()},applyConfig:function(){this.callParent();this.resizeFrame=(this.config.resizeFrame!==false);this.centerFrame=(this.config.centerFrame);this.setDragElId(this.config.dragElId||a.dd.DDProxy.dragElId)},showFrame:function(f,e){var d=this.getEl();var b=this.getDragEl();var c=b.style;this._resizeProxy();if(this.centerFrame){this.setDelta(Math.round(parseInt(c.width,10)/2),Math.round(parseInt(c.height,10)/2))}this.setDragElPos(f,e);a.fly(b).show()},_resizeProxy:function(){if(this.resizeFrame){var b=this.getEl();a.fly(this.getDragEl()).setSize(b.offsetWidth,b.offsetHeight)}},b4MouseDown:function(c){var b=c.getPageX();var d=c.getPageY();this.autoOffset(b,d);this.setDragElPos(b,d)},b4StartDrag:function(b,c){this.showFrame(b,c)},b4EndDrag:function(b){a.fly(this.getDragEl()).hide()},endDrag:function(d){var c=this.getEl();var b=this.getDragEl();b.style.visibility="";this.beforeMove();c.style.visibility="hidden";a.dd.DDM.moveToEl(c,b);b.style.visibility="hidden";c.style.visibility="";this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return("DDProxy "+this.id)}});a.define("Ext.dd.DragSource",{extend:"Ext.dd.DDProxy",requires:["Ext.dd.StatusProxy","Ext.dd.DragDropManager"],dropAllowed:a.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:a.baseCSSPrefix+"dd-drop-nodrop",animRepair:true,repairHighlightColor:"c3daf9",constructor:function(c,b){this.el=a.get(c);if(!this.dragData){this.dragData={}}a.apply(this,b);if(!this.proxy){this.proxy=a.create("Ext.dd.StatusProxy",{animRepair:this.animRepair})}this.callParent([this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:false,isTarget:false,scroll:this.scroll===true}]);this.dragging=false},getDragData:function(b){return this.dragData},onDragEnter:function(d,f){var c=a.dd.DragDropManager.getDDById(f);this.cachedTarget=c;if(this.beforeDragEnter(c,d,f)!==false){if(c.isNotifyTarget){var b=c.notifyEnter(this,d,this.dragData);this.proxy.setStatus(b)}else{this.proxy.setStatus(this.dropAllowed)}if(this.afterDragEnter){this.afterDragEnter(c,d,f)}}},beforeDragEnter:function(c,b,d){return true},alignElWithMouse:function(){this.callParent(arguments);this.proxy.sync()},onDragOver:function(d,f){var c=this.cachedTarget||a.dd.DragDropManager.getDDById(f);if(this.beforeDragOver(c,d,f)!==false){if(c.isNotifyTarget){var b=c.notifyOver(this,d,this.dragData);this.proxy.setStatus(b)}if(this.afterDragOver){this.afterDragOver(c,d,f)}}},beforeDragOver:function(c,b,d){return true},onDragOut:function(c,d){var b=this.cachedTarget||a.dd.DragDropManager.getDDById(d);if(this.beforeDragOut(b,c,d)!==false){if(b.isNotifyTarget){b.notifyOut(this,c,this.dragData)}this.proxy.reset();if(this.afterDragOut){this.afterDragOut(b,c,d)}}this.cachedTarget=null},beforeDragOut:function(c,b,d){return true},onDragDrop:function(c,d){var b=this.cachedTarget||a.dd.DragDropManager.getDDById(d);if(this.beforeDragDrop(b,c,d)!==false){if(b.isNotifyTarget){if(b.notifyDrop(this,c,this.dragData)!==false){this.onValidDrop(b,c,d)}else{this.onInvalidDrop(b,c,d)}}else{this.onValidDrop(b,c,d)}if(this.afterDragDrop){this.afterDragDrop(b,c,d)}}delete this.cachedTarget},beforeDragDrop:function(c,b,d){return true},onValidDrop:function(c,b,d){this.hideProxy();if(this.afterValidDrop){this.afterValidDrop(c,b,d)}},getRepairXY:function(c,b){return this.el.getXY()},onInvalidDrop:function(c,b,d){this.beforeInvalidDrop(c,b,d);if(this.cachedTarget){if(this.cachedTarget.isNotifyTarget){this.cachedTarget.notifyOut(this,b,this.dragData)}this.cacheTarget=null}this.proxy.repair(this.getRepairXY(b,this.dragData),this.afterRepair,this);if(this.afterInvalidDrop){this.afterInvalidDrop(b,d)}},afterRepair:function(){var b=this;if(a.enableFx){b.el.highlight(b.repairHighlightColor)}b.dragging=false},beforeInvalidDrop:function(c,b,d){return true},handleMouseDown:function(c){if(this.dragging){return}var b=this.getDragData(c);if(b&&this.onBeforeDrag(b,c)!==false){this.dragData=b;this.proxy.stop();this.callParent(arguments)}},onBeforeDrag:function(b,c){return true},onStartDrag:a.emptyFn,startDrag:function(b,c){this.proxy.reset();this.dragging=true;this.proxy.update("");this.onInitDrag(b,c);this.proxy.show()},onInitDrag:function(b,d){var c=this.el.dom.cloneNode(true);c.id=a.id();this.proxy.update(c);this.onStartDrag(b,d);return true},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide();this.proxy.reset(true);this.dragging=false},triggerCacheRefresh:function(){a.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(b){},endDrag:function(b){this.onEndDrag(this.dragData,b)},onEndDrag:function(b,c){},autoOffset:function(b,c){this.setDelta(-12,-20)},destroy:function(){this.callParent();a.destroy(this.proxy)}});a.define("Ext.panel.DD",{extend:"Ext.dd.DragSource",requires:["Ext.panel.Proxy"],constructor:function(c,b){this.panel=c;this.dragData={panel:c};this.proxy=a.create("Ext.panel.Proxy",c,b);this.callParent([c.el,b]);a.defer(function(){var e=c.header,d=c.body;if(e){this.setHandleElId(e.id);d=e.el}d.setStyle("cursor","move");this.scroll=false},200,this)},showFrame:a.emptyFn,startDrag:a.emptyFn,b4StartDrag:function(b,c){this.proxy.show()},b4MouseDown:function(c){var b=c.getPageX(),d=c.getPageY();this.autoOffset(b,d)},onInitDrag:function(b,c){this.onStartDrag(b,c);return true},createFrame:a.emptyFn,getDragEl:function(b){return this.proxy.ghost.el.dom},endDrag:function(b){this.proxy.hide();this.panel.saveState()},autoOffset:function(b,c){b-=this.startPageX;c-=this.startPageY;this.setDelta(b,c)}});a.define("Ext.layout.component.Dock",{alias:["layout.dock"],extend:"Ext.layout.component.AbstractDock"});a.define("Ext.panel.Panel",{extend:"Ext.panel.AbstractPanel",requires:["Ext.panel.Header","Ext.fx.Anim","Ext.util.KeyMap","Ext.panel.DD","Ext.XTemplate","Ext.layout.component.Dock"],alias:"widget.panel",alternateClassName:"Ext.Panel",collapsedCls:"collapsed",animCollapse:a.enableFx,minButtonWidth:75,collapsed:false,collapseFirst:true,hideCollapseTool:false,titleCollapse:false,floatable:true,collapsible:false,closable:false,closeAction:"destroy",preventHeader:false,headerPosition:"top",frame:false,frameHeader:true,initComponent:function(){var c=this,b;c.addEvents("titlechange","iconchange");if(c.unstyled){c.setUI("plain")}if(c.frame){c.setUI("default-framed")}c.callParent();c.collapseDirection=c.collapseDirection||c.headerPosition||a.Component.DIRECTION_TOP;c.bridgeToolbars()},setBorder:function(b){this.callParent(arguments)},beforeDestroy:function(){a.destroy(this.ghostPanel,this.dd);this.callParent()},initAria:function(){this.callParent();this.initHeaderAria()},initHeaderAria:function(){var c=this,b=c.el,d=c.header;if(b&&d){b.dom.setAttribute("aria-labelledby",d.titleCmp.id)}},getHeader:function(){return this.header},setTitle:function(d){var c=this,b=this.title;c.title=d;if(c.header){c.header.setTitle(d)}else{c.updateHeader()}if(c.reExpander){c.reExpander.setTitle(d)}c.fireEvent("titlechange",c,d,b)},setIconCls:function(b){var d=this,c=d.iconCls;d.iconCls=b;var e=d.header;if(e){e.setIconCls(b)}d.fireEvent("iconchange",d,b,c)},bridgeToolbars:function(){var b=this,d,c,f=b.minButtonWidth;function e(g,h){if(a.isArray(g)){g={xtype:"toolbar",items:g}}else{if(!g.xtype){g.xtype="toolbar"}}g.dock=h;if(h=="left"||h=="right"){g.vertical=true}return g}if(b.tbar){b.addDocked(e(b.tbar,"top"));b.tbar=null}if(b.bbar){b.addDocked(e(b.bbar,"bottom"));b.bbar=null}if(b.buttons){b.fbar=b.buttons;b.buttons=null}if(b.fbar){d=e(b.fbar,"bottom");d.ui="footer";if(f){c=d.defaults;d.defaults=function(g){var h=c||{};if((!g.xtype||g.xtype==="button"||(g.isComponent&&g.isXType("button")))&&!("minWidth" in h)){h=a.apply({minWidth:f},h)}return h}}d=b.addDocked(d)[0];d.insert(0,{flex:1,xtype:"component",focusable:false});b.fbar=null}if(b.lbar){b.addDocked(e(b.lbar,"left"));b.lbar=null}if(b.rbar){b.addDocked(e(b.rbar,"right"));b.rbar=null}},initTools:function(){var b=this;b.tools=b.tools||[];if(b.collapsible&&!(b.hideCollapseTool||b.header===false)){b.collapseDirection=b.collapseDirection||b.headerPosition||"top";b.collapseTool=b.expandTool=b.createComponent({xtype:"tool",type:"collapse-"+b.collapseDirection,expandType:b.getOppositeDirection(b.collapseDirection),handler:b.toggleCollapse,scope:b});if(b.collapseFirst){b.tools.unshift(b.collapseTool)}}b.addTools();if(b.closable){b.addClsWithUI("closable");b.addTool({type:"close",handler:a.Function.bind(b.close,this,[])})}if(b.collapseTool&&!b.collapseFirst){b.tools.push(b.collapseTool)}},addTools:a.emptyFn,close:function(){if(this.fireEvent("beforeclose",this)!==false){this.doClose()}},doClose:function(){this.fireEvent("close",this);this[this.closeAction]()},onRender:function(c,b){var e=this,d;e.initTools();e.updateHeader();if(e.collapsed){e.collapsed=false;d=e.findLayoutController();if(!e.hidden&&d){d.on({afterlayout:function(){e.collapse(null,false,true)},single:true})}else{e.afterComponentLayout=function(){delete e.afterComponentLayout;a.getClass(e).prototype.afterComponentLayout.apply(e,arguments);e.collapse(null,false,true)}}}e.callParent(arguments)},updateHeader:function(c){var b=this,f=b.header,e=b.title,d=b.tools;if(!b.preventHeader&&(c||e||(d&&d.length))){if(!f){f=b.header=a.create("Ext.panel.Header",{title:e,orientation:(b.headerPosition=="left"||b.headerPosition=="right")?"vertical":"horizontal",dock:b.headerPosition||"top",textCls:b.headerTextCls,iconCls:b.iconCls,baseCls:b.baseCls+"-header",tools:d,ui:b.ui,indicateDrag:b.draggable,border:b.border,frame:b.frame&&b.frameHeader,ignoreParentFrame:b.frame||b.overlapHeader,ignoreBorderManagement:b.frame||b.ignoreHeaderBorderManagement,listeners:b.collapsible&&b.titleCollapse?{click:b.toggleCollapse,scope:b}:null});b.addDocked(f,0);b.tools=f.tools}f.show();b.initHeaderAria()}else{if(f){f.hide()}}},setUI:function(c){var b=this;b.callParent(arguments);if(b.header){b.header.setUI(c)}},getContentTarget:function(){return this.body},getTargetEl:function(){return this.body||this.frameBody||this.el},addTool:function(b){this.tools.push(b);var c=this.header;if(c){c.addTool(b)}this.updateHeader()},getOppositeDirection:function(b){var e=a.Component;switch(b){case e.DIRECTION_TOP:return e.DIRECTION_BOTTOM;case e.DIRECTION_RIGHT:return e.DIRECTION_LEFT;case e.DIRECTION_BOTTOM:return e.DIRECTION_TOP;case e.DIRECTION_LEFT:return e.DIRECTION_RIGHT}},collapse:function(w,g,j){var x=this,v=a.Component,l=x.getHeight(),m=x.getWidth(),y,b=0,s=x.dockedItems.items,t=s.length,r=0,u,h,q={from:{height:l,width:m},to:{height:l,width:m},listeners:{afteranimate:x.afterCollapse,scope:x},duration:a.Number.from(g,a.fx.Anim.prototype.duration)},f,e,n,d,k,p;if(!w){w=x.collapseDirection}if(j){g=false}else{if(x.collapsed||x.fireEvent("beforecollapse",x,w,g)===false){return false}}n=w;x.expandDirection=x.getOppositeDirection(w);x.hiddenDocked=[];switch(w){case v.DIRECTION_TOP:case v.DIRECTION_BOTTOM:x.expandedSize=x.getHeight();e="horizontal";p="height";d="getHeight";k="setHeight";for(;r<t;r++){u=s[r];if(u.isVisible()){if(u.isHeader&&(!u.dock||u.dock=="top"||u.dock=="bottom")){f=u}else{x.hiddenDocked.push(u)}}}if(w==a.Component.DIRECTION_BOTTOM){h=x.getPosition()[1]-a.fly(x.el.dom.offsetParent).getRegion().top;q.from.top=h}break;case v.DIRECTION_LEFT:case v.DIRECTION_RIGHT:x.expandedSize=x.getWidth();e="vertical";p="width";d="getWidth";k="setWidth";for(;r<t;r++){u=s[r];if(u.isVisible()){if(u.isHeader&&(u.dock=="left"||u.dock=="right")){f=u}else{x.hiddenDocked.push(u)}}}if(w==a.Component.DIRECTION_RIGHT){h=x.getPosition()[0]-a.fly(x.el.dom.offsetParent).getRegion().left;q.from.left=h}break;default:throw ("Panel collapse must be passed a valid Component collapse direction")}x.setAutoScroll(false);x.suspendLayout=true;x.body.setVisibilityMode(a.core.Element.DISPLAY);if(g&&x.collapseTool){x.collapseTool.disable()}x.addClsWithUI(x.collapsedCls);if(f){f.addClsWithUI(x.collapsedCls);f.addClsWithUI(x.collapsedCls+"-"+f.dock);if(x.border&&(!x.frame||(x.frame&&a.supports.CSS3BorderRadius))){f.addClsWithUI(x.collapsedCls+"-border-"+f.dock)}y=f.getFrameInfo();b=f[d]()+(y?y[w]:0);f.removeClsWithUI(x.collapsedCls);f.removeClsWithUI(x.collapsedCls+"-"+f.dock);if(x.border&&(!x.frame||(x.frame&&a.supports.CSS3BorderRadius))){f.removeClsWithUI(x.collapsedCls+"-border-"+f.dock)}}else{f={hideMode:"offsets",temporary:true,title:x.title,orientation:e,dock:n,textCls:x.headerTextCls,iconCls:x.iconCls,baseCls:x.baseCls+"-header",ui:x.ui,frame:x.frame&&x.frameHeader,ignoreParentFrame:x.frame||x.overlapHeader,indicateDrag:x.draggable,cls:x.baseCls+"-collapsed-placeholder  "+a.baseCSSPrefix+"docked "+x.baseCls+"-"+x.ui+"-collapsed",renderTo:x.el};if(!x.hideCollapseTool){f[(f.orientation=="horizontal")?"tools":"items"]=[{xtype:"tool",type:"expand-"+x.expandDirection,handler:x.toggleCollapse,scope:x}]}f=x.reExpander=a.create("Ext.panel.Header",f);b=f[d]()+((f.frame)?f.frameSize[w]:0);f.hide();x.insertDocked(0,f)}x.reExpander=f;x.reExpander.addClsWithUI(x.collapsedCls);x.reExpander.addClsWithUI(x.collapsedCls+"-"+f.dock);if(x.border&&(!x.frame||(x.frame&&a.supports.CSS3BorderRadius))){x.reExpander.addClsWithUI(x.collapsedCls+"-border-"+x.reExpander.dock)}if(w==a.Component.DIRECTION_RIGHT){q.to.left=h+(m-b)}else{if(w==a.Component.DIRECTION_BOTTOM){q.to.top=h+(l-b)}}q.to[p]=b;x.savedFlex=x.flex;x.savedMinWidth=x.minWidth;x.savedMinHeight=x.minHeight;x.minWidth=0;x.minHeight=0;delete x.flex;if(g){x.animate(q)}else{x.uncollapsedSize={width:x.width,height:x.height};x.setSize(q.to.width,q.to.height);if(a.isDefined(q.to.left)||a.isDefined(q.to.top)){x.setPosition(q.to.left,q.to.top)}x.afterCollapse(false,j)}return x},afterCollapse:function(f,c){var e=this,d=0,b=e.hiddenDocked.length;e.minWidth=e.savedMinWidth;e.minHeight=e.savedMinHeight;e.body.hide();for(;d<b;d++){e.hiddenDocked[d].hide()}if(e.reExpander){e.reExpander.updateFrame();e.reExpander.show()}e.collapsed=true;if(!c){e.doComponentLayout()}if(e.resizer){e.resizer.disable()}if(e.collapseTool){e.collapseTool.setType("expand-"+e.expandDirection)}if(!c){e.fireEvent("collapse",e)}if(f&&e.collapseTool){e.collapseTool.enable()}},expand:function(c){if(!this.collapsed||this.fireEvent("beforeexpand",this,c)===false){return false}if(this.uncollapsedSize){a.Object.each(this.uncollapsedSize,function(i,l){if(a.isDefined(l)){this[i]=l}else{delete this[i]}},this);delete this.uncollapsedSize}var g=this,f=0,d=g.hiddenDocked.length,k=g.expandDirection,m=g.getHeight(),b=g.getWidth(),h,e,j;if(c&&g.collapseTool){g.collapseTool.disable()}for(;f<d;f++){g.hiddenDocked[f].hidden=false;g.hiddenDocked[f].el.show()}if(g.reExpander){if(g.reExpander.temporary){g.reExpander.hide()}else{g.reExpander.removeClsWithUI(g.collapsedCls);g.reExpander.removeClsWithUI(g.collapsedCls+"-"+g.reExpander.dock);if(g.border&&(!g.frame||(g.frame&&a.supports.CSS3BorderRadius))){g.reExpander.removeClsWithUI(g.collapsedCls+"-border-"+g.reExpander.dock)}g.reExpander.updateFrame()}}if(g.collapseTool){g.collapseTool.setType("collapse-"+g.collapseDirection)}g.collapsed=false;g.body.show();g.removeClsWithUI(g.collapsedCls);e={to:{},from:{height:m,width:b},listeners:{afteranimate:g.afterExpand,scope:g}};if((k==a.Component.DIRECTION_TOP)||(k==a.Component.DIRECTION_BOTTOM)){if(g.autoHeight){g.setCalculatedSize(g.width,null);e.to.height=g.getHeight();g.setCalculatedSize(g.width,e.from.height)}else{if(g.savedFlex){g.flex=g.savedFlex;e.to.height=g.ownerCt.layout.calculateChildBox(g).height;delete g.flex}else{e.to.height=g.expandedSize}}if(k==a.Component.DIRECTION_TOP){h=g.getPosition()[1]-a.fly(g.el.dom.offsetParent).getRegion().top;e.from.top=h;e.to.top=h-(e.to.height-m)}}else{if((k==a.Component.DIRECTION_LEFT)||(k==a.Component.DIRECTION_RIGHT)){if(g.autoWidth){g.setCalculatedSize(null,g.height);e.to.width=g.getWidth();g.setCalculatedSize(e.from.width,g.height)}else{if(g.savedFlex){g.flex=g.savedFlex;e.to.width=g.ownerCt.layout.calculateChildBox(g).width;delete g.flex}else{e.to.width=g.expandedSize}}if(k==a.Component.DIRECTION_LEFT){h=g.getPosition()[0]-a.fly(g.el.dom.offsetParent).getRegion().left;e.from.left=h;e.to.left=h-(e.to.width-b)}}}if(c){g.animate(e)}else{g.setSize(e.to.width,e.to.height);if(e.to.x){g.setLeft(e.to.x)}if(e.to.y){g.setTop(e.to.y)}g.afterExpand(false)}return g},afterExpand:function(c){var b=this;b.setAutoScroll(b.initialConfig.autoScroll);if(b.savedFlex){b.flex=b.savedFlex;delete b.savedFlex;delete b.width;delete b.height}delete b.suspendLayout;if(c&&b.ownerCt){b.ownerCt.doLayout()}if(b.resizer){b.resizer.enable()}b.fireEvent("expand",b);if(c&&b.collapseTool){b.collapseTool.enable()}},toggleCollapse:function(){if(this.collapsed){this.expand(this.animCollapse)}else{this.collapse(this.collapseDirection,this.animCollapse)}return this},getKeyMap:function(){if(!this.keyMap){this.keyMap=a.create("Ext.util.KeyMap",this.el,this.keys)}return this.keyMap},initDraggable:function(){this.dd=a.create("Ext.panel.DD",this,a.isBoolean(this.draggable)?null:this.draggable)},ghostTools:function(){var c=[],b=this.initialConfig.tools;if(b){a.each(b,function(d){c.push({type:d.type})})}else{c=[{type:"placeholder"}]}return c},ghost:function(b){var e=this,c=e.ghostPanel,d=e.getBox();if(!c){c=a.create("Ext.panel.Panel",{renderTo:document.body,floating:{shadow:false},frame:a.supports.CSS3BorderRadius?e.frame:false,title:e.title,overlapHeader:e.overlapHeader,headerPosition:e.headerPosition,width:e.getWidth(),height:e.getHeight(),iconCls:e.iconCls,baseCls:e.baseCls,tools:e.ghostTools(),cls:e.baseCls+"-ghost "+(b||"")});e.ghostPanel=c}c.floatParent=e.floatParent;if(e.floating){c.setZIndex(a.Number.from(e.el.getStyle("zIndex"),0))}else{c.toFront()}c.el.show();c.setPosition(d.x,d.y);c.setSize(d.width,d.height);e.el.hide();if(e.floatingItems){e.floatingItems.hide()}return c},unghost:function(c,b){var d=this;if(!d.ghostPanel){return}if(c!==false){d.el.show();if(b!==false){d.setPosition(d.ghostPanel.getPosition())}if(d.floatingItems){d.floatingItems.show()}a.defer(d.focus,10,d)}d.ghostPanel.el.hide()},initResizable:function(b){if(this.collapsed){b.disabled=true}this.callParent([b])}});a.define("Ext.layout.component.Tip",{alias:["layout.tip"],extend:"Ext.layout.component.Dock",type:"tip",onLayout:function(c,j){var h=this,d=h.owner,e=d.el,b,i,g,f,k=e.getXY();e.setXY([-9999,-9999]);this.callParent(arguments);if(!a.isNumber(c)){b=d.minWidth;i=d.maxWidth;if(a.isStrict&&(a.isIE6||a.isIE7)){f=h.doAutoWidth()}else{g=e.getWidth()}if(g<b){f=b}else{if(g>i){f=i}}if(f){this.callParent([f,j])}}e.setXY(k)},doAutoWidth:function(){var e=this,c=e.owner,b=c.body,d=b.getTextWidth();if(c.header){d=Math.max(d,c.header.getWidth())}if(!a.isDefined(e.frameWidth)){e.frameWidth=c.el.getWidth()-b.getWidth()}d+=e.frameWidth+b.getPadding("lr");return d}});a.define("Ext.tip.Tip",{extend:"Ext.panel.Panel",requires:["Ext.layout.component.Tip"],alternateClassName:"Ext.Tip",minWidth:40,maxWidth:300,shadow:"sides",defaultAlign:"tl-bl?",constrainPosition:true,frame:false,autoRender:true,hidden:true,baseCls:a.baseCSSPrefix+"tip",floating:{shadow:true,shim:true,constrain:true},focusOnToFront:false,componentLayout:"tip",closeAction:"hide",ariaRole:"tooltip",initComponent:function(){this.callParent(arguments);this.constrain=this.constrain||this.constrainPosition},showAt:function(c){var b=this;this.callParent();if(b.isVisible()){b.setPagePosition(c[0],c[1]);if(b.constrainPosition||b.constrain){b.doConstrain()}b.toFront(true)}},showBy:function(b,c){this.showAt(this.el.getAlignToXY(b,c||this.defaultAlign))},initDraggable:function(){var b=this;b.draggable={el:b.getDragEl(),delegate:b.header.el,constrain:b,constrainTo:b.el.dom.parentNode};a.Component.prototype.initDraggable.call(b)},ghost:undefined,unghost:undefined});a.define("Ext.tip.ToolTip",{extend:"Ext.tip.Tip",alias:"widget.tooltip",alternateClassName:"Ext.ToolTip",showDelay:500,hideDelay:200,dismissDelay:5000,trackMouse:false,anchorToTarget:true,anchorOffset:0,targetCounter:0,quickShowInterval:250,initComponent:function(){var b=this;b.callParent(arguments);b.lastActive=new Date();b.setTarget(b.target);b.origAnchor=b.anchor},onRender:function(c,b){var d=this;d.callParent(arguments);d.anchorCls=a.baseCSSPrefix+"tip-anchor-"+d.getAnchorPosition();d.anchorEl=d.el.createChild({cls:a.baseCSSPrefix+"tip-anchor "+d.anchorCls})},afterRender:function(){var b=this,c;b.callParent(arguments);c=parseInt(b.el.getZIndex(),10)||0;b.anchorEl.setStyle("z-index",c+1).setVisibilityMode(a.core.Element.DISPLAY)},setTarget:function(e){var c=this,b=a.get(e),d;if(c.target){d=a.get(c.target);c.mun(d,"mouseover",c.onTargetOver,c);c.mun(d,"mouseout",c.onTargetOut,c);c.mun(d,"mousemove",c.onMouseMove,c)}c.target=b;if(b){c.mon(b,{freezeEvent:true,mouseover:c.onTargetOver,mouseout:c.onTargetOut,mousemove:c.onMouseMove,scope:c})}if(c.anchor){c.anchorTarget=c.target}},onMouseMove:function(f){var c=this,b=c.delegate?f.getTarget(c.delegate):c.triggerElement=true,d;if(b){c.targetXY=f.getXY();if(b===c.triggerElement){if(!c.hidden&&c.trackMouse){d=c.getTargetXY();if(c.constrainPosition){d=c.el.adjustForConstraints(d,c.el.dom.parentNode)}c.setPagePosition(d)}}else{c.hide();c.lastActive=new Date(0);c.onTargetOver(f)}}else{if((!c.closable&&c.isVisible())&&c.autoHide!==false){c.hide()}}},getTargetXY:function(){var j=this,e;if(j.delegate){j.anchorTarget=j.triggerElement}if(j.anchor){j.targetCounter++;var d=j.getOffsets(),n=(j.anchorToTarget&&!j.trackMouse)?j.el.getAlignToXY(j.anchorTarget,j.getAnchorAlign()):j.targetXY,b=a.core.Element.getViewWidth()-5,i=a.core.Element.getViewHeight()-5,l=document.documentElement,f=document.body,m=(l.scrollLeft||f.scrollLeft||0)+5,k=(l.scrollTop||f.scrollTop||0)+5,c=[n[0]+d[0],n[1]+d[1]],h=j.getSize(),g=j.constrainPosition;j.anchorEl.removeCls(j.anchorCls);if(j.targetCounter<2&&g){if(c[0]<m){if(j.anchorToTarget){j.defaultAlign="l-r";if(j.mouseOffset){j.mouseOffset[0]*=-1}}j.anchor="left";return j.getTargetXY()}if(c[0]+h.width>b){if(j.anchorToTarget){j.defaultAlign="r-l";if(j.mouseOffset){j.mouseOffset[0]*=-1}}j.anchor="right";return j.getTargetXY()}if(c[1]<k){if(j.anchorToTarget){j.defaultAlign="t-b";if(j.mouseOffset){j.mouseOffset[1]*=-1}}j.anchor="top";return j.getTargetXY()}if(c[1]+h.height>i){if(j.anchorToTarget){j.defaultAlign="b-t";if(j.mouseOffset){j.mouseOffset[1]*=-1}}j.anchor="bottom";return j.getTargetXY()}}j.anchorCls=a.baseCSSPrefix+"tip-anchor-"+j.getAnchorPosition();j.anchorEl.addCls(j.anchorCls);j.targetCounter=0;return c}else{e=j.getMouseOffset();return(j.targetXY)?[j.targetXY[0]+e[0],j.targetXY[1]+e[1]]:e}},getMouseOffset:function(){var b=this,c=b.anchor?[0,0]:[15,18];if(b.mouseOffset){c[0]+=b.mouseOffset[0];c[1]+=b.mouseOffset[1]}return c},getAnchorPosition:function(){var c=this,b;if(c.anchor){c.tipAnchor=c.anchor.charAt(0)}else{b=c.defaultAlign.match(/^([a-z]+)-([a-z]+)(\?)?$/);c.tipAnchor=b[1].charAt(0)}switch(c.tipAnchor){case"t":return"top";case"b":return"bottom";case"r":return"right"}return"left"},getAnchorAlign:function(){switch(this.anchor){case"top":return"tl-bl";case"left":return"tl-tr";case"right":return"tr-tl";default:return"bl-tl"}},getOffsets:function(){var d=this,e,c,b=d.getAnchorPosition().charAt(0);if(d.anchorToTarget&&!d.trackMouse){switch(b){case"t":c=[0,9];break;case"b":c=[0,-13];break;case"r":c=[-13,0];break;default:c=[9,0];break}}else{switch(b){case"t":c=[-15-d.anchorOffset,30];break;case"b":c=[-19-d.anchorOffset,-13-d.el.dom.offsetHeight];break;case"r":c=[-15-d.el.dom.offsetWidth,-13-d.anchorOffset];break;default:c=[25,-13-d.anchorOffset];break}}e=d.getMouseOffset();c[0]+=e[0];c[1]+=e[1];return c},onTargetOver:function(d){var c=this,b;if(c.disabled||d.within(c.target.dom,true)){return}b=d.getTarget(c.delegate);if(b){c.triggerElement=b;c.clearTimer("hide");c.targetXY=d.getXY();c.delayShow()}},delayShow:function(){var b=this;if(b.hidden&&!b.showTimer){if(a.Date.getElapsed(b.lastActive)<b.quickShowInterval){b.show()}else{b.showTimer=a.defer(b.show,b.showDelay,b)}}else{if(!b.hidden&&b.autoHide!==false){b.show()}}},onTargetOut:function(c){var b=this;if(b.disabled||c.within(b.target.dom,true)){return}b.clearTimer("show");if(b.autoHide!==false){b.delayHide()}},delayHide:function(){var b=this;if(!b.hidden&&!b.hideTimer){b.hideTimer=a.defer(b.hide,b.hideDelay,b)}},hide:function(){var b=this;b.clearTimer("dismiss");b.lastActive=new Date();if(b.anchorEl){b.anchorEl.hide()}b.callParent(arguments);delete b.triggerElement},show:function(){var b=this;this.callParent();if(this.hidden===false){b.setPagePosition(-10000,-10000);if(b.anchor){b.anchor=b.origAnchor}b.showAt(b.getTargetXY());if(b.anchor){b.syncAnchor();b.anchorEl.show()}else{b.anchorEl.hide()}}},showAt:function(c){var b=this;b.lastActive=new Date();b.clearTimers();if(!b.isVisible()){this.callParent(arguments)}if(b.isVisible()){b.setPagePosition(c[0],c[1]);if(b.constrainPosition||b.constrain){b.doConstrain()}b.toFront(true)}if(b.dismissDelay&&b.autoHide!==false){b.dismissTimer=a.defer(b.hide,b.dismissDelay,b)}if(b.anchor){b.syncAnchor();if(!b.anchorEl.isVisible()){b.anchorEl.show()}}else{b.anchorEl.hide()}},syncAnchor:function(){var d=this,b,c,e;switch(d.tipAnchor.charAt(0)){case"t":b="b";c="tl";e=[20+d.anchorOffset,1];break;case"r":b="l";c="tr";e=[-1,12+d.anchorOffset];break;case"b":b="t";c="bl";e=[20+d.anchorOffset,-1];break;default:b="r";c="tl";e=[1,12+d.anchorOffset];break}d.anchorEl.alignTo(d.el,b+"-"+c,e)},setPagePosition:function(b,d){var c=this;c.callParent(arguments);if(c.anchor){c.syncAnchor()}},clearTimer:function(b){b=b+"Timer";clearTimeout(this[b]);delete this[b]},clearTimers:function(){var b=this;b.clearTimer("show");b.clearTimer("dismiss");b.clearTimer("hide")},onShow:function(){var b=this;b.callParent();b.mon(a.getDoc(),"mousedown",b.onDocMouseDown,b)},onHide:function(){var b=this;b.callParent();b.mun(a.getDoc(),"mousedown",b.onDocMouseDown,b)},onDocMouseDown:function(c){var b=this;if(b.autoHide!==true&&!b.closable&&!c.within(b.el.dom)){b.disable();a.defer(b.doEnable,100,b)}},doEnable:function(){if(!this.isDestroyed){this.enable()}},onDisable:function(){this.callParent();this.clearTimers();this.hide()},beforeDestroy:function(){var b=this;b.clearTimers();a.destroy(b.anchorEl);delete b.anchorEl;delete b.target;delete b.anchorTarget;delete b.triggerElement;b.callParent()},onDestroy:function(){a.getDoc().un("mousedown",this.onDocMouseDown,this);this.callParent()}});a.define("Ext.tip.QuickTip",{extend:"Ext.tip.ToolTip",alternateClassName:"Ext.QuickTip",interceptTitles:false,title:"&#160;",tagConfig:{namespace:"data-",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor"},initComponent:function(){var b=this;b.target=b.target||a.getDoc();b.targets=b.targets||{};b.callParent()},register:function(d){var h=a.isArray(d)?d:arguments,e=0,b=h.length,g,c,f;for(;e<b;e++){d=h[e];g=d.target;if(g){if(a.isArray(g)){for(c=0,f=g.length;c<f;c++){this.targets[a.id(g[c])]=d}}else{this.targets[a.id(g)]=d}}}},unregister:function(b){delete this.targets[a.id(b)]},cancelShow:function(b){var c=this,d=c.activeTarget;b=a.get(b).dom;if(c.isVisible()){if(d&&d.el==b){c.hide()}}else{if(d&&d.el==b){c.clearTimer("show")}}},getTipCfg:function(f){var c=f.getTarget(),d,b;if(this.interceptTitles&&c.title&&a.isString(c.title)){d=c.title;c.qtip=d;c.removeAttribute("title");f.preventDefault()}else{b=this.tagConfig;c=f.getTarget("["+b.namespace+b.attribute+"]");if(c){d=c.getAttribute(b.namespace+b.attribute)}}return d},onTargetOver:function(i){var f=this,h=i.getTarget(),j,c,d,g,b;if(f.disabled){return}f.targetXY=i.getXY();if(!h||h.nodeType!==1||h==document||h==document.body){return}if(f.activeTarget&&((h==f.activeTarget.el)||a.fly(f.activeTarget.el).contains(h))){f.clearTimer("hide");f.show();return}if(h){a.Object.each(f.targets,function(e,k){var l=a.fly(k.target);if(l&&(l.dom===h||l.contains(h))){j=l.dom;return false}});if(j){f.activeTarget=f.targets[j.id];f.activeTarget.el=h;f.anchor=f.activeTarget.anchor;if(f.anchor){f.anchorTarget=h}f.delayShow();return}}j=a.get(h);c=f.tagConfig;d=c.namespace;g=f.getTipCfg(i);if(g){b=j.getAttribute(d+c.hide);f.activeTarget={el:h,text:g,width:+j.getAttribute(d+c.width)||null,autoHide:b!="user"&&b!=="false",title:j.getAttribute(d+c.title),cls:j.getAttribute(d+c.cls),align:j.getAttribute(d+c.align)};f.anchor=j.getAttribute(d+c.anchor);if(f.anchor){f.anchorTarget=h}f.delayShow()}},onTargetOut:function(c){var b=this;if(b.activeTarget&&c.within(b.activeTarget.el)&&!b.getTipCfg(c)){return}b.clearTimer("show");if(b.autoHide!==false){b.delayHide()}},showAt:function(d){var b=this,c=b.activeTarget;if(c){if(!b.rendered){b.render(a.getBody());b.activeTarget=c}if(c.title){b.setTitle(c.title||"");b.header.show()}else{b.header.hide()}b.body.update(c.text);b.autoHide=c.autoHide;b.dismissDelay=c.dismissDelay||b.dismissDelay;if(b.lastCls){b.el.removeCls(b.lastCls);delete b.lastCls}if(c.cls){b.el.addCls(c.cls);b.lastCls=c.cls}b.setWidth(c.width);if(b.anchor){b.constrainPosition=false}else{if(c.align){d=b.el.getAlignToXY(c.el,c.align);b.constrainPosition=false}else{b.constrainPosition=true}}}b.callParent([d])},hide:function(){delete this.activeTarget;this.callParent()}});a.define("Ext.tip.QuickTipManager",function(){var c,b=false;return{requires:["Ext.tip.QuickTip"],singleton:true,alternateClassName:"Ext.QuickTips",init:function(g,e){if(!c){if(!a.isReady){a.onReady(function(){a.tip.QuickTipManager.init(g)});return}var d=a.apply({disabled:b},e),f=d.className,h=d.xtype;if(f){delete d.className}else{if(h){f="widget."+h;delete d.xtype}}if(g!==false){d.renderTo=document.body}c=a.create(f||"Ext.tip.QuickTip",d)}},destroy:function(){if(c){var d;c.destroy();c=d}},ddDisable:function(){if(c&&!b){c.disable()}},ddEnable:function(){if(c&&!b){c.enable()}},enable:function(){if(c){c.enable()}b=false},disable:function(){if(c){c.disable()}b=true},isEnabled:function(){return c!==undefined&&!c.disabled},getQuickTip:function(){return c},register:function(){c.register.apply(c,arguments)},unregister:function(){c.unregister.apply(c,arguments)},tips:function(){c.register.apply(c,arguments)}}}());a.define("Ext.layout.container.Fit",{extend:"Ext.layout.container.AbstractFit",alias:"layout.fit",alternateClassName:"Ext.layout.FitLayout",onLayout:function(){var b=this;b.callParent();if(b.owner.items.length){b.setItemBox(b.owner.items.get(0),b.getLayoutTargetSize())}},getTargetBox:function(){return this.getLayoutTargetSize()},setItemBox:function(d,c){var b=this;if(d&&c.height>0){if(b.isManaged("width")===true){c.width=undefined}if(b.isManaged("height")===true){c.height=undefined}b.setItemSize(d,c.width,c.height)}}});a.define("Ext.Action",{constructor:function(b){this.initialConfig=b;this.itemId=b.itemId=(b.itemId||b.id||a.id());this.items=[]},isAction:true,setText:function(b){this.initialConfig.text=b;this.callEach("setText",[b])},getText:function(){return this.initialConfig.text},setIconCls:function(b){this.initialConfig.iconCls=b;this.callEach("setIconCls",[b])},getIconCls:function(){return this.initialConfig.iconCls},setDisabled:function(b){this.initialConfig.disabled=b;this.callEach("setDisabled",[b])},enable:function(){this.setDisabled(false)},disable:function(){this.setDisabled(true)},isDisabled:function(){return this.initialConfig.disabled},setHidden:function(b){this.initialConfig.hidden=b;this.callEach("setVisible",[!b])},show:function(){this.setHidden(false)},hide:function(){this.setHidden(true)},isHidden:function(){return this.initialConfig.hidden},setHandler:function(c,b){this.initialConfig.handler=c;this.initialConfig.scope=b;this.callEach("setHandler",[c,b])},each:function(c,b){a.each(this.items,c,b)},callEach:function(f,d){var c=this.items,e=0,b=c.length;for(;e<b;e++){c[e][f].apply(c[e],d)}},addComponent:function(b){this.items.push(b);b.on("destroy",this.removeComponent,this)},removeComponent:function(b){a.Array.remove(this.items,b)},execute:function(){this.initialConfig.handler.apply(this.initialConfig.scope||a.global,arguments)}});a.define("Ext.layout.component.Editor",{alias:["layout.editor"],extend:"Ext.layout.component.Component",onLayout:function(e,d){var f=this,c=f.owner,b=c.autoSize;if(b===true){b={width:"field",height:"field"}}if(b){e=f.getDimension(c,b.width,"Width",e);d=f.getDimension(c,b.height,"Height",d)}f.setTargetSize(e,d);c.field.setSize(e,d)},getDimension:function(b,c,d,f){var e="get"+d;switch(c){case"boundEl":return b.boundEl[e]();case"field":return b.field[e]();default:return f}}});a.define("Ext.Editor",{extend:"Ext.Component",alias:"widget.editor",requires:["Ext.layout.component.Editor"],componentLayout:"editor",allowBlur:true,revertInvalid:true,value:"",alignment:"c-c?",offsets:[0,0],shadow:"frame",constrain:false,swallowKeys:true,completeOnEnter:true,cancelOnEsc:true,updateEl:false,hidden:true,baseCls:a.baseCSSPrefix+"editor",initComponent:function(){var b=this,c=b.field=a.ComponentManager.create(b.field,"textfield");a.apply(c,{inEditor:true,msgTarget:c.msgTarget=="title"?"title":"qtip"});b.mon(c,{scope:b,blur:{fn:b.onBlur,delay:1},specialkey:b.onSpecialKey});if(c.grow){b.mon(c,"autosize",b.onAutoSize,b,{delay:1})}b.floating={constrain:b.constrain};b.callParent(arguments);b.addEvents("beforestartedit","startedit","beforecomplete","complete","canceledit","specialkey")},onAutoSize:function(){this.doComponentLayout()},onRender:function(c,b){var d=this,e=d.field;d.callParent(arguments);e.render(d.el);e.inputEl.dom.name="";if(d.swallowKeys){e.inputEl.swallowEvent(["keypress","keydown"])}},onSpecialKey:function(g,f){var e=this,c=f.getKey(),b=e.completeOnEnter&&c==f.ENTER,d=e.cancelOnEsc&&c==f.ESC;if(b||d){f.stopEvent();a.defer(function(){if(b){e.completeEdit()}else{e.cancelEdit()}if(g.triggerBlur){g.triggerBlur()}},10)}this.fireEvent("specialkey",this,g,f)},startEdit:function(b,d){var c=this,e=c.field;c.completeEdit();c.boundEl=a.get(b);d=a.isDefined(d)?d:c.boundEl.dom.innerHTML;if(!c.rendered){c.render(c.parentEl||document.body)}if(c.fireEvent("beforestartedit",c,c.boundEl,d)!==false){c.startValue=d;c.show();e.reset();e.setValue(d);c.realign(true);e.focus(false,10);if(e.autoSize){e.autoSize()}c.editing=true}},realign:function(b){var c=this;if(b===true){c.doComponentLayout()}c.alignTo(c.boundEl,c.alignment,c.offsets)},completeEdit:function(b){var c=this,e=c.field,d;if(!c.editing){return}if(e.assertValue){e.assertValue()}d=c.getValue();if(!e.isValid()){if(c.revertInvalid!==false){c.cancelEdit(b)}return}if(String(d)===String(c.startValue)&&c.ignoreNoChange){c.hideEdit(b);return}if(c.fireEvent("beforecomplete",c,d,c.startValue)!==false){d=c.getValue();if(c.updateEl&&c.boundEl){c.boundEl.update(d)}c.hideEdit(b);c.fireEvent("complete",c,d,c.startValue)}},onShow:function(){var b=this;b.callParent(arguments);if(b.hideEl!==false){b.boundEl.hide()}b.fireEvent("startedit",b.boundEl,b.startValue)},cancelEdit:function(b){var d=this,c=d.startValue,e;if(d.editing){e=d.getValue();d.setValue(c);d.hideEdit(b);d.fireEvent("canceledit",d,e,c)}},hideEdit:function(b){if(b!==true){this.editing=false;this.hide()}},onBlur:function(){var b=this;if(b.allowBlur===true&&b.editing&&b.selectSameEditor!==true){b.completeEdit()}},onHide:function(){var b=this,c=b.field;if(b.editing){b.completeEdit();return}c.blur();if(c.collapse){c.collapse()}if(b.hideEl!==false){b.boundEl.show()}b.callParent(arguments)},setValue:function(b){this.field.setValue(b)},getValue:function(){return this.field.getValue()},beforeDestroy:function(){var b=this;a.destroy(b.field);delete b.field;delete b.parentEl;delete b.boundEl;b.callParent(arguments)}});a.define("Ext.Img",{extend:"Ext.Component",alias:["widget.image","widget.imagecomponent"],src:"",getElConfig:function(){return{tag:"img",src:this.src}},initRenderTpl:a.emptyFn,setSrc:function(d){var c=this,b=c.el;c.src=d;if(b){b.dom.src=d}}});a.define("Ext.Layer",{uses:["Ext.Shadow"],statics:{shims:[]},extend:"Ext.core.Element",constructor:function(c,b){c=c||{};var d=this,e=a.core.DomHelper,g=c.parentEl,f=g?a.getDom(g):document.body,h=c.hideMode;if(b){d.dom=a.getDom(b)}if(!d.dom){d.dom=e.append(f,c.dh||{tag:"div",cls:a.baseCSSPrefix+"layer"})}else{d.addCls(a.baseCSSPrefix+"layer");if(!d.dom.parentNode){f.appendChild(d.dom)}}if(c.cls){d.addCls(c.cls)}d.constrain=c.constrain!==false;if(h){d.setVisibilityMode(a.core.Element[h.toUpperCase()]);if(d.visibilityMode==a.core.Element.ASCLASS){d.visibilityCls=c.visibilityCls}}else{if(c.useDisplay){d.setVisibilityMode(a.core.Element.DISPLAY)}else{d.setVisibilityMode(a.core.Element.VISIBILITY)}}if(c.id){d.id=d.dom.id=c.id}else{d.id=a.id(d.dom)}d.position("absolute");if(c.shadow){d.shadowOffset=c.shadowOffset||4;d.shadow=a.create("Ext.Shadow",{offset:d.shadowOffset,mode:c.shadow});d.disableShadow()}else{d.shadowOffset=0}d.useShim=c.shim!==false&&a.useShims;if(c.hidden===true){d.hide()}else{this.show()}},getZIndex:function(){return parseInt((this.getShim()||this).getStyle("z-index"),10)},getShim:function(){var c=this,d,b;if(!c.useShim){return null}if(!c.shim){d=c.self.shims.shift();if(!d){d=c.createShim();d.enableDisplayMode("block");d.hide()}b=c.dom.parentNode;if(d.dom.parentNode!=b){b.insertBefore(d.dom,c.dom)}c.shim=d}return c.shim},hideShim:function(){if(this.shim){this.shim.setDisplayed(false);this.self.shims.push(this.shim);delete this.shim}},disableShadow:function(){if(this.shadow){this.shadowDisabled=true;this.shadow.hide();this.lastShadowOffset=this.shadowOffset;this.shadowOffset=0}},enableShadow:function(b){if(this.shadow){this.shadowDisabled=false;this.shadowOffset=this.lastShadowOffset;delete this.lastShadowOffset;if(b){this.sync(true)}}},sync:function(c){var j=this,n=j.shadow,i,f,b;if(!this.updating&&this.isVisible()&&(n||this.useShim)){var e=this.getShim(),d=this.getLeft(true),p=this.getTop(true),m=this.getWidth(),g=this.getHeight(),k;if(n&&!this.shadowDisabled){if(c&&!n.isVisible()){n.show(this)}else{n.realign(d,p,m,g)}if(e){k=e.getStyle("z-index");if(k>j.zindex){j.shim.setStyle("z-index",j.zindex-2)}e.show();if(n.isVisible()){i=n.el.getXY();f=e.dom.style;b=n.el.getSize();f.left=(i[0])+"px";f.top=(i[1])+"px";f.width=(b.width)+"px";f.height=(b.height)+"px"}else{e.setSize(m,g);e.setLeftTop(d,p)}}}else{if(e){k=e.getStyle("z-index");if(k>j.zindex){j.shim.setStyle("z-index",j.zindex-2)}e.show();e.setSize(m,g);e.setLeftTop(d,p)}}}return this},remove:function(){this.hideUnders();this.callParent()},beginUpdate:function(){this.updating=true},endUpdate:function(){this.updating=false;this.sync(true)},hideUnders:function(){if(this.shadow){this.shadow.hide()}this.hideShim()},constrainXY:function(){if(this.constrain){var g=a.core.Element.getViewWidth(),c=a.core.Element.getViewHeight(),l=a.getDoc().getScroll(),k=this.getXY(),i=k[0],f=k[1],b=this.shadowOffset,j=this.dom.offsetWidth+b,d=this.dom.offsetHeight+b,e=false;if((i+j)>g+l.left){i=g-j-b;e=true}if((f+d)>c+l.top){f=c-d-b;e=true}if(i<l.left){i=l.left;e=true}if(f<l.top){f=l.top;e=true}if(e){a.Layer.superclass.setXY.call(this,[i,f]);this.sync()}}return this},getConstrainOffset:function(){return this.shadowOffset},setVisible:function(f,c,e,h,g){var d=this,b;b=function(){if(f){d.sync(true)}if(h){h()}};if(!f){this.hideUnders(true)}this.callParent([f,c,e,h,g]);if(!c){b()}return this},beforeFx:function(){this.beforeAction();return this.callParent(arguments)},afterFx:function(){this.callParent(arguments);this.sync(this.isVisible())},beforeAction:function(){if(!this.updating&&this.shadow){this.shadow.hide()}},setLeft:function(b){this.callParent(arguments);return this.sync()},setTop:function(b){this.callParent(arguments);return this.sync()},setLeftTop:function(c,b){this.callParent(arguments);return this.sync()},setXY:function(d,b,c,f,e){f=this.createCB(f);this.fixDisplay();this.beforeAction();this.callParent([d,b,c,f,e]);if(!b){f()}return this},createCB:function(d){var b=this,c=b.shadow&&b.shadow.isVisible();return function(){b.constrainXY();b.sync(c);if(d){d()}}},setX:function(b,c,d,f,e){this.setXY([b,this.getY()],c,d,f,e);return this},setY:function(f,b,c,e,d){this.setXY([this.getX(),f],b,c,e,d);return this},setSize:function(b,d,c,e,g,f){g=this.createCB(g);this.beforeAction();this.callParent([b,d,c,e,g,f]);if(!c){g()}return this},setWidth:function(b,c,d,f,e){f=this.createCB(f);this.beforeAction();this.callParent([b,c,d,f,e]);if(!c){f()}return this},setHeight:function(c,b,d,f,e){f=this.createCB(f);this.beforeAction();this.callParent([c,b,d,f,e]);if(!b){f()}return this},setBounds:function(c,i,e,b,d,f,h,g){h=this.createCB(h);this.beforeAction();if(!d){a.Layer.superclass.setXY.call(this,[c,i]);a.Layer.superclass.setSize.call(this,e,b);h()}else{this.callParent([c,i,e,b,d,f,h,g])}return this},setZIndex:function(b){this.zindex=b;if(this.getShim()){this.shim.setStyle("z-index",b++)}if(this.shadow){this.shadow.setZIndex(b++)}this.setStyle("z-index",b);return this}});a.define("Ext.layout.component.ProgressBar",{alias:["layout.progressbar"],extend:"Ext.layout.component.Component",type:"progressbar",onLayout:function(e,c){var f=this,b=f.owner,d=b.textEl;f.setElementSize(b.el,e,c);d.setWidth(b.el.getWidth(true));f.callParent([e,c]);b.updateProgress(b.value)}});a.define("Ext.ProgressBar",{extend:"Ext.Component",alias:"widget.progressbar",requires:["Ext.Template","Ext.CompositeElement","Ext.TaskManager","Ext.layout.component.ProgressBar"],uses:["Ext.fx.Anim"],baseCls:a.baseCSSPrefix+"progress",config:{animate:false,text:""},waitTimer:null,renderTpl:['<div class="{baseCls}-text {baseCls}-text-back">',"<div>&#160;</div>","</div>",'<div class="{baseCls}-bar">','<div class="{baseCls}-text">',"<div>&#160;</div>","</div>","</div>"],componentLayout:"progressbar",initComponent:function(){this.callParent();this.renderSelectors=a.apply(this.renderSelectors||{},{textTopEl:"."+this.baseCls+"-text",textBackEl:"."+this.baseCls+"-text-back",bar:"."+this.baseCls+"-bar"});this.addEvents("update")},afterRender:function(){var b=this;b.textEl=b.textEl?a.get(b.textEl):b.el.select("."+b.baseCls+"-text");this.callParent(arguments);if(b.value){b.updateProgress(b.value,b.text)}else{b.updateText(b.text)}},updateProgress:function(d,e,b){var c;this.value=d||0;if(e){this.updateText(e)}if(this.rendered&&!this.isDestroyed){c=Math.floor(this.value*this.el.getWidth(true));if(a.isForcedBorderBox){c+=this.bar.getBorderWidth("lr")}if(b===true||(b!==false&&this.animate)){this.bar.stopAnimation();this.bar.animate(a.apply({to:{width:c+"px"}},this.animate))}else{this.bar.setWidth(c)}}this.fireEvent("update",this,this.value,e);return this},updateText:function(b){this.text=b;if(this.rendered){this.textEl.update(this.text)}return this},applyText:function(b){this.updateText(b)},wait:function(c){if(!this.waitTimer){var b=this;c=c||{};this.updateText(c.text);this.waitTimer=a.TaskManager.start({run:function(d){var e=c.increment||10;d-=1;this.updateProgress(((((d+e)%e)+1)*(100/e))*0.01,null,c.animate)},interval:c.interval||1000,duration:c.duration,onStop:function(){if(c.fn){c.fn.apply(c.scope||this)}this.reset()},scope:b})}return this},isWaiting:function(){return this.waitTimer!==null},reset:function(b){this.updateProgress(0);this.clearTimer();if(b===true){this.hide()}return this},clearTimer:function(){if(this.waitTimer){this.waitTimer.onStop=null;a.TaskManager.stop(this.waitTimer);this.waitTimer=null}},onDestroy:function(){this.clearTimer();if(this.rendered){if(this.textEl.isComposite){this.textEl.clear()}a.destroyMembers(this,"textEl","progressBar","textTopEl")}this.callParent()}});a.define("Ext.ShadowPool",{singleton:true,requires:["Ext.core.DomHelper"],markup:function(){if(a.supports.CSS3BoxShadow){return'<div class="'+a.baseCSSPrefix+'css-shadow" role="presentation"></div>'}else{if(a.isIE){return'<div class="'+a.baseCSSPrefix+'ie-shadow" role="presentation"></div>'}else{return'<div class="'+a.baseCSSPrefix+'frame-shadow" role="presentation"><div class="xst" role="presentation"><div class="xstl" role="presentation"></div><div class="xstc" role="presentation"></div><div class="xstr" role="presentation"></div></div><div class="xsc" role="presentation"><div class="xsml" role="presentation"></div><div class="xsmc" role="presentation"></div><div class="xsmr" role="presentation"></div></div><div class="xsb" role="presentation"><div class="xsbl" role="presentation"></div><div class="xsbc" role="presentation"></div><div class="xsbr" role="presentation"></div></div></div>'}}}(),shadows:[],pull:function(){var b=this.shadows.shift();if(!b){b=a.get(a.core.DomHelper.insertHtml("beforeBegin",document.body.firstChild,this.markup));b.autoBoxAdjust=false}return b},push:function(b){this.shadows.push(b)},reset:function(){a.Array.each(this.shadows,function(b){b.remove()});this.shadows=[]}});a.define("Ext.Shadow",{requires:["Ext.ShadowPool"],constructor:function(c){a.apply(this,c);if(typeof this.mode!="string"){this.mode=this.defaultMode}var e=this.offset,d={h:0},b=Math.floor(this.offset/2);switch(this.mode.toLowerCase()){case"drop":if(a.supports.CSS3BoxShadow){d.w=d.h=-e;d.l=d.t=e}else{d.w=0;d.l=d.t=e;d.t-=1;if(a.isIE){d.l-=e+b;d.t-=e+b;d.w-=b;d.h-=b;d.t+=1}}break;case"sides":if(a.supports.CSS3BoxShadow){d.h-=e;d.t=e;d.l=d.w=0}else{d.w=(e*2);d.l=-e;d.t=e-1;if(a.isIE){d.l-=(e-b);d.t-=e+b;d.l+=1;d.w-=(e-b)*2;d.w-=b+1;d.h-=1}}break;case"frame":if(a.supports.CSS3BoxShadow){d.l=d.w=d.t=0}else{d.w=d.h=(e*2);d.l=d.t=-e;d.t+=1;d.h-=2;if(a.isIE){d.l-=(e-b);d.t-=(e-b);d.l+=1;d.w-=(e+b+1);d.h-=(e+b);d.h+=1}break}}this.adjusts=d},offset:4,defaultMode:"drop",show:function(b){b=a.get(b);if(!this.el){this.el=a.ShadowPool.pull();if(this.el.dom.nextSibling!=b.dom){this.el.insertBefore(b)}}this.el.setStyle("z-index",this.zIndex||parseInt(b.getStyle("z-index"),10)-1);if(a.isIE&&!a.supports.CSS3BoxShadow){this.el.dom.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity=50) progid:DXImageTransform.Microsoft.Blur(pixelradius="+(this.offset)+")"}this.realign(b.getLeft(true),b.getTop(true),b.getWidth(),b.getHeight());this.el.dom.style.display="block"},isVisible:function(){return this.el?true:false},realign:function(c,q,m,h){if(!this.el){return}var b=this.adjusts,j=this.el.dom,k=j.style,e,g,n,f,i,p;k.left=(c+b.l)+"px";k.top=(q+b.t)+"px";e=Math.max(m+b.w,0);g=Math.max(h+b.h,0);i=e+"px";p=g+"px";if(k.width!=i||k.height!=p){k.width=i;k.height=p;if(a.supports.CSS3BoxShadow){k.boxShadow="0 0 "+this.offset+"px 0 #888"}else{if(!a.isIE){n=j.childNodes;f=Math.max(0,(e-12))+"px";n[0].childNodes[1].style.width=f;n[1].childNodes[1].style.width=f;n[2].childNodes[1].style.width=f;n[1].style.height=Math.max(0,(g-12))+"px"}}}},hide:function(){if(this.el){this.el.dom.style.display="none";a.ShadowPool.push(this.el);delete this.el}},setZIndex:function(b){this.zIndex=b;if(this.el){this.el.setStyle("z-index",b)}}});a.define("Ext.button.Split",{alias:"widget.splitbutton",extend:"Ext.button.Button",alternateClassName:"Ext.SplitButton",arrowCls:"split",split:true,initComponent:function(){this.callParent();this.addEvents("arrowclick")},setArrowHandler:function(c,b){this.arrowHandler=c;this.scope=b},onClick:function(d,b){var c=this;d.preventDefault();if(!c.disabled){if(c.overMenuTrigger){if(c.menu&&!c.menu.isVisible()&&!c.ignoreNextClick){c.showMenu()}c.fireEvent("arrowclick",c,d);if(c.arrowHandler){c.arrowHandler.call(c.scope||c,c,d)}}else{if(c.enableToggle){c.toggle()}c.fireEvent("click",c,d);if(c.handler){c.handler.call(c.scope||c,c,d)}c.onBlur()}}}});a.define("Ext.button.Cycle",{alias:"widget.cycle",extend:"Ext.button.Split",alternateClassName:"Ext.CycleButton",getButtonText:function(c){var b=this,d="";if(c&&b.showText===true){if(b.prependText){d+=b.prependText}d+=c.text;return d}return b.text},setActiveItem:function(d,b){var c=this;if(!a.isObject(d)){d=c.menu.getComponent(d)}if(d){if(!c.rendered){c.text=c.getButtonText(d);c.iconCls=d.iconCls}else{c.setText(c.getButtonText(d));c.setIconCls(d.iconCls)}c.activeItem=d;if(!d.checked){d.setChecked(true,false)}if(c.forceIcon){c.setIconCls(c.forceIcon)}if(!b){c.fireEvent("change",c,d)}}},getActiveItem:function(){return this.activeItem},initComponent:function(){var d=this,c=0,b;d.addEvents("change");if(d.changeHandler){d.on("change",d.changeHandler,d.scope||d);delete d.changeHandler}b=(d.menu.items||[]).concat(d.items||[]);d.menu=a.applyIf({cls:a.baseCSSPrefix+"cycle-menu",items:[]},d.menu);a.each(b,function(f,e){f=a.applyIf({group:d.id,itemIndex:e,checkHandler:d.checkHandler,scope:d,checked:f.checked||false},f);d.menu.items.push(f);if(f.checked){c=e}});d.itemCount=d.menu.items.length;d.callParent(arguments);d.on("click",d.toggleSelected,d);d.setActiveItem(c,d);if(d.width&&d.showText){d.addCls(a.baseCSSPrefix+"cycle-fixed-width")}},checkHandler:function(b,c){if(c){this.setActiveItem(b)}},toggleSelected:function(){var d=this,b=d.menu,c;c=d.activeItem.next(":not([disabled])")||b.items.getAt(0);c.setChecked(true)}});a.define("Ext.container.ButtonGroup",{extend:"Ext.panel.Panel",alias:"widget.buttongroup",alternateClassName:"Ext.ButtonGroup",baseCls:a.baseCSSPrefix+"btn-group",layout:{type:"table"},defaultType:"button",frame:true,frameHeader:false,internalDefaults:{removeMode:"container",hideParent:true},initComponent:function(){var b=this,c=b.columns;b.noTitleCls=b.baseCls+"-notitle";if(c){b.layout=a.apply({},{columns:c},b.layout)}if(!b.title){b.addCls(b.noTitleCls)}b.callParent(arguments)},afterLayout:function(){var c=this;c.callParent(arguments);if(c.layout.table&&(a.isIEQuirks||a.isIE6)&&!c.width){var b=c.getTargetEl();b.setWidth(c.layout.table.offsetWidth+b.getPadding("lr"))}},afterRender:function(){var b=this;if(b.header){b.header.insert(0,{xtype:"component",ui:b.ui,html:"&nbsp;",flex:1})}b.callParent(arguments)},onBeforeAdd:function(b){if(b.is("button")){b.ui=b.ui+"-toolbar"}this.callParent(arguments)},applyDefaults:function(e){if(!a.isString(e)){e=this.callParent(arguments);var b=this.internalDefaults;if(e.events){a.applyIf(e.initialConfig,b);a.apply(e,b)}else{a.applyIf(e,b)}}return e}});a.define("Ext.container.Viewport",{extend:"Ext.container.Container",alias:"widget.viewport",requires:["Ext.EventManager"],alternateClassName:"Ext.Viewport",isViewport:true,ariaRole:"application",initComponent:function(){var d=this,b=a.fly(document.body.parentNode),c;d.callParent(arguments);b.addCls(a.baseCSSPrefix+"viewport");if(d.autoScroll){b.setStyle("overflow","auto")}d.el=c=a.getBody();c.setHeight=a.emptyFn;c.setWidth=a.emptyFn;c.setSize=a.emptyFn;c.dom.scroll="no";d.allowDomMove=false;a.EventManager.onWindowResize(d.fireResize,d);d.renderTo=d.el},fireResize:function(b,c){this.setSize(b,c)}});a.define("Ext.dd.DDTarget",{extend:"Ext.dd.DragDrop",constructor:function(d,b,c){if(d){this.initTarget(d,b,c)}},getDragEl:a.emptyFn,isValidHandleChild:a.emptyFn,startDrag:a.emptyFn,endDrag:a.emptyFn,onDrag:a.emptyFn,onDragDrop:a.emptyFn,onDragEnter:a.emptyFn,onDragOut:a.emptyFn,onDragOver:a.emptyFn,onInvalidDrop:a.emptyFn,onMouseDown:a.emptyFn,onMouseUp:a.emptyFn,setXConstraint:a.emptyFn,setYConstraint:a.emptyFn,resetConstraints:a.emptyFn,clearConstraints:a.emptyFn,clearTicks:a.emptyFn,setInitPosition:a.emptyFn,setDragElId:a.emptyFn,setHandleElId:a.emptyFn,setOuterHandleElId:a.emptyFn,addInvalidHandleClass:a.emptyFn,addInvalidHandleId:a.emptyFn,addInvalidHandleType:a.emptyFn,removeInvalidHandleClass:a.emptyFn,removeInvalidHandleId:a.emptyFn,removeInvalidHandleType:a.emptyFn,toString:function(){return("DDTarget "+this.id)}});a.define("Ext.dd.DragTracker",{uses:["Ext.util.Region"],mixins:{observable:"Ext.util.Observable"},active:false,trackOver:false,tolerance:5,autoStart:false,constructor:function(b){a.apply(this,b);this.addEvents("mouseover","mouseout","mousedown","mouseup","mousemove","beforedragstart","dragstart","dragend","drag");this.dragRegion=a.create("Ext.util.Region",0,0,0,0);if(this.el){this.initEl(this.el)}this.mixins.observable.constructor.call(this);if(this.disabled){this.disable()}},initEl:function(b){this.el=a.get(b);this.handle=a.get(this.delegate);this.delegate=this.handle?undefined:this.delegate;if(!this.handle){this.handle=this.el}this.mon(this.handle,{mousedown:this.onMouseDown,delegate:this.delegate,scope:this});if(this.trackOver||this.overCls){this.mon(this.handle,{mouseover:this.onMouseOver,mouseout:this.onMouseOut,delegate:this.delegate,scope:this})}},disable:function(){this.disabled=true},enable:function(){this.disabled=false},destroy:function(){this.clearListeners();delete this.el},onMouseOver:function(d,c){var b=this;if(!b.disabled){if(a.EventManager.contains(d)||b.delegate){b.mouseIsOut=false;if(b.overCls){b.el.addCls(b.overCls)}b.fireEvent("mouseover",b,d,b.delegate?d.getTarget(b.delegate,c):b.handle)}}},onMouseOut:function(b){if(this.mouseIsDown){this.mouseIsOut=true}else{if(this.overCls){this.el.removeCls(this.overCls)}this.fireEvent("mouseout",this,b)}},onMouseDown:function(c,b){if(this.disabled||c.dragTracked){return}this.dragTarget=this.delegate?b:this.handle.dom;this.startXY=this.lastXY=c.getXY();this.startRegion=a.fly(this.dragTarget).getRegion();if(this.fireEvent("mousedown",this,c)===false||this.fireEvent("beforedragstart",this,c)===false||this.onBeforeStart(c)===false){return}this.mouseIsDown=true;c.dragTracked=true;if(this.preventDefault!==false){c.preventDefault()}a.getDoc().on({scope:this,mouseup:this.onMouseUp,mousemove:this.onMouseMove,selectstart:this.stopSelect});if(this.autoStart){this.timer=a.defer(this.triggerStart,this.autoStart===true?1000:this.autoStart,this,[c])}},onMouseMove:function(f,d){if(this.active&&a.isIE&&!f.browserEvent.button){f.preventDefault();this.onMouseUp(f);return}f.preventDefault();var c=f.getXY(),b=this.startXY;this.lastXY=c;if(!this.active){if(Math.max(Math.abs(b[0]-c[0]),Math.abs(b[1]-c[1]))>this.tolerance){this.triggerStart(f)}else{return}}if(this.fireEvent("mousemove",this,f)===false){this.onMouseUp(f)}else{this.onDrag(f);this.fireEvent("drag",this,f)}},onMouseUp:function(b){this.mouseIsDown=false;delete b.dragTracked;if(this.mouseIsOut){this.mouseIsOut=false;this.onMouseOut(b)}b.preventDefault();this.fireEvent("mouseup",this,b);this.endDrag(b)},endDrag:function(d){var c=a.getDoc(),b=this.active;c.un("mousemove",this.onMouseMove,this);c.un("mouseup",this.onMouseUp,this);c.un("selectstart",this.stopSelect,this);this.clearStart();this.active=false;if(b){this.onEnd(d);this.fireEvent("dragend",this,d)}delete this._constrainRegion},triggerStart:function(b){this.clearStart();this.active=true;this.onStart(b);this.fireEvent("dragstart",this,b)},clearStart:function(){if(this.timer){clearTimeout(this.timer);delete this.timer}},stopSelect:function(b){b.stopEvent();return false},onBeforeStart:function(b){},onStart:function(b){},onDrag:function(b){},onEnd:function(b){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getConstrainRegion:function(){if(this.constrainTo){if(this.constrainTo instanceof a.util.Region){return this.constrainTo}if(!this._constrainRegion){this._constrainRegion=a.fly(this.constrainTo).getViewRegion()}}else{if(!this._constrainRegion){this._constrainRegion=this.getDragCt().getViewRegion()}}return this._constrainRegion},getXY:function(b){return b?this.constrainModes[b](this,this.lastXY):this.lastXY},getOffset:function(d){var c=this.getXY(d),b=this.startXY;return[c[0]-b[0],c[1]-b[1]]},constrainModes:{point:function(c,e){var d=c.dragRegion,b=c.getConstrainRegion();if(!b){return e}d.x=d.left=d[0]=d.right=e[0];d.y=d.top=d[1]=d.bottom=e[1];d.constrainTo(b);return[d.left,d.top]},dragTarget:function(d,g){var c=d.startXY,f=d.startRegion.copy(),b=d.getConstrainRegion(),e;if(!b){return g}f.translateBy(g[0]-c[0],g[1]-c[1]);if(f.right>b.right){g[0]+=e=(b.right-f.right);f.left+=e}if(f.left<b.left){g[0]+=(b.left-f.left)}if(f.bottom>b.bottom){g[1]+=e=(b.bottom-f.bottom);f.top+=e}if(f.top<b.top){g[1]+=(b.top-f.top)}return g}}});a.define("Ext.dd.DragZone",{extend:"Ext.dd.DragSource",constructor:function(c,b){this.callParent([c,b]);if(this.containerScroll){a.dd.ScrollManager.register(this.el)}},getDragData:function(b){return a.dd.Registry.getHandleFromEvent(b)},onInitDrag:function(b,c){this.proxy.update(this.dragData.ddel.cloneNode(true));this.onStartDrag(b,c);return true},afterRepair:function(){var b=this;if(a.enableFx){a.fly(b.dragData.ddel).highlight(b.repairHighlightColor)}b.dragging=false},getRepairXY:function(b){return a.core.Element.fly(this.dragData.ddel).getXY()},destroy:function(){this.callParent();if(this.containerScroll){a.dd.ScrollManager.unregister(this.el)}}});a.define("Ext.dd.ScrollManager",{singleton:true,requires:["Ext.dd.DragDropManager"],constructor:function(){var b=a.dd.DragDropManager;b.fireEvents=a.Function.createSequence(b.fireEvents,this.onFire,this);b.stopDrag=a.Function.createSequence(b.stopDrag,this.onStop,this);this.doScroll=a.Function.bind(this.doScroll,this);this.ddmInstance=b;this.els={};this.dragEl=null;this.proc={}},onStop:function(b){var c=a.dd.ScrollManager;c.dragEl=null;c.clearProc()},triggerRefresh:function(){if(this.ddmInstance.dragCurrent){this.ddmInstance.refreshCache(this.ddmInstance.dragCurrent.groups)}},doScroll:function(){if(this.ddmInstance.dragCurrent){var b=this.proc,c=b.el,d=b.el.ddScrollConfig,e=d?d.increment:this.increment;if(!this.animate){if(c.scroll(b.dir,e)){this.triggerRefresh()}}else{c.scroll(b.dir,e,true,this.animDuration,this.triggerRefresh)}}},clearProc:function(){var b=this.proc;if(b.id){clearInterval(b.id)}b.id=0;b.el=null;b.dir=""},startProc:function(c,b){this.clearProc();this.proc.el=c;this.proc.dir=b;var e=c.ddScrollConfig?c.ddScrollConfig.ddGroup:undefined,d=(c.ddScrollConfig&&c.ddScrollConfig.frequency)?c.ddScrollConfig.frequency:this.frequency;if(e===undefined||this.ddmInstance.dragCurrent.ddGroup==e){this.proc.id=setInterval(this.doScroll,d)}},onFire:function(h,k){if(k||!this.ddmInstance.dragCurrent){return}if(!this.dragEl||this.dragEl!=this.ddmInstance.dragCurrent){this.dragEl=this.ddmInstance.dragCurrent;this.refreshCache()}var l=h.getXY(),m=h.getPoint(),i=this.proc,g=this.els;for(var d in g){var f=g[d],b=f._region;var j=f.ddScrollConfig?f.ddScrollConfig:this;if(b&&b.contains(m)&&f.isScrollable()){if(b.bottom-m.y<=j.vthresh){if(i.el!=f){this.startProc(f,"down")}return}else{if(b.right-m.x<=j.hthresh){if(i.el!=f){this.startProc(f,"left")}return}else{if(m.y-b.top<=j.vthresh){if(i.el!=f){this.startProc(f,"up")}return}else{if(m.x-b.left<=j.hthresh){if(i.el!=f){this.startProc(f,"right")}return}}}}}}this.clearProc()},register:function(d){if(a.isArray(d)){for(var c=0,b=d.length;c<b;c++){this.register(d[c])}}else{d=a.get(d);this.els[d.id]=d}},unregister:function(d){if(a.isArray(d)){for(var c=0,b=d.length;c<b;c++){this.unregister(d[c])}}else{d=a.get(d);delete this.els[d.id]}},vthresh:25,hthresh:25,increment:100,frequency:500,animate:true,animDuration:0.4,ddGroup:undefined,refreshCache:function(){var b=this.els,c;for(c in b){if(typeof b[c]=="object"){b[c]._region=b[c].getRegion()}}}});a.define("Ext.dd.DropTarget",{extend:"Ext.dd.DDTarget",requires:["Ext.dd.ScrollManager"],constructor:function(c,b){this.el=a.get(c);a.apply(this,b);if(this.containerScroll){a.dd.ScrollManager.register(this.el)}this.callParent([this.el.dom,this.ddGroup||this.group,{isTarget:true}])},dropAllowed:a.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:a.baseCSSPrefix+"dd-drop-nodrop",isTarget:true,isNotifyTarget:true,notifyEnter:function(b,d,c){if(this.overClass){this.el.addCls(this.overClass)}return this.dropAllowed},notifyOver:function(b,d,c){return this.dropAllowed},notifyOut:function(b,d,c){if(this.overClass){this.el.removeCls(this.overClass)}},notifyDrop:function(b,d,c){return false},destroy:function(){this.callParent();if(this.containerScroll){a.dd.ScrollManager.unregister(this.el)}}});a.define("Ext.dd.Registry",{singleton:true,constructor:function(){this.elements={};this.handles={};this.autoIdSeed=0},getId:function(c,b){if(typeof c=="string"){return c}var d=c.id;if(!d&&b!==false){d="extdd-"+(++this.autoIdSeed);c.id=d}return d},register:function(e,f){f=f||{};if(typeof e=="string"){e=document.getElementById(e)}f.ddel=e;this.elements[this.getId(e)]=f;if(f.isHandle!==false){this.handles[f.ddel.id]=f}if(f.handles){var d=f.handles;for(var c=0,b=d.length;c<b;c++){this.handles[this.getId(d[c])]=f}}},unregister:function(e){var g=this.getId(e,false);var f=this.elements[g];if(f){delete this.elements[g];if(f.handles){var d=f.handles;for(var c=0,b=d.length;c<b;c++){delete this.handles[this.getId(d[c],false)]}}}},getHandle:function(b){if(typeof b!="string"){b=b.id}return this.handles[b]},getHandleFromEvent:function(c){var b=c.getTarget();return b?this.handles[b.id]:null},getTarget:function(b){if(typeof b!="string"){b=b.id}return this.elements[b]},getTargetFromEvent:function(c){var b=c.getTarget();return b?this.elements[b.id]||this.handles[b.id]:null}});a.define("Ext.dd.DropZone",{extend:"Ext.dd.DropTarget",requires:["Ext.dd.Registry"],getTargetFromEvent:function(b){return a.dd.Registry.getTargetFromEvent(b)},onNodeEnter:function(f,b,d,c){},onNodeOver:function(f,b,d,c){return this.dropAllowed},onNodeOut:function(f,b,d,c){},onNodeDrop:function(f,b,d,c){return false},onContainerOver:function(b,d,c){return this.dropNotAllowed},onContainerDrop:function(b,d,c){return false},notifyEnter:function(b,d,c){return this.dropNotAllowed},notifyOver:function(b,d,c){var f=this.getTargetFromEvent(d);if(!f){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,b,d,c);this.lastOverNode=null}return this.onContainerOver(b,d,c)}if(this.lastOverNode!=f){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,b,d,c)}this.onNodeEnter(f,b,d,c);this.lastOverNode=f}return this.onNodeOver(f,b,d,c)},notifyOut:function(b,d,c){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,b,d,c);this.lastOverNode=null}},notifyDrop:function(b,d,c){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,b,d,c);this.lastOverNode=null}var f=this.getTargetFromEvent(d);return f?this.onNodeDrop(f,b,d,c):this.onContainerDrop(b,d,c)},triggerCacheRefresh:function(){a.dd.DDM.refreshCache(this.groups)}});a.define("Ext.flash.Component",{extend:"Ext.Component",alternateClassName:"Ext.FlashComponent",alias:"widget.flash",flashVersion:"9.0.115",backgroundColor:"#ffffff",wmode:"opaque",swfWidth:"100%",swfHeight:"100%",expressInstall:false,renderTpl:['<div id="{swfId}"></div>'],initComponent:function(){this.callParent();this.addEvents("success","failure")},onRender:function(){var d=this,f,e,c,b=d.getSwfId();d.renderData.swfId=b;d.callParent(arguments);f=a.apply({allowScriptAccess:"always",bgcolor:d.backgroundColor,wmode:d.wmode},d.flashParams);e=a.apply({allowedDomain:document.location.hostname},d.flashVars);new swfobject.embedSWF(d.url,b,d.swfWidth,d.swfHeight,d.flashVersion,d.expressInstall?d.statics.EXPRESS_INSTALL_URL:c,e,f,d.flashAttributes,a.bind(d.swfCallback,d))},swfCallback:function(c){var b=this;if(c.success){b.swf=a.get(c.ref);b.onSuccess();b.fireEvent("success",b)}else{b.onFailure();b.fireEvent("failure",b)}},getSwfId:function(){return this.swfId||(this.swfId="extswf"+this.getAutoId())},onSuccess:function(){this.swf.setStyle("visibility","inherit")},onFailure:a.emptyFn,beforeDestroy:function(){var c=this,b=c.swf;if(b){swfobject.removeSWF(c.getSwfId());a.destroy(b);delete c.swf}c.callParent()},statics:{EXPRESS_INSTALL_URL:"http://swfobject.googlecode.com/svn/trunk/swfobject/expressInstall.swf"}});a.define("Ext.form.action.Action",{alternateClassName:"Ext.form.Action",constructor:function(b){if(b){a.apply(this,b)}var c=b.params;if(a.isString(c)){this.params=a.Object.fromQueryString(c)}},run:a.emptyFn,onFailure:function(b){this.response=b;this.failureType=a.form.action.Action.CONNECT_FAILURE;this.form.afterAction(this,false)},processResponse:function(b){this.response=b;if(!b.responseText&&!b.responseXML){return true}return(this.result=this.handleResponse(b))},getUrl:function(){return this.url||this.form.url},getMethod:function(){return(this.method||this.form.method||"POST").toUpperCase()},getParams:function(){return a.apply({},this.params,this.form.baseParams)},createCallback:function(){var d=this,b,c=d.form;return{success:d.onSuccess,failure:d.onFailure,scope:d,timeout:(this.timeout*1000)||(c.timeout*1000),upload:c.fileUpload?d.onSuccess:b}},statics:{CLIENT_INVALID:"client",SERVER_INVALID:"server",CONNECT_FAILURE:"connect",LOAD_FAILURE:"load"}});a.define("Ext.form.action.Submit",{extend:"Ext.form.action.Action",alternateClassName:"Ext.form.Action.Submit",alias:"formaction.submit",type:"submit",run:function(){var b=this.form;if(this.clientValidation===false||b.isValid()){this.doSubmit()}else{this.failureType=a.form.action.Action.CLIENT_INVALID;b.afterAction(this,false)}},doSubmit:function(){var c,b=a.apply(this.createCallback(),{url:this.getUrl(),method:this.getMethod(),headers:this.headers});if(this.form.hasUpload()){c=b.form=this.buildForm();b.isUpload=true}else{b.params=this.getParams()}a.Ajax.request(b);if(c){a.removeNode(c)}},getParams:function(){var d=false,c=this.callParent(),b=this.form.getValues(d,d,this.submitEmptyText!==d);return a.apply({},b,c)},buildForm:function(){var d=[],e,f,c=this.form,h=this.getParams(),b=[];c.getFields().each(function(i){if(i.isFileUpload()){b.push(i)}});function g(i,j){d.push({tag:"input",type:"hidden",name:i,value:a.String.htmlEncode(j)})}a.iterate(h,function(i,j){if(a.isArray(j)){a.each(j,function(k){g(i,k)})}else{g(i,j)}});e={tag:"form",action:this.getUrl(),method:this.getMethod(),target:this.target||"_self",style:"display:none",cn:d};if(b.length){e.encoding=e.enctype="multipart/form-data"}f=a.core.DomHelper.append(a.getBody(),e);a.Array.each(b,function(i){if(i.rendered){f.appendChild(i.extractFileInput())}});return f},onSuccess:function(c){var d=this.form,e=true,b=this.processResponse(c);if(b!==true&&!b.success){if(b.errors){d.markInvalid(b.errors)}this.failureType=a.form.action.Action.SERVER_INVALID;e=false}d.afterAction(this,e)},handleResponse:function(e){var h=this.form,f=h.errorReader,d,j,g,b,c;if(f){d=f.read(e);c=d.records;j=[];if(c){for(g=0,b=c.length;g<b;g++){j[g]=c[g].data}}if(j.length<1){j=null}return{success:d.success,errors:j}}return a.decode(e.responseText)}});a.define("Ext.util.ComponentDragger",{extend:"Ext.dd.DragTracker",autoStart:500,constructor:function(b,c){this.comp=b;this.initialConstrainTo=c.constrainTo;this.callParent([c])},onStart:function(d){var c=this,b=c.comp;this.startPosition=b.getPosition();if(b.ghost&&!b.liveDrag){c.proxy=b.ghost();c.dragTarget=c.proxy.header.el}if(c.constrain||c.constrainDelegate){c.constrainTo=c.calculateConstrainRegion()}},calculateConstrainRegion:function(){var e=this,b=e.comp,h=e.initialConstrainTo,f,g,d=b.el.shadow?b.el.shadow.offset:0;if(!(h instanceof a.util.Region)){h=a.fly(h).getViewRegion()}if(d){h.adjust(0,-d,-d,d)}if(!e.constrainDelegate){f=a.fly(e.dragTarget).getRegion();g=e.proxy?e.proxy.el.getRegion():b.el.getRegion();h.adjust(f.top-g.top,f.right-g.right,f.bottom-g.bottom,f.left-g.left)}return h},onDrag:function(d){var c=this,b=(c.proxy&&!c.comp.liveDrag)?c.proxy:c.comp,f=c.getOffset(c.constrain||c.constrainDelegate?"dragTarget":null);b.setPosition(c.startPosition[0]+f[0],c.startPosition[1]+f[1])},onEnd:function(b){if(this.proxy&&!this.comp.liveDrag){this.comp.unghost()}}});a.define("Ext.form.Labelable",{requires:["Ext.XTemplate"],labelableRenderTpl:['<tpl if="!hideLabel && !(!fieldLabel && hideEmptyLabel)">','<label<tpl if="inputId"> for="{inputId}"</tpl> class="{labelCls}"<tpl if="labelStyle"> style="{labelStyle}"</tpl>>','<tpl if="fieldLabel">{fieldLabel}{labelSeparator}</tpl>',"</label>","</tpl>",'<div class="{baseBodyCls} {fieldBodyCls}"<tpl if="inputId"> id="{baseBodyCls}-{inputId}"</tpl> role="presentation">{subTplMarkup}</div>','<div class="{errorMsgCls}" style="display:none"></div>','<div class="{clearCls}" role="presentation"><!-- --></div>',{compiled:true,disableFormats:true}],activeErrorsTpl:['<tpl if="errors && errors.length">','<ul><tpl for="errors"><li<tpl if="xindex == xcount"> class="last"</tpl>>{.}</li></tpl></ul>',"</tpl>"],isFieldLabelable:true,formItemCls:a.baseCSSPrefix+"form-item",labelCls:a.baseCSSPrefix+"form-item-label",errorMsgCls:a.baseCSSPrefix+"form-error-msg",baseBodyCls:a.baseCSSPrefix+"form-item-body",fieldBodyCls:"",clearCls:a.baseCSSPrefix+"clear",invalidCls:a.baseCSSPrefix+"form-invalid",fieldLabel:undefined,labelAlign:"left",labelWidth:100,labelPad:5,labelSeparator:":",hideLabel:false,hideEmptyLabel:true,preventMark:false,autoFitErrors:true,msgTarget:"qtip",initLabelable:function(){this.addCls(this.formItemCls);this.addEvents("errorchange")},getFieldLabel:function(){return this.fieldLabel||""},getLabelableRenderData:function(){var e=this,c=e.labelAlign,d=e.labelPad,b;if(c==="top"){b="margin-bottom:"+d+"px;"}else{b="margin-right:"+d+"px;";if(a.isBorderBox){b+="width:"+e.labelWidth+"px;"}}return a.copyTo({inputId:e.getInputId(),fieldLabel:e.getFieldLabel(),labelStyle:b+(e.labelStyle||""),subTplMarkup:e.getSubTplMarkup()},e,"hideLabel,hideEmptyLabel,labelCls,fieldBodyCls,baseBodyCls,errorMsgCls,clearCls,labelSeparator",true)},getLabelableSelectors:function(){return{labelEl:"label."+this.labelCls,bodyEl:"."+this.baseBodyCls,errorEl:"."+this.errorMsgCls}},getSubTplMarkup:function(){return""},getInputId:function(){return""},getActiveError:function(){return this.activeError||""},hasActiveError:function(){return !!this.getActiveError()},setActiveError:function(b){this.activeError=b;this.activeErrors=[b];this.renderActiveError()},getActiveErrors:function(){return this.activeErrors||[]},setActiveErrors:function(b){this.activeErrors=b;this.activeError=this.getTpl("activeErrorsTpl").apply({errors:b});this.renderActiveError()},unsetActiveError:function(){delete this.activeError;delete this.activeErrors;this.renderActiveError()},renderActiveError:function(){var d=this,c=d.getActiveError(),b=!!c;if(c!==d.lastActiveError){d.fireEvent("errorchange",d,c);d.lastActiveError=c}if(d.rendered&&!d.isDestroyed&&!d.preventMark){d.el[b?"addCls":"removeCls"](d.invalidCls);d.getActionEl().dom.setAttribute("aria-invalid",b);d.errorEl.dom.innerHTML=c}},setFieldDefaults:function(c){var b=this;a.iterate(c,function(d,e){if(!b.hasOwnProperty(d)){b[d]=e}})},getBodyNaturalWidth:function(){return this.bodyEl.getWidth()}});a.define("Ext.form.field.Field",{isFormField:true,disabled:false,submitValue:true,validateOnChange:true,suspendCheckChange:0,initField:function(){this.addEvents("change","validitychange","dirtychange");this.initValue()},initValue:function(){var b=this;b.originalValue=b.lastValue=b.value;b.suspendCheckChange++;b.setValue(b.value);b.suspendCheckChange--},getName:function(){return this.name},getValue:function(){return this.value},setValue:function(c){var b=this;b.value=c;b.checkChange();return b},isEqual:function(c,b){return String(c)===String(b)},getSubmitData:function(){var b=this,c=null;if(!b.disabled&&b.submitValue&&!b.isFileUpload()){c={};c[b.getName()]=""+b.getValue()}return c},getModelData:function(){var b=this,c=null;if(!b.disabled&&!b.isFileUpload()){c={};c[b.getName()]=b.getValue()}return c},reset:function(){var b=this;b.setValue(b.originalValue);b.clearInvalid();delete b.wasValid},resetOriginalValue:function(){this.originalValue=this.getValue();this.checkDirty()},checkChange:function(){if(!this.suspendCheckChange){var d=this,c=d.getValue(),b=d.lastValue;if(!d.isEqual(c,b)&&!d.isDestroyed){d.lastValue=c;d.fireEvent("change",d,c,b);d.onChange(c,b)}}},onChange:function(c,b){if(this.validateOnChange){this.validate()}this.checkDirty()},isDirty:function(){var b=this;return !b.disabled&&!b.isEqual(b.getValue(),b.originalValue)},checkDirty:function(){var b=this,c=b.isDirty();if(c!==b.wasDirty){b.fireEvent("dirtychange",b,c);b.onDirtyChange(c);b.wasDirty=c}},onDirtyChange:a.emptyFn,getErrors:function(b){return[]},isValid:function(){var b=this;return b.disabled||a.isEmpty(b.getErrors())},validate:function(){var b=this,c=b.isValid();if(c!==b.wasValid){b.wasValid=c;b.fireEvent("validitychange",b,c)}return c},batchChanges:function(b){this.suspendCheckChange++;b();this.suspendCheckChange--;this.checkChange()},isFileUpload:function(){return false},extractFileInput:function(){return null},markInvalid:a.emptyFn,clearInvalid:a.emptyFn});a.define("Ext.layout.component.field.Field",{alias:["layout.field"],extend:"Ext.layout.component.Component",uses:["Ext.tip.QuickTip","Ext.util.TextMetrics"],type:"field",beforeLayout:function(c,b){var d=this;return d.callParent(arguments)||(!d.owner.preventMark&&d.activeError!==d.owner.getActiveError())},onLayout:function(b,m){var g=this,c=g.owner,f=g.getLabelStrategy(),l=g.getErrorStrategy(),j=a.isDefined,n=a.isNumber,i,h,k,d,e;i=g.lastComponentSize||{};if(!j(b)){b=i.width;if(b<0){b=e}}if(!j(m)){m=i.height;if(m<0){m=e}}h=!n(b);k=!n(m);d={autoWidth:h,autoHeight:k,width:h?c.getBodyNaturalWidth():b,height:m,setOuterWidth:false,insets:{top:0,right:0,bottom:0,left:0}};f.prepare(c,d);l.prepare(c,d);f.adjustHorizInsets(c,d);l.adjustHorizInsets(c,d);f.layoutHoriz(c,d);l.layoutHoriz(c,d);f.adjustVertInsets(c,d);l.adjustVertInsets(c,d);f.layoutVert(c,d);l.layoutVert(c,d);if(h&&k){g.setElementSize(c.el,(d.setOuterWidth?d.width:e),d.height)}else{g.setTargetSize((!h||d.setOuterWidth?d.width:e),d.height)}g.sizeBody(d);g.activeError=c.getActiveError()},sizeBody:function(i){var h=this,d=h.owner,e=i.insets,c=i.width,f=i.height,g=a.isNumber(c)?c-e.left-e.right:c,b=a.isNumber(f)?f-e.top-e.bottom:f;h.setElementSize(d.bodyEl,g,b);h.sizeBodyContents(g,b)},sizeBodyContents:a.emptyFn,getLabelStrategy:function(){var c=this,d=c.labelStrategies,b=c.owner.labelAlign;return d[b]||d.base},getErrorStrategy:function(){var d=this,b=d.owner,e=d.errorStrategies,c=b.msgTarget;return !b.preventMark&&a.isString(c)?(e[c]||e.elementId):e.none},labelStrategies:(function(){var c=a.applyIf,b=a.emptyFn,d={prepare:function(f,i){var g=f.labelCls+"-"+f.labelAlign,h=f.labelEl;if(h&&!h.hasCls(g)){h.addCls(g)}},adjustHorizInsets:b,adjustVertInsets:b,layoutHoriz:b,layoutVert:b},e=c({prepare:function(f,g){d.prepare(f,g);if(g.autoWidth){g.width+=(!f.labelEl?0:f.labelWidth+f.labelPad)}g.setOuterWidth=true},adjustHorizInsets:function(f,g){if(f.labelEl){g.insets.left+=f.labelWidth+f.labelPad}},layoutHoriz:function(f,h){var g=f.labelEl;if(g&&!f.isLabelSized&&!a.isBorderBox){g.setWidth(f.labelWidth);f.isLabelSized=true}}},d);return{base:d,top:c({adjustVertInsets:function(f,h){var g=f.labelEl;if(g){h.insets.top+=a.util.TextMetrics.measure(g,f.fieldLabel,h.width).height+g.getFrameWidth("tb")+f.labelPad}}},d),left:e,right:e}})(),errorStrategies:(function(){function d(h,g){var i=h.getStyle("display")!=="none";if(g!==i){h.setDisplayed(g)}}function f(h,g,i){if(h.getStyle(g)!==i){h.setStyle(g,i)}}var c=a.applyIf,b=a.emptyFn,e={prepare:function(g){d(g.errorEl,false)},adjustHorizInsets:b,adjustVertInsets:b,layoutHoriz:b,layoutVert:b};return{none:e,side:c({prepare:function(g){var h=g.errorEl;h.addCls(a.baseCSSPrefix+"form-invalid-icon");a.layout.component.field.Field.initTip();h.dom.setAttribute("data-errorqtip",g.getActiveError()||"");d(h,g.hasActiveError())},adjustHorizInsets:function(g,h){if(g.autoFitErrors&&g.hasActiveError()){h.insets.right+=g.errorEl.getWidth()}},layoutHoriz:function(g,h){if(g.hasActiveError()){f(g.errorEl,"left",h.width-h.insets.right+"px")}},layoutVert:function(g,h){if(g.hasActiveError()){f(g.errorEl,"top",h.insets.top+"px")}}},e),under:c({prepare:function(g){var i=g.errorEl,h=a.baseCSSPrefix+"form-invalid-under";if(!i.hasCls(h)){i.addCls(h)}d(i,g.hasActiveError())},adjustVertInsets:function(g,h){if(g.autoFitErrors){h.insets.bottom+=g.errorEl.getHeight()}},layoutHoriz:function(g,i){var j=g.errorEl,h=i.insets;f(j,"width",i.width-h.right-h.left+"px");f(j,"marginLeft",h.left+"px")}},e),qtip:c({prepare:function(g){d(g.errorEl,false);a.layout.component.field.Field.initTip();g.getActionEl().dom.setAttribute("data-errorqtip",g.getActiveError()||"")}},e),title:c({prepare:function(g){d(g.errorEl,false);g.el.dom.title=g.getActiveError()||""}},e),elementId:c({prepare:function(g){d(g.errorEl,false);var h=a.fly(g.msgTarget);if(h){h.dom.innerHTML=g.getActiveError()||"";h.setDisplayed(g.hasActiveError())}}},e)}})(),statics:{initTip:function(){var b=this.tip;if(!b){b=this.tip=a.create("Ext.tip.QuickTip",{baseCls:a.baseCSSPrefix+"form-invalid-tip",renderTo:a.getBody()});b.tagConfig=a.apply({},{attribute:"errorqtip"},b.tagConfig)}},destroyTip:function(){var b=this.tip;if(b){b.destroy();delete this.tip}}}});a.define("Ext.form.field.VTypes",(function(){var d=/^[a-zA-Z_]+$/,e=/^[a-zA-Z0-9_]+$/,c=/^(\w+)([\-+.][\w]+)*@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,b=/(((^https?)|(^ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i;return{singleton:true,alternateClassName:"Ext.form.VTypes",email:function(f){return c.test(f)},emailText:'This field should be an e-mail address in the format "user@example.com"',emailMask:/[a-z0-9_\.\-@\+]/i,url:function(f){return b.test(f)},urlText:'This field should be a URL in the format "http://www.example.com"',alpha:function(f){return d.test(f)},alphaText:"This field should only contain letters and _",alphaMask:/[a-z_]/i,alphanum:function(f){return e.test(f)},alphanumText:"This field should only contain letters, numbers and _",alphanumMask:/[a-z0-9_]/i}})());a.define("Ext.layout.component.field.Text",{extend:"Ext.layout.component.field.Field",alias:"layout.textfield",requires:["Ext.util.TextMetrics"],type:"textfield",beforeLayout:function(e,c){var f=this,b=f.owner,d=this.lastValue,g=b.getRawValue();this.lastValue=g;return f.callParent(arguments)||(b.grow&&g!==d)},sizeBodyContents:function(d,b){var c=this.adjustForGrow(d,b);this.setElementSize(this.owner.inputEl,c[0],c[1])},adjustForGrow:function(f,d){var g=this,c=g.owner,i,h,e,b=[f,d];if(c.grow){i=c.inputEl;h=(i.dom.value||(c.hasFocus?"":c.emptyText)||"")+c.growAppend;e=i.getTextWidth(h)+i.getBorderWidth("lr")+i.getPadding("lr");b[0]=a.Number.constrain(e,c.growMin,Math.max(c.growMin,Math.min(c.growMax,a.isNumber(f)?f:Infinity)))}return b}});a.define("Ext.layout.component.field.TextArea",{extend:"Ext.layout.component.field.Text",alias:"layout.textareafield",type:"textareafield",adjustForGrow:function(b,k){var f=this,c=f.owner,i,h,g,e,d,j,l=[b,k];if(c.grow){i=c.inputEl;e=i.getWidth(true);d=i.getHeight();h=i.dom.value||"&#160;";h+=c.growAppend;h=h.replace(/\n/g,"<br>");j=a.util.TextMetrics.measure(i,h,e).height+i.getBorderWidth("tb")+i.getPadding("tb");g=c.growMax;if(a.isNumber(k)){g=Math.min(g,k)}l[1]=a.Number.constrain(j,c.growMin,g)}return l}});a.define("Ext.layout.container.Anchor",{alias:"layout.anchor",extend:"Ext.layout.container.Container",alternateClassName:"Ext.layout.AnchorLayout",type:"anchor",defaultAnchor:"100%",parseAnchorRE:/^(r|right|b|bottom)$/i,onLayout:function(){this.callParent(arguments);var x=this,q=x.getLayoutTargetSize(),b=x.owner,z=x.getTarget(),y=q.width,n=q.height,r=z.getStyle("overflow"),p=x.getVisibleItems(b),u=p.length,h=[],l,s,c,w,m,k,e,g,f,j,t,d,v;if(y<20&&n<20){return}if(!x.clearEl){x.clearEl=z.createChild({cls:a.baseCSSPrefix+"clear",role:"presentation"})}if(b.anchorSize){if(typeof b.anchorSize=="number"){c=b.anchorSize}else{c=b.anchorSize.width;w=b.anchorSize.height}}else{c=b.initialConfig.width;w=b.initialConfig.height}if(!a.supports.RightMargin){v=a.core.Element.getRightMarginFixCleaner(z);z.addCls(a.baseCSSPrefix+"inline-children")}for(t=0;t<u;t++){m=p[t];d=m.el;j=m.anchor;if(!m.anchor&&m.items&&!a.isNumber(m.width)&&!(a.isIE6&&a.isStrict)){m.anchor=j=x.defaultAnchor}if(j){k=m.anchorSpec;if(!k){f=j.split(" ");m.anchorSpec=k={right:x.parseAnchor(f[0],m.initialConfig.width,c),bottom:x.parseAnchor(f[1],m.initialConfig.height,w)}}e=k.right?x.adjustWidthAnchor(k.right(y)-d.getMargin("lr"),m):undefined;g=k.bottom?x.adjustHeightAnchor(k.bottom(n)-d.getMargin("tb"),m):undefined;h.push({component:m,anchor:true,width:e||undefined,height:g||undefined})}else{h.push({component:m,anchor:false})}}if(!a.supports.RightMargin){z.removeCls(a.baseCSSPrefix+"inline-children");v()}for(t=0;t<u;t++){l=h[t];x.setItemSize(l.component,l.width,l.height)}if(r&&r!="hidden"&&!x.adjustmentPass){s=x.getLayoutTargetSize();if(s.width!=q.width||s.height!=q.height){x.adjustmentPass=true;x.onLayout()}}delete x.adjustmentPass},parseAnchor:function(c,f,b){if(c&&c!="none"){var d;if(this.parseAnchorRE.test(c)){var e=b-f;return function(g){return g-e}}else{if(c.indexOf("%")!=-1){d=parseFloat(c.replace("%",""))*0.01;return function(g){return Math.floor(g*d)}}else{c=parseInt(c,10);if(!isNaN(c)){return function(g){return g+c}}}}}return null},adjustWidthAnchor:function(c,b){return c},adjustHeightAnchor:function(c,b){return c}});a.define("Ext.form.action.Load",{extend:"Ext.form.action.Action",requires:["Ext.data.Connection"],alternateClassName:"Ext.form.Action.Load",alias:"formaction.load",type:"load",run:function(){a.Ajax.request(a.apply(this.createCallback(),{method:this.getMethod(),url:this.getUrl(),headers:this.headers,params:this.getParams()}))},onSuccess:function(c){var b=this.processResponse(c),d=this.form;if(b===true||!b.success||!b.data){this.failureType=a.form.action.Action.LOAD_FAILURE;d.afterAction(this,false);return}d.clearInvalid();d.setValues(b.data);d.afterAction(this,true)},handleResponse:function(d){var b=this.form.reader,c,e;if(b){c=b.read(d);e=c.records&&c.records[0]?c.records[0].data:null;return{success:c.success,data:e}}return a.decode(d.responseText)}});a.define("Ext.window.Window",{extend:"Ext.panel.Panel",alternateClassName:"Ext.Window",requires:["Ext.util.ComponentDragger","Ext.util.Region","Ext.EventManager"],alias:"widget.window",baseCls:a.baseCSSPrefix+"window",resizable:true,draggable:true,constrain:false,constrainHeader:false,plain:false,minimizable:false,maximizable:false,minHeight:100,minWidth:200,expandOnShow:true,collapsible:false,closable:true,hidden:true,autoRender:true,hideMode:"visibility",floating:true,ariaRole:"alertdialog",itemCls:"x-window-item",overlapHeader:true,ignoreHeaderBorderManagement:true,initComponent:function(){var b=this;b.callParent();b.addEvents("resize","maximize","minimize","restore");if(b.plain){b.addClsWithUI("plain")}if(b.modal){b.ariaRole="dialog"}},initStateEvents:function(){var b=this.stateEvents;a.each(["maximize","restore","resize","dragend"],function(c){if(a.Array.indexOf(b,c)){b.push(c)}});this.callParent()},getState:function(){var c=this,d=c.callParent()||{},b=!!c.maximized;d.maximized=b;a.apply(d,{size:b?c.restoreSize:c.getSize(),pos:b?c.restorePos:c.getPosition()});return d},applyState:function(c){var b=this;if(c){b.maximized=c.maximized;if(b.maximized){b.hasSavedRestore=true;b.restoreSize=c.size;b.restorePos=c.pos}else{a.apply(b,{width:c.size.width,height:c.size.height,x:c.pos[0],y:c.pos[1]})}}},onMouseDown:function(){if(this.floating){this.toFront()}},onRender:function(c,b){var d=this;d.callParent(arguments);d.focusEl=d.el;if(d.maximizable){d.header.on({dblclick:{fn:d.toggleMaximize,element:"el",scope:d}})}},afterRender:function(){var b=this,c=b.hidden,d;b.hidden=false;b.callParent();b.hidden=c;b.proxy=b.getProxy();b.mon(b.el,"mousedown",b.onMouseDown,b);if(b.maximized){b.maximized=false;b.maximize()}if(b.closable){d=b.getKeyMap();d.on(27,b.onEsc,b);d.disable()}if(!c){b.syncMonitorWindowResize();b.doConstrain()}},initDraggable:function(){var c=this,b;if(!c.header){c.updateHeader(true)}if(c.header){b=a.applyIf({el:c.el,delegate:"#"+c.header.id},c.draggable);if(c.constrain||c.constrainHeader){b.constrain=c.constrain;b.constrainDelegate=c.constrainHeader;b.constrainTo=c.constrainTo||c.container}c.dd=a.create("Ext.util.ComponentDragger",this,b);c.relayEvents(c.dd,["dragstart","drag","dragend"])}},onEsc:function(b,c){c.stopEvent();this[this.closeAction]()},beforeDestroy:function(){var b=this;if(b.rendered){delete this.animateTarget;b.hide();a.destroy(b.keyMap)}b.callParent()},addTools:function(){var b=this;b.callParent();if(b.minimizable){b.addTool({type:"minimize",handler:a.Function.bind(b.minimize,b,[])})}if(b.maximizable){b.addTool({type:"maximize",handler:a.Function.bind(b.maximize,b,[])});b.addTool({type:"restore",handler:a.Function.bind(b.restore,b,[]),hidden:true})}},getFocusEl:function(){var e=this,h=e.focusEl,g=e.defaultButton||e.defaultFocus,c=typeof db,d,b;if(a.isDefined(g)){if(a.isNumber(g)){h=e.query("button")[g]}else{if(a.isString(g)){h=e.down("#"+g)}else{h=g}}}return h||e.focusEl},beforeShow:function(){this.callParent();if(this.expandOnShow){this.expand(false)}},afterShow:function(c){var b=this;b.callParent(arguments);if(b.maximized){b.fitContainer()}b.syncMonitorWindowResize();b.doConstrain();if(b.keyMap){b.keyMap.enable()}},doClose:function(){var b=this;if(b.hidden){b.fireEvent("close",b);b[b.closeAction]()}else{b.hide(b.animTarget,b.doClose,b)}},afterHide:function(){var b=this;b.syncMonitorWindowResize();if(b.keyMap){b.keyMap.disable()}b.callParent(arguments)},onWindowResize:function(){if(this.maximized){this.fitContainer()}this.doConstrain()},minimize:function(){this.fireEvent("minimize",this);return this},afterCollapse:function(){var b=this;if(b.maximizable){b.tools.maximize.hide();b.tools.restore.hide()}if(b.resizer){b.resizer.disable()}b.callParent(arguments)},afterExpand:function(){var b=this;if(b.maximized){b.tools.restore.show()}else{if(b.maximizable){b.tools.maximize.show()}}if(b.resizer){b.resizer.enable()}b.callParent(arguments)},maximize:function(){var b=this;if(!b.maximized){b.expand(false);if(!b.hasSavedRestore){b.restoreSize=b.getSize();b.restorePos=b.getPosition(true)}if(b.maximizable){b.tools.maximize.hide();b.tools.restore.show()}b.maximized=true;b.el.disableShadow();if(b.dd){b.dd.disable()}if(b.collapseTool){b.collapseTool.hide()}b.el.addCls(a.baseCSSPrefix+"window-maximized");b.container.addCls(a.baseCSSPrefix+"window-maximized-ct");b.syncMonitorWindowResize();b.setPosition(0,0);b.fitContainer();b.fireEvent("maximize",b)}return b},restore:function(){var b=this,c=b.tools;if(b.maximized){delete b.hasSavedRestore;b.removeCls(a.baseCSSPrefix+"window-maximized");if(c.restore){c.restore.hide()}if(c.maximize){c.maximize.show()}if(b.collapseTool){b.collapseTool.show()}b.setPosition(b.restorePos);b.setSize(b.restoreSize);delete b.restorePos;delete b.restoreSize;b.maximized=false;b.el.enableShadow(true);if(b.dd){b.dd.enable()}b.container.removeCls(a.baseCSSPrefix+"window-maximized-ct");b.syncMonitorWindowResize();b.doConstrain();b.fireEvent("restore",b)}return b},syncMonitorWindowResize:function(){var c=this,d=c._monitoringResize,e=c.monitorResize||c.constrain||c.constrainHeader||c.maximized,b=c.hidden||c.destroying||c.isDestroyed;if(e&&!b){if(!d){a.EventManager.onWindowResize(c.onWindowResize,c);c._monitoringResize=true}}else{if(d){a.EventManager.removeResizeListener(c.onWindowResize,c);c._monitoringResize=false}}},toggleMaximize:function(){return this[this.maximized?"restore":"maximize"]()}});a.define("Ext.form.field.Base",{extend:"Ext.Component",mixins:{labelable:"Ext.form.Labelable",field:"Ext.form.field.Field"},alias:"widget.field",alternateClassName:["Ext.form.Field","Ext.form.BaseField"],requires:["Ext.util.DelayedTask","Ext.XTemplate","Ext.layout.component.field.Field"],fieldSubTpl:['<input id="{id}" type="{type}" ','<tpl if="name">name="{name}" </tpl>','<tpl if="size">size="{size}" </tpl>','<tpl if="tabIdx">tabIndex="{tabIdx}" </tpl>','class="{fieldCls} {typeCls}" autocomplete="off" />',{compiled:true,disableFormats:true}],inputType:"text",invalidText:"The value in this field is invalid",fieldCls:a.baseCSSPrefix+"form-field",focusCls:a.baseCSSPrefix+"form-focus",dirtyCls:a.baseCSSPrefix+"form-dirty",checkChangeEvents:a.isIE&&(!document.documentMode||document.documentMode<9)?["change","propertychange"]:["change","input","textInput","keyup","dragdrop"],checkChangeBuffer:50,componentLayout:"field",readOnly:false,readOnlyCls:a.baseCSSPrefix+"form-readonly",validateOnBlur:true,hasFocus:false,baseCls:a.baseCSSPrefix+"field",maskOnDisable:false,initComponent:function(){var b=this;b.callParent();b.subTplData=b.subTplData||{};b.addEvents("focus","blur","specialkey");b.initLabelable();b.initField();if(!b.name){b.name=b.getInputId()}},getInputId:function(){return this.inputId||(this.inputId=a.id())},getSubTplData:function(){var d=this,c=d.inputType,b=d.getInputId();return a.applyIf(d.subTplData,{id:b,name:d.name||b,type:c,size:d.size||20,cls:d.cls,fieldCls:d.fieldCls,tabIdx:d.tabIndex,typeCls:a.baseCSSPrefix+"form-"+(c==="password"?"text":c)})},getSubTplMarkup:function(){return this.getTpl("fieldSubTpl").apply(this.getSubTplData())},initRenderTpl:function(){var b=this;if(!b.hasOwnProperty("renderTpl")){b.renderTpl=b.getTpl("labelableRenderTpl")}return b.callParent()},initRenderData:function(){return a.applyIf(this.callParent(),this.getLabelableRenderData())},setFieldStyle:function(b){var c=this,d=c.inputEl;if(d){d.applyStyles(b)}c.fieldStyle=b},onRender:function(){var d=this,c=d.fieldStyle,b=d.renderSelectors;a.applyIf(b,d.getLabelableSelectors());a.applyIf(b,{inputEl:"."+d.fieldCls});d.callParent(arguments);d.setRawValue(d.rawValue);if(d.readOnly){d.setReadOnly(true)}if(d.disabled){d.disable()}if(c){d.setFieldStyle(c)}d.renderActiveError()},initAria:function(){var b=this;b.callParent();b.getActionEl().dom.setAttribute("aria-describedby",a.id(b.errorEl))},getFocusEl:function(){return this.inputEl},isFileUpload:function(){return this.inputType==="file"},extractFileInput:function(){var c=this,b=c.isFileUpload()?c.inputEl.dom:null,d;if(b){d=b.cloneNode(true);b.parentNode.replaceChild(d,b);c.inputEl=a.get(d)}return b},getSubmitData:function(){var b=this,c=null,d;if(!b.disabled&&b.submitValue&&!b.isFileUpload()){d=b.getSubmitValue();if(d!==null){c={};c[b.getName()]=d}}return c},getSubmitValue:function(){return this.processRawValue(this.getRawValue())},getRawValue:function(){var c=this,b=(c.inputEl?c.inputEl.getValue():a.value(c.rawValue,""));c.rawValue=b;return b},setRawValue:function(c){var b=this;c=a.value(c,"");b.rawValue=c;if(b.inputEl){b.inputEl.dom.value=c}return c},valueToRaw:function(b){return""+a.value(b,"")},rawToValue:function(b){return b},processRawValue:function(b){return b},getValue:function(){var b=this,c=b.rawToValue(b.processRawValue(b.getRawValue()));b.value=c;return c},setValue:function(c){var b=this;b.setRawValue(b.valueToRaw(c));return b.mixins.field.setValue.call(b,c)},onDisable:function(){var b=this,c=b.inputEl;b.callParent();if(c){c.dom.disabled=true}},onEnable:function(){var b=this,c=b.inputEl;b.callParent();if(c){c.dom.disabled=false}},setReadOnly:function(d){var b=this,c=b.inputEl;if(c){c.dom.readOnly=d;c.dom.setAttribute("aria-readonly",d)}b[d?"addCls":"removeCls"](b.readOnlyCls);b.readOnly=d},fireKey:function(b){if(b.isSpecialKey()){this.fireEvent("specialkey",this,a.create("Ext.EventObjectImpl",b))}},initEvents:function(){var c=this,d=c.inputEl,b,e;if(d){c.mon(d,a.EventManager.getKeyEvent(),c.fireKey,c);c.mon(d,"focus",c.onFocus,c);c.mon(d,"blur",c.onBlur,c,c.inEditor?{buffer:10}:null);b=a.create("Ext.util.DelayedTask",c.checkChange,c);c.onChangeEvent=e=function(){b.delay(c.checkChangeBuffer)};a.each(c.checkChangeEvents,function(f){if(f==="propertychange"){c.usesPropertychange=true}c.mon(d,f,e)},c)}c.callParent()},doComponentLayout:function(){var d=this,e=d.inputEl,b=d.usesPropertychange,c="propertychange",f=d.onChangeEvent;if(b){d.mun(e,c,f)}d.callParent(arguments);if(b){d.mon(e,c,f)}},preFocus:a.emptyFn,onFocus:function(){var c=this,b=c.focusCls,d=c.inputEl;c.preFocus();if(b&&d){d.addCls(b)}if(!c.hasFocus){c.hasFocus=true;c.fireEvent("focus",c)}},beforeBlur:a.emptyFn,onBlur:function(){var c=this,b=c.focusCls,d=c.inputEl;c.beforeBlur();if(b&&d){d.removeCls(b)}if(c.validateOnBlur){c.validate()}c.hasFocus=false;c.fireEvent("blur",c);c.postBlur()},postBlur:a.emptyFn,onDirtyChange:function(b){this[b?"addCls":"removeCls"](this.dirtyCls)},isValid:function(){var b=this;return b.disabled||b.validateValue(b.processRawValue(b.getRawValue()))},validateValue:function(c){var b=this,e=b.getErrors(c),d=a.isEmpty(e);if(!b.preventMark){if(d){b.clearInvalid()}else{b.markInvalid(e)}}return d},markInvalid:function(d){var c=this,b=c.getActiveError();c.setActiveErrors(a.Array.from(d));if(b!==c.getActiveError()){c.doComponentLayout()}},clearInvalid:function(){var c=this,b=c.hasActiveError();c.unsetActiveError();if(b){c.doComponentLayout()}},renderActiveError:function(){var c=this,b=c.hasActiveError();if(c.inputEl){c.inputEl[b?"addCls":"removeCls"](c.invalidCls+"-field")}c.mixins.labelable.renderActiveError.call(c)},getActionEl:function(){return this.inputEl||this.el}});a.define("Ext.form.field.Text",{extend:"Ext.form.field.Base",alias:"widget.textfield",requires:["Ext.form.field.VTypes","Ext.layout.component.field.Text"],alternateClassName:["Ext.form.TextField","Ext.form.Text"],size:20,growMin:30,growMax:800,growAppend:"W",allowBlank:true,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:"The minimum length for this field is {0}",maxLengthText:"The maximum length for this field is {0}",blankText:"This field is required",regexText:"",emptyCls:a.baseCSSPrefix+"form-empty-field",ariaRole:"textbox",componentLayout:"textfield",initComponent:function(){this.callParent();this.addEvents("autosize","keydown","keyup","keypress")},initEvents:function(){var c=this,b=c.inputEl;c.callParent();if(c.selectOnFocus||c.emptyText){c.mon(b,"mousedown",c.onMouseDown,c)}if(c.maskRe||(c.vtype&&c.disableKeyFilter!==true&&(c.maskRe=a.form.field.VTypes[c.vtype+"Mask"]))){c.mon(b,"keypress",c.filterKeys,c)}if(c.enableKeyEvents){c.mon(b,{scope:c,keyup:c.onKeyUp,keydown:c.onKeyDown,keypress:c.onKeyPress})}},isEqual:function(c,b){return String(a.value(c,""))===String(a.value(b,""))},onChange:function(){this.callParent();this.autoSize()},afterRender:function(){var b=this;if(b.enforceMaxLength){b.inputEl.dom.maxLength=b.maxLength}b.applyEmptyText();b.autoSize();b.callParent()},onMouseDown:function(c){var b=this;if(!b.hasFocus){b.mon(b.inputEl,"mouseup",a.emptyFn,b,{single:true,preventDefault:true})}},processRawValue:function(c){var b=this,e=b.stripCharsRe,d;if(e){d=c.replace(e,"");if(d!==c){b.setRawValue(d);c=d}}return c},onDisable:function(){this.callParent();if(a.isIE){this.inputEl.dom.unselectable="on"}},onEnable:function(){this.callParent();if(a.isIE){this.inputEl.dom.unselectable=""}},onKeyDown:function(b){this.fireEvent("keydown",this,b)},onKeyUp:function(b){this.fireEvent("keyup",this,b)},onKeyPress:function(b){this.fireEvent("keypress",this,b)},reset:function(){this.callParent();this.applyEmptyText()},applyEmptyText:function(){var c=this,b=c.emptyText,d;if(c.rendered&&b){d=c.getRawValue().length<1&&!c.hasFocus;if(a.supports.Placeholder){c.inputEl.dom.placeholder=b}else{if(d){c.setRawValue(b)}}if(d){c.inputEl.addCls(c.emptyCls)}c.autoSize()}},preFocus:function(){var c=this,d=c.inputEl,b=c.emptyText,e;if(b&&!a.supports.Placeholder&&d.dom.value===b){c.setRawValue("");e=true;d.removeCls(c.emptyCls)}else{if(a.supports.Placeholder){c.inputEl.removeCls(c.emptyCls)}}if(c.selectOnFocus||e){d.dom.select()}},onFocus:function(){var b=this;b.callParent(arguments);if(b.emptyText){b.autoSize()}},postBlur:function(){this.applyEmptyText()},filterKeys:function(d){if(d.ctrlKey){return}var c=d.getKey(),b=String.fromCharCode(d.getCharCode());if(a.isGecko&&(d.isNavKeyPress()||c===d.BACKSPACE||(c===d.DELETE&&d.button===-1))){return}if(!a.isGecko&&d.isSpecialKey()&&!b){return}if(!this.maskRe.test(b)){d.stopEvent()}},getRawValue:function(){var c=this,b=c.callParent();if(b===c.emptyText){b=""}return b},setValue:function(c){var b=this,d=b.inputEl;if(d&&b.emptyText&&!a.isEmpty(c)){d.removeCls(b.emptyCls)}b.callParent(arguments);b.applyEmptyText();return b},getErrors:function(l){var g=this,k=g.callParent(arguments),b=g.validator,e=g.emptyText,d=g.allowBlank,f=g.vtype,h=a.form.field.VTypes,i=g.regex,j=a.String.format,c;l=l||g.processRawValue(g.getRawValue());if(a.isFunction(b)){c=b.call(g,l);if(c!==true){k.push(c)}}if(l.length<1||l===e){if(!d){k.push(g.blankText)}return k}if(l.length<g.minLength){k.push(j(g.minLengthText,g.minLength))}if(l.length>g.maxLength){k.push(j(g.maxLengthText,g.maxLength))}if(f){if(!h[f](l,g)){k.push(g.vtypeText||h[f+"Text"])}}if(i&&!i.test(l)){k.push(g.regexText||g.invalidText)}return k},selectText:function(i,b){var h=this,d=h.getRawValue(),e=true,g=h.inputEl.dom,f,c;if(d.length>0){i=i===f?0:i;b=b===f?d.length:b;if(g.setSelectionRange){g.setSelectionRange(i,b)}else{if(g.createTextRange){c=g.createTextRange();c.moveStart("character",i);c.moveEnd("character",b-d.length);c.select()}}e=a.isGecko||a.isOpera}if(e){h.focus()}},autoSize:function(){var c=this,b;if(c.grow&&c.rendered){c.doComponentLayout();b=c.inputEl.getWidth();if(b!==c.lastInputWidth){c.fireEvent("autosize",b);c.lastInputWidth=b}}},initAria:function(){this.callParent();this.getActionEl().dom.setAttribute("aria-required",this.allowBlank===false)},getBodyNaturalWidth:function(){return Math.round(this.size*6.5)+20}});a.define("Ext.form.field.TextArea",{extend:"Ext.form.field.Text",alias:["widget.textareafield","widget.textarea"],alternateClassName:"Ext.form.TextArea",requires:["Ext.XTemplate","Ext.layout.component.field.TextArea"],fieldSubTpl:['<textarea id="{id}" ','<tpl if="name">name="{name}" </tpl>','<tpl if="rows">rows="{rows}" </tpl>','<tpl if="cols">cols="{cols}" </tpl>','<tpl if="tabIdx">tabIndex="{tabIdx}" </tpl>','class="{fieldCls} {typeCls}" ','autocomplete="off">',"</textarea>",{compiled:true,disableFormats:true}],growMin:60,growMax:1000,growAppend:"\n-",cols:20,rows:4,enterIsSpecial:false,preventScrollbars:false,componentLayout:"textareafield",onRender:function(c,b){var d=this;a.applyIf(d.subTplData,{cols:d.cols,rows:d.rows});d.callParent(arguments)},afterRender:function(){var b=this;b.callParent(arguments);if(b.grow){if(b.preventScrollbars){b.inputEl.setStyle("overflow","hidden")}b.inputEl.setHeight(b.growMin)}},fireKey:function(b){if(b.isSpecialKey()&&(this.enterIsSpecial||(b.getKey()!==b.ENTER||b.hasModifier()))){this.fireEvent("specialkey",this,b)}},autoSize:function(){var c=this,b;if(c.grow&&c.rendered){c.doComponentLayout();b=c.inputEl.getHeight();if(b!==c.lastInputHeight){c.fireEvent("autosize",b);c.lastInputHeight=b}}},initAria:function(){this.callParent(arguments);this.getActionEl().dom.setAttribute("aria-multiline",true)},getBodyNaturalWidth:function(){return Math.round(this.cols*6.5)+20}});a.define("Ext.window.MessageBox",{extend:"Ext.window.Window",requires:["Ext.toolbar.Toolbar","Ext.form.field.Text","Ext.form.field.TextArea","Ext.button.Button","Ext.layout.container.Anchor","Ext.layout.container.HBox","Ext.ProgressBar"],alternateClassName:"Ext.MessageBox",alias:"widget.messagebox",OK:1,YES:2,NO:4,CANCEL:8,OKCANCEL:9,YESNO:6,YESNOCANCEL:14,INFO:"ext-mb-info",WARNING:"ext-mb-warning",QUESTION:"ext-mb-question",ERROR:"ext-mb-error",hideMode:"offsets",closeAction:"hide",resizable:false,title:"&#160;",width:600,height:500,minWidth:250,maxWidth:600,minHeight:110,maxHeight:500,constrain:true,cls:a.baseCSSPrefix+"message-box",layout:{type:"anchor"},defaultTextHeight:75,minProgressWidth:250,minPromptWidth:250,buttonText:{ok:"OK",yes:"Yes",no:"No",cancel:"Cancel"},buttonIds:["ok","yes","no","cancel"],titleText:{confirm:"Confirm",prompt:"Prompt",wait:"Loading...",alert:"Attention"},iconHeight:35,makeButton:function(b){var c=this.buttonIds[b];return a.create("Ext.button.Button",{handler:this.btnCallback,itemId:c,scope:this,text:this.buttonText[c],minWidth:75})},btnCallback:function(b){var c=this,d,e;if(c.cfg.prompt||c.cfg.multiline){if(c.cfg.multiline){e=c.textArea}else{e=c.textField}d=e.getValue();e.reset()}b.blur();c.hide();c.userCallback(b.itemId,d,c.cfg)},hide:function(){var b=this;b.dd.endDrag();b.progressBar.reset();b.removeCls(b.cfg.cls);b.callParent()},initComponent:function(){var d=this,c,b;d.title="&#160;";d.topContainer=a.create("Ext.container.Container",{anchor:"100%",style:{padding:"10px",overflow:"hidden"},items:[d.iconComponent=a.create("Ext.Component",{cls:"ext-mb-icon",width:50,height:d.iconHeight,style:{"float":"left"}}),d.promptContainer=a.create("Ext.container.Container",{layout:{type:"anchor"},items:[d.msg=a.create("Ext.Component",{autoEl:{tag:"span"},cls:"ext-mb-text"}),d.textField=a.create("Ext.form.field.Text",{anchor:"100%",enableKeyEvents:true,listeners:{keydown:d.onPromptKey,scope:d}}),d.textArea=a.create("Ext.form.field.TextArea",{anchor:"100%",height:75})]})]});d.progressBar=a.create("Ext.ProgressBar",{anchor:"-10",style:"margin-left:10px"});d.items=[d.topContainer,d.progressBar];d.msgButtons=[];for(c=0;c<4;c++){b=d.makeButton(c);d.msgButtons[b.itemId]=b;d.msgButtons.push(b)}d.bottomTb=a.create("Ext.toolbar.Toolbar",{ui:"footer",dock:"bottom",layout:{pack:"center"},items:[d.msgButtons[0],d.msgButtons[1],d.msgButtons[2],d.msgButtons[3]]});d.dockedItems=[d.bottomTb];d.callParent()},onPromptKey:function(b,d){var c=this,f;if(d.keyCode===a.EventObject.RETURN||d.keyCode===10){if(c.msgButtons.ok.isVisible()){f=true;c.msgButtons.ok.handler.call(c,c.msgButtons.ok)}else{if(c.msgButtons.yes.isVisible()){c.msgButtons.yes.handler.call(c,c.msgButtons.yes);f=true}}if(f){c.textField.blur()}}},reconfigure:function(b){var e=this,d=b.buttons||0,g=true,f=e.maxWidth,c;b=b||{};e.cfg=b;if(b.width){f=b.width}delete e.defaultFocus;e.animateTarget=b.animateTarget||undefined;e.modal=b.modal!==false;if(b.title){e.setTitle(b.title||"&#160;")}if(!e.rendered){e.width=f;e.render(a.getBody())}else{e.hidden=false;e.setSize(f,e.maxHeight)}e.setPosition(-10000,-10000);e.closable=b.closable&&!b.wait;if(b.closable===false){e.tools.close.hide()}else{e.tools.close.show()}if(!b.title&&!e.closable){e.header.hide()}else{e.header.show()}e.liveDrag=!b.proxyDrag;e.userCallback=a.Function.bind(b.callback||b.fn||a.emptyFn,b.scope||a.global);e.setIcon(b.icon);if(b.msg){e.msg.update(b.msg);e.msg.show()}else{e.msg.hide()}if(b.prompt||b.multiline){e.multiline=b.multiline;if(b.multiline){e.textArea.setValue(b.value);e.textArea.setHeight(b.defaultTextHeight||e.defaultTextHeight);e.textArea.show();e.textField.hide();e.defaultFocus=e.textArea}else{e.textField.setValue(b.value);e.textArea.hide();e.textField.show();e.defaultFocus=e.textField}}else{e.textArea.hide();e.textField.hide()}if(b.progress||b.wait){e.progressBar.show();e.updateProgress(0,b.progressText);if(b.wait===true){e.progressBar.wait(b.waitConfig)}}else{e.progressBar.hide()}for(c=0;c<4;c++){if(d&Math.pow(2,c)){if(!e.defaultFocus){e.defaultFocus=e.msgButtons[c]}e.msgButtons[c].show();g=false}else{e.msgButtons[c].hide()}}if(g){e.bottomTb.hide()}else{e.bottomTb.show()}e.hidden=true},show:function(b){var c=this;c.reconfigure(b);c.addCls(b.cls);if(b.animateTarget){c.doAutoSize(false);c.callParent()}else{c.callParent();c.doAutoSize(true)}return c},afterShow:function(){if(this.animateTarget){this.center()}this.callParent(arguments)},doAutoSize:function(c){var f=this,e=f.iconComponent,g=f.iconHeight;if(!a.isDefined(f.frameWidth)){f.frameWidth=f.el.getWidth()-f.body.getWidth()}e.setHeight(g);f.minWidth=f.cfg.minWidth||a.getClass(this).prototype.minWidth;f.topContainer.doLayout();if(a.isIE6||a.isIEQuirks){f.textField.setCalculatedSize(9);f.textArea.setCalculatedSize(9)}var d=f.cfg.width||f.msg.getWidth()+e.getWidth()+25,b=(f.header.rendered?f.header.getHeight():0)+Math.max(f.promptContainer.getHeight(),e.getHeight())+f.progressBar.getHeight()+(f.bottomTb.rendered?f.bottomTb.getHeight():0)+20;e.setHeight(Math.max(g,f.msg.getHeight()));f.setSize(d+f.frameWidth,b+f.frameWidth);if(c){f.center()}return f},updateText:function(b){this.msg.update(b);return this.doAutoSize(true)},setIcon:function(b){var c=this;c.iconComponent.removeCls(c.iconCls);if(b){c.iconComponent.show();c.iconComponent.addCls(a.baseCSSPrefix+"dlg-icon");c.iconComponent.addCls(c.iconCls=b)}else{c.iconComponent.removeCls(a.baseCSSPrefix+"dlg-icon");c.iconComponent.hide()}return c},updateProgress:function(c,b,d){this.progressBar.updateProgress(c,b);if(d){this.updateText(d)}return this},onEsc:function(){if(this.closable!==false){this.callParent(arguments)}},confirm:function(b,e,d,c){if(a.isString(b)){b={title:b,icon:"ext-mb-question",msg:e,buttons:this.YESNO,callback:d,scope:c}}return this.show(b)},prompt:function(c,g,e,d,b,f){if(a.isString(c)){c={prompt:true,title:c,minWidth:this.minPromptWidth,msg:g,buttons:this.OKCANCEL,callback:e,scope:d,multiline:b,value:f}}return this.show(c)},wait:function(b,d,c){if(a.isString(b)){b={title:d,msg:b,closable:false,wait:true,modal:true,minWidth:this.minProgressWidth,waitConfig:c}}return this.show(b)},alert:function(b,e,d,c){if(a.isString(b)){b={title:b,msg:e,buttons:this.OK,fn:d,scope:c,minWidth:this.minWidth}}return this.show(b)},progress:function(b,d,c){if(a.isString(b)){b={title:b,msg:d,progressText:c}}return this.show(b)}},function(){a.MessageBox=a.Msg=new this()});a.define("Ext.form.Basic",{extend:"Ext.util.Observable",alternateClassName:"Ext.form.BasicForm",requires:["Ext.util.MixedCollection","Ext.form.action.Load","Ext.form.action.Submit","Ext.window.MessageBox","Ext.data.Errors","Ext.util.DelayedTask"],constructor:function(b,c){var d=this,e=d.onItemAddOrRemove;d.owner=b;d.mon(b,{add:e,remove:e,scope:d});a.apply(d,c);if(a.isString(d.paramOrder)){d.paramOrder=d.paramOrder.split(/[\s,|]/)}d.checkValidityTask=a.create("Ext.util.DelayedTask",d.checkValidity,d);d.addEvents("beforeaction","actionfailed","actioncomplete","validitychange","dirtychange");d.callParent()},initialize:function(){this.initialized=true;this.onValidityChange(!this.hasInvalidField())},timeout:30,paramsAsHash:false,waitTitle:"Please Wait...",trackResetOnLoad:false,wasDirty:false,destroy:function(){this.clearListeners();this.checkValidityTask.cancel()},onItemAddOrRemove:function(d,g){var e=this,f=!!g.ownerCt,c=g.isContainer;function b(h){e[f?"mon":"mun"](h,{validitychange:e.checkValidity,dirtychange:e.checkDirty,scope:e,buffer:100});delete e._fields}if(g.isFormField){b(g)}else{if(c){a.Array.forEach(g.query("[isFormField]"),b)}}delete this._boundItems;if(e.initialized){e.checkValidityTask.delay(10)}},getFields:function(){var b=this._fields;if(!b){b=this._fields=a.create("Ext.util.MixedCollection");b.addAll(this.owner.query("[isFormField]"))}return b},getBoundItems:function(){var b=this._boundItems;if(!b){b=this._boundItems=a.create("Ext.util.MixedCollection");b.addAll(this.owner.query("[formBind]"))}return b},hasInvalidField:function(){return !!this.getFields().findBy(function(d){var b=d.preventMark,c;d.preventMark=true;c=d.isValid();d.preventMark=b;return !c})},isValid:function(){var b=this,c;b.batchLayouts(function(){c=b.getFields().filterBy(function(d){return !d.validate()})});return c.length<1},checkValidity:function(){var c=this,b=!c.hasInvalidField();if(b!==c.wasValid){c.onValidityChange(b);c.fireEvent("validitychange",c,b);c.wasValid=b}},onValidityChange:function(c){var b=this.getBoundItems();if(b){b.each(function(d){if(d.disabled===c){d.setDisabled(!c)}})}},isDirty:function(){return !!this.getFields().findBy(function(b){return b.isDirty()})},checkDirty:function(){var b=this.isDirty();if(b!==this.wasDirty){this.fireEvent("dirtychange",this,b);this.wasDirty=b}},hasUpload:function(){return !!this.getFields().findBy(function(b){return b.isFileUpload()})},doAction:function(c,b){if(a.isString(c)){c=a.ClassManager.instantiateByAlias("formaction."+c,a.apply({},b,{form:this}))}if(this.fireEvent("beforeaction",this,c)!==false){this.beforeAction(c);a.defer(c.run,100,c)}return this},submit:function(b){return this.doAction(this.standardSubmit?"standardsubmit":this.api?"directsubmit":"submit",b)},load:function(b){return this.doAction(this.api?"directload":"load",b)},updateRecord:function(c){var b=c.fields,d=this.getFieldValues(),e,f={};b.each(function(g){e=g.name;if(e in d){f[e]=d[e]}});c.beginEdit();c.set(f);c.endEdit();return this},loadRecord:function(b){this._record=b;return this.setValues(b.data)},getRecord:function(){return this._record},beforeAction:function(d){var b=d.waitMsg,c=a.baseCSSPrefix+"mask-loading",e;this.getFields().each(function(g){if(g.isFormField&&g.syncValue){g.syncValue()}});if(b){e=this.waitMsgTarget;if(e===true){this.owner.el.mask(b,c)}else{if(e){e=this.waitMsgTarget=a.get(e);e.mask(b,c)}else{a.MessageBox.wait(b,d.waitTitle||this.waitTitle)}}}},afterAction:function(c,e){if(c.waitMsg){var b=a.MessageBox,d=this.waitMsgTarget;if(d===true){this.owner.el.unmask()}else{if(d){d.unmask()}else{b.updateProgress(1);b.hide()}}}if(e){if(c.reset){this.reset()}a.callback(c.success,c.scope||c,[this,c]);this.fireEvent("actioncomplete",this,c)}else{a.callback(c.failure,c.scope||c,[this,c]);this.fireEvent("actionfailed",this,c)}},findField:function(b){return this.getFields().findBy(function(c){return c.id===b||c.getName()===b})},markInvalid:function(d){var b=this;function c(e,g){var f=b.findField(e);if(f){f.markInvalid(g)}}if(a.isArray(d)){a.each(d,function(e){c(e.id,e.msg)})}else{if(d instanceof a.data.Errors){d.each(function(e){c(e.field,e.message)})}else{a.iterate(d,c)}}return this},setValues:function(b){var c=this;function d(e,g){var f=c.findField(e);if(f){f.setValue(g);if(c.trackResetOnLoad){f.resetOriginalValue()}}}if(a.isArray(b)){a.each(b,function(e){d(e.id,e.value)})}else{a.iterate(b,d)}return this},getValues:function(f,c,e,b){var d={};this.getFields().each(function(h){if(!c||h.isDirty()){var g=h[b?"getModelData":"getSubmitData"](e);if(a.isObject(g)){a.iterate(g,function(j,k){if(e&&k===""){k=h.emptyText||""}if(j in d){var l=d[j],i=a.isArray;if(!i(l)){l=d[j]=[l]}if(i(k)){d[j]=l.concat(k)}else{l.push(k)}}else{d[j]=k}})}}});if(f){d=a.Object.toQueryString(d)}return d},getFieldValues:function(b){return this.getValues(false,b,false,true)},clearInvalid:function(){var b=this;b.batchLayouts(function(){b.getFields().each(function(c){c.clearInvalid()})});return b},reset:function(){var b=this;b.batchLayouts(function(){b.getFields().each(function(c){c.reset()})});return b},applyToFields:function(b){this.getFields().each(function(c){a.apply(c,b)});return this},applyIfToFields:function(b){this.getFields().each(function(c){a.applyIf(c,b)});return this},batchLayouts:function(c){var d=this,b=new a.util.HashMap();d.getFields().each(function(f){var e=f.ownerCt;if(!b.contains(e)){b.add(e);e.oldSuspendLayout=e.suspendLayout;e.suspendLayout=true}});c();b.each(function(f,e){e.suspendLayout=e.oldSuspendLayout;delete e.oldSuspendLayout});d.owner.doComponentLayout()}});a.define("Ext.form.FieldAncestor",{initFieldAncestor:function(){var b=this,c=b.onFieldAncestorSubtreeChange;b.addEvents("fieldvaliditychange","fielderrorchange");b.on("add",c,b);b.on("remove",c,b);b.initFieldDefaults()},initFieldDefaults:function(){if(!this.fieldDefaults){this.fieldDefaults={}}},onFieldAncestorSubtreeChange:function(c,f){var d=this,e=!!f.ownerCt;function b(g){var h=g.isFieldLabelable,i=g.isFormField;if(h||i){if(h){d["onLabelable"+(e?"Added":"Removed")](g)}if(i){d["onField"+(e?"Added":"Removed")](g)}}else{if(g.isContainer){a.Array.forEach(g.getRefItems(),b)}}}b(f)},onLabelableAdded:function(b){var c=this;c.mon(b,"errorchange",c.handleFieldErrorChange,c,{buffer:10});b.setFieldDefaults(c.fieldDefaults)},onFieldAdded:function(c){var b=this;b.mon(c,"validitychange",b.handleFieldValidityChange,b)},onLabelableRemoved:function(b){var c=this;c.mun(b,"errorchange",c.handleFieldErrorChange,c)},onFieldRemoved:function(c){var b=this;b.mun(c,"validitychange",b.handleFieldValidityChange,b)},handleFieldValidityChange:function(d,c){var b=this;b.fireEvent("fieldvaliditychange",b,d,c);b.onFieldValidityChange()},handleFieldErrorChange:function(c,b){var d=this;d.fireEvent("fielderrorchange",d,c,b);d.onFieldErrorChange()},onFieldValidityChange:a.emptyFn,onFieldErrorChange:a.emptyFn});a.define("Ext.layout.container.CheckboxGroup",{extend:"Ext.layout.container.Container",alias:["layout.checkboxgroup"],onLayout:function(){var c=this.getColCount(),d=this.getShadowCt(),b=this.owner,g=b.items,j=d.items,h=g.length,k=0,e,f;j.each(function(i){i.items.clear()});while(j.length>c){d.remove(j.last())}while(j.length<c){d.add({xtype:"container",cls:b.groupCls,flex:1})}if(b.vertical){f=Math.ceil(h/c);for(e=0;e<h;e++){if(e>0&&e%f===0){k++}j.getAt(k).items.add(g.getAt(e))}}else{for(e=0;e<h;e++){k=e%c;j.getAt(k).items.add(g.getAt(e))}}if(!d.rendered){d.render(this.getRenderTarget())}else{j.each(function(i){var l=i.getLayout();l.renderItems(l.getLayoutItems(),l.getRenderTarget())})}d.doComponentLayout()},renderItems:a.emptyFn,getShadowCt:function(){var j=this,e=j.shadowCt,b,h,k,d,g,c,f;if(!e){b=j.owner;d=b.columns;g=a.isArray(d);c=j.getColCount();h=[];for(f=0;f<c;f++){k={xtype:"container",cls:b.groupCls};if(g){if(d[f]<1){k.flex=d[f]}else{k.width=d[f]}}else{k.flex=1}h.push(k)}e=j.shadowCt=a.createWidget("container",{layout:"hbox",items:h,ownerCt:b})}return e},getColCount:function(){var b=this.owner,c=b.columns;return a.isArray(c)?c.length:(a.isNumber(c)?c:b.items.length)}});a.define("Ext.form.FieldContainer",{extend:"Ext.container.Container",mixins:{labelable:"Ext.form.Labelable",fieldAncestor:"Ext.form.FieldAncestor"},alias:"widget.fieldcontainer",componentLayout:"field",combineLabels:false,labelConnector:", ",combineErrors:false,maskOnDisable:false,initComponent:function(){var c=this,b=c.onSubCmpAddOrRemove;c.initLabelable();c.initFieldAncestor();c.callParent()},onLabelableAdded:function(b){var c=this;c.mixins.fieldAncestor.onLabelableAdded.call(this,b);c.updateLabel()},onLabelableRemoved:function(b){var c=this;c.mixins.fieldAncestor.onLabelableRemoved.call(this,b);c.updateLabel()},onRender:function(){var d=this,c=d.renderSelectors,b=a.applyIf;b(c,d.getLabelableSelectors());d.callParent(arguments)},initRenderTpl:function(){var b=this;if(!b.hasOwnProperty("renderTpl")){b.renderTpl=b.getTpl("labelableRenderTpl")}return b.callParent()},initRenderData:function(){return a.applyIf(this.callParent(),this.getLabelableRenderData())},getFieldLabel:function(){var b=this.fieldLabel||"";if(!b&&this.combineLabels){b=a.Array.map(this.query("[isFieldLabelable]"),function(c){return c.getFieldLabel()}).join(this.labelConnector)}return b},updateLabel:function(){var c=this,b=c.labelEl;if(b){b.update(c.getFieldLabel())}},onFieldErrorChange:function(f,c){if(this.combineErrors){var e=this,g=e.getActiveError(),d=a.Array.filter(e.query("[isFormField]"),function(h){return h.hasActiveError()}),b=e.getCombinedErrors(d);if(b){e.setActiveErrors(b)}else{e.unsetActiveError()}if(g!==e.getActiveError()){e.doComponentLayout()}}},getCombinedErrors:function(b){var c=a.Array.forEach,d=[];c(b,function(e){c(e.getActiveErrors(),function(g){var f=e.getFieldLabel();d.push((f?f+": ":"")+g)})});return d},getTargetEl:function(){return this.bodyEl||this.callParent()}});a.define("Ext.form.CheckboxGroup",{extend:"Ext.form.FieldContainer",mixins:{field:"Ext.form.field.Field"},alias:"widget.checkboxgroup",requires:["Ext.layout.container.CheckboxGroup","Ext.form.field.Base"],columns:"auto",vertical:false,allowBlank:true,blankText:"You must select at least one item in this group",defaultType:"checkboxfield",groupCls:a.baseCSSPrefix+"form-check-group",fieldBodyCls:a.baseCSSPrefix+"form-checkboxgroup-body",layout:"checkboxgroup",initComponent:function(){var b=this;b.callParent();b.initField()},initValue:function(){var c=this,b=c.value;c.originalValue=c.lastValue=b||c.getValue();if(b){c.setValue(b)}},onFieldAdded:function(c){var b=this;if(c.isCheckbox){b.mon(c,"change",b.checkChange,b)}b.callParent(arguments)},onFieldRemoved:function(c){var b=this;if(c.isCheckbox){b.mun(c,"change",b.checkChange,b)}b.callParent(arguments)},isEqual:function(c,b){var d=a.Object.toQueryString;return d(c)===d(b)},getErrors:function(){var b=[];if(!this.allowBlank&&a.isEmpty(this.getChecked())){b.push(this.blankText)}return b},getBoxes:function(){return this.query("[isCheckbox]")},eachBox:function(c,b){a.Array.forEach(this.getBoxes(),c,b||this)},getChecked:function(){return a.Array.filter(this.getBoxes(),function(b){return b.getValue()})},isDirty:function(){return a.Array.some(this.getBoxes(),function(b){return b.isDirty()})},setReadOnly:function(b){this.eachBox(function(c){c.setReadOnly(b)});this.readOnly=b},reset:function(){var d=this,c=d.hasActiveError(),b=d.preventMark;d.preventMark=true;d.batchChanges(function(){d.eachBox(function(e){e.reset()})});d.preventMark=b;d.unsetActiveError();if(c){d.doComponentLayout()}},resetOriginalValue:function(){a.defer(function(){this.callParent()},1,this)},setValue:function(c){var b=this;b.batchChanges(function(){b.eachBox(function(d){var e=d.getName(),f=false;if(c&&e in c){if(a.isArray(c[e])){f=a.Array.contains(c[e],d.inputValue)}else{f=c[e]}}d.setValue(f)})});return b},getValue:function(){var b={};this.eachBox(function(d){var e=d.getName(),c=d.inputValue,f;if(d.getValue()){if(e in b){f=b[e];if(!a.isArray(f)){f=b[e]=[f]}f.push(c)}else{b[e]=c}}});return b},getSubmitData:function(){return null},getModelData:function(){return null},validate:function(){var b=this,e=b.getErrors(),d=a.isEmpty(e),c=!b.hasActiveError();if(d){b.unsetActiveError()}else{b.setActiveError(e)}if(d!==c){b.fireEvent("validitychange",b,d);b.doComponentLayout()}return d}},function(){this.borrow(a.form.field.Base,["markInvalid","clearInvalid"])});a.define("Ext.form.CheckboxManager",{extend:"Ext.util.MixedCollection",singleton:true,getByName:function(b){return this.filterBy(function(c){return c.name==b})},getWithValue:function(b,c){return this.filterBy(function(d){return d.name==b&&d.inputValue==c})},getChecked:function(b){return this.filterBy(function(c){return c.name==b&&c.checked})}});a.define("Ext.form.FieldSet",{extend:"Ext.container.Container",alias:"widget.fieldset",uses:["Ext.form.field.Checkbox","Ext.panel.Tool","Ext.layout.container.Anchor","Ext.layout.component.FieldSet"],collapsed:false,baseCls:a.baseCSSPrefix+"fieldset",layout:"anchor",componentLayout:"fieldset",ariaRole:"",renderTpl:['<div class="{baseCls}-body"></div>'],maskOnDisable:false,getElConfig:function(){return{tag:"fieldset",id:this.id}},initComponent:function(){var c=this,b=c.baseCls;c.callParent();c.initLegend();a.applyIf(c.renderSelectors,{body:"."+b+"-body"});if(c.collapsed){c.addCls(b+"-collapsed");c.collapse()}},onRender:function(c,b){this.callParent(arguments);this.initLegend()},initLegend:function(){var d=this,b,c=d.legend;if(!c&&(d.title||d.checkboxToggle||d.collapsible)){b=[];if(d.checkboxToggle){b.push(d.createCheckboxCmp())}else{if(d.collapsible){b.push(d.createToggleCmp())}}b.push(d.createTitleCmp());c=d.legend=a.create("Ext.container.Container",{baseCls:d.baseCls+"-header",ariaRole:"",getElConfig:function(){return{tag:"legend",cls:this.baseCls}},items:b})}if(c&&!c.rendered&&d.rendered){d.legend.render(d.el,d.body)}},createTitleCmp:function(){var b=this;b.titleCmp=a.create("Ext.Component",{html:b.title,cls:b.baseCls+"-header-text"});return b.titleCmp},createCheckboxCmp:function(){var b=this,c="-checkbox";b.checkboxCmp=a.create("Ext.form.field.Checkbox",{name:b.checkboxName||b.id+c,cls:b.baseCls+"-header"+c,checked:!b.collapsed,listeners:{change:b.onCheckChange,scope:b}});return b.checkboxCmp},createToggleCmp:function(){var b=this;b.toggleCmp=a.create("Ext.panel.Tool",{type:"toggle",handler:b.toggle,scope:b});return b.toggleCmp},setTitle:function(c){var b=this;b.title=c;b.initLegend();b.titleCmp.update(c);return b},getTargetEl:function(){return this.body||this.frameBody||this.el},getContentTarget:function(){return this.body},getRefItems:function(b){var d=this.callParent(arguments),c=this.legend;if(c){d.unshift(c);if(b){d.unshift.apply(d,c.getRefItems(true))}}return d},expand:function(){return this.setExpanded(true)},collapse:function(){return this.setExpanded(false)},setExpanded:function(b){var c=this,d=c.checkboxCmp;b=!!b;if(d){d.setValue(b)}if(b){c.removeCls(c.baseCls+"-collapsed")}else{c.addCls(c.baseCls+"-collapsed")}c.collapsed=!b;if(b){c.getComponentLayout().childrenChanged=true}c.doComponentLayout();return c},toggle:function(){this.setExpanded(!!this.collapsed)},onCheckChange:function(c,b){this.setExpanded(b)},beforeDestroy:function(){var b=this.legend;if(b){b.destroy()}this.callParent()}});a.define("Ext.form.Label",{extend:"Ext.Component",alias:"widget.label",requires:["Ext.util.Format"],maskOnDisable:false,getElConfig:function(){var b=this;return{tag:"label",id:b.id,htmlFor:b.forId||"",html:b.text?a.util.Format.htmlEncode(b.text):(b.html||"")}},setText:function(d,c){var b=this;c=c!==false;if(c){b.text=d;delete b.html}else{b.html=d;delete b.text}if(b.rendered){b.el.dom.innerHTML=c!==false?a.util.Format.htmlEncode(d):d}return this}});a.define("Ext.form.Panel",{extend:"Ext.panel.Panel",mixins:{fieldAncestor:"Ext.form.FieldAncestor"},alias:"widget.form",alternateClassName:["Ext.FormPanel","Ext.form.FormPanel"],requires:["Ext.form.Basic","Ext.util.TaskRunner"],layout:"anchor",ariaRole:"form",initComponent:function(){var b=this;if(b.frame){b.border=false}b.initFieldAncestor();b.callParent();b.relayEvents(b.form,["beforeaction","actionfailed","actioncomplete","validitychange","dirtychange"]);if(b.pollForChanges){b.startPolling(b.pollInterval||500)}},initItems:function(){var b=this;b.form=b.createForm();b.callParent();b.form.initialize()},createForm:function(){return a.create("Ext.form.Basic",this,a.applyIf({listeners:{}},this.initialConfig))},getForm:function(){return this.form},loadRecord:function(b){return this.getForm().loadRecord(b)},getRecord:function(){return this.getForm().getRecord()},getValues:function(){return this.getForm().getValues()},beforeDestroy:function(){this.stopPolling();this.form.destroy();this.callParent()},load:function(b){this.form.load(b)},submit:function(b){this.form.submit(b)},disable:function(b){this.callParent(arguments);this.form.getFields().each(function(c){c.disable()})},enable:function(b){this.callParent(arguments);this.form.getFields().each(function(c){c.enable()})},startPolling:function(c){this.stopPolling();var b=a.create("Ext.util.TaskRunner",c);b.start({interval:0,run:this.checkChange,scope:this});this.pollTask=b},stopPolling:function(){var b=this.pollTask;if(b){b.stopAll();delete this.pollTask}},checkChange:function(){this.form.getFields().each(function(b){b.checkChange()})}});a.define("Ext.form.RadioGroup",{extend:"Ext.form.CheckboxGroup",alias:"widget.radiogroup",allowBlank:true,blankText:"You must select one item in this group",defaultType:"radiofield",groupCls:a.baseCSSPrefix+"form-radio-group",getBoxes:function(){return this.query("[isRadio]")}});a.define("Ext.form.RadioManager",{extend:"Ext.util.MixedCollection",singleton:true,getByName:function(b){return this.filterBy(function(c){return c.name==b})},getWithValue:function(b,c){return this.filterBy(function(d){return d.name==b&&d.inputValue==c})},getChecked:function(b){return this.findBy(function(c){return c.name==b&&c.checked})}});a.define("Ext.form.action.DirectLoad",{extend:"Ext.form.action.Load",requires:["Ext.direct.Manager"],alternateClassName:"Ext.form.Action.DirectLoad",alias:"formaction.directload",type:"directload",run:function(){this.form.api.load.apply(window,this.getArgs())},getArgs:function(){var g=this,d=[],f=g.form,c=f.paramOrder,h=g.getParams(),e,b;if(c){for(e=0,b=c.length;e<b;e++){d.push(h[c[e]])}}else{if(f.paramsAsHash){d.push(h)}}d.push(g.onSuccess,g);return d},processResponse:function(b){return(this.result=b)},onSuccess:function(b,c){if(c.type==a.direct.Manager.self.exceptions.SERVER){b={}}this.callParent([b])}});a.define("Ext.form.action.DirectSubmit",{extend:"Ext.form.action.Submit",requires:["Ext.direct.Manager"],alternateClassName:"Ext.form.Action.DirectSubmit",alias:"formaction.directsubmit",type:"directsubmit",doSubmit:function(){var c=this,d=a.Function.bind(c.onSuccess,c),b=c.buildForm();c.form.api.submit(b,d,c);a.removeNode(b)},processResponse:function(b){return(this.result=b)},onSuccess:function(b,c){if(c.type===a.direct.Manager.self.exceptions.SERVER){b={}}this.callParent([b])}});a.define("Ext.form.action.StandardSubmit",{extend:"Ext.form.action.Submit",alias:"formaction.standardsubmit",doSubmit:function(){var b=this.buildForm();b.submit();a.removeNode(b)}});a.define("Ext.form.field.Checkbox",{extend:"Ext.form.field.Base",alias:["widget.checkboxfield","widget.checkbox"],alternateClassName:"Ext.form.Checkbox",requires:["Ext.XTemplate","Ext.form.CheckboxManager"],fieldSubTpl:["<tpl if=\"boxLabel && boxLabelAlign == 'before'\">",'<label class="{boxLabelCls} {boxLabelCls}-{boxLabelAlign}" for="{id}">{boxLabel}</label>',"</tpl>",'<input type="button" id="{id}" ','<tpl if="tabIdx">tabIndex="{tabIdx}" </tpl>','class="{fieldCls} {typeCls}" autocomplete="off" hidefocus="true" />',"<tpl if=\"boxLabel && boxLabelAlign == 'after'\">",'<label class="{boxLabelCls} {boxLabelCls}-{boxLabelAlign}" for="{id}">{boxLabel}</label>',"</tpl>",{disableFormats:true,compiled:true}],isCheckbox:true,focusCls:a.baseCSSPrefix+"form-cb-focus",fieldBodyCls:a.baseCSSPrefix+"form-cb-wrap",checked:false,checkedCls:a.baseCSSPrefix+"form-cb-checked",boxLabelCls:a.baseCSSPrefix+"form-cb-label",boxLabelAlign:"after",inputValue:"on",checkChangeEvents:[],inputType:"checkbox",ariaRole:"checkbox",onRe:/^on$/i,initComponent:function(){this.callParent(arguments);this.getManager().add(this)},initValue:function(){var c=this,b=!!c.checked;c.originalValue=c.lastValue=b;c.setValue(b)},onRender:function(c,b){var d=this;a.applyIf(d.renderSelectors,{boxLabelEl:"label."+d.boxLabelCls});a.applyIf(d.subTplData,{boxLabel:d.boxLabel,boxLabelCls:d.boxLabelCls,boxLabelAlign:d.boxLabelAlign});d.callParent(arguments)},initEvents:function(){var b=this;b.callParent();b.mon(b.inputEl,"click",b.onBoxClick,b)},onBoxClick:function(c){var b=this;if(!b.disabled&&!b.readOnly){this.setValue(!this.checked)}},getRawValue:function(){return this.checked},getValue:function(){return this.checked},getSubmitValue:function(){var b=this.uncheckedValue,c=a.isDefined(b)?b:null;return this.checked?this.inputValue:c},setRawValue:function(e){var d=this,f=d.inputEl,b=d.inputValue,c=(e===true||e==="true"||e==="1"||((a.isString(e)&&b)?e==b:d.onRe.test(e)));if(f){f.dom.setAttribute("aria-checked",c);d[c?"addCls":"removeCls"](d.checkedCls)}d.checked=d.rawValue=c;return c},setValue:function(c){var b=this;if(a.isArray(c)){b.getManager().getByName(b.name).each(function(d){d.setValue(a.Array.contains(c,d.inputValue))})}else{b.callParent(arguments)}return b},valueToRaw:function(b){return b},onChange:function(c,b){var e=this,d=e.handler;if(d){d.call(e.scope||e,e,c)}e.callParent(arguments)},getManager:function(){return a.form.CheckboxManager},onEnable:function(){var b=this,c=b.inputEl;b.callParent();if(c){c.dom.disabled=b.readOnly}},setReadOnly:function(d){var b=this,c=b.inputEl;if(c){c.dom.disabled=d||b.disabled}b.readOnly=d},getBodyNaturalWidth:function(){var e=this,c=e.bodyEl,b="white-space",d;c.setStyle(b,"nowrap");d=c.getWidth();c.setStyle(b,"");return d}});a.define("Ext.layout.component.field.Trigger",{alias:["layout.triggerfield"],extend:"Ext.layout.component.field.Field",type:"triggerfield",sizeBodyContents:function(e,c){var f=this,b=f.owner,h=b.inputEl,d=b.triggerWrap,g=b.getTriggerWidth();if(b.hideTrigger||b.readOnly||g>0){f.setElementSize(h,a.isNumber(e)?e-g:e);d.setWidth(g)}}});a.define("Ext.view.View",{extend:"Ext.view.AbstractView",alternateClassName:"Ext.view.View",alias:"widget.dataview",inheritableStatics:{EventMap:{mousedown:"MouseDown",mouseup:"MouseUp",click:"Click",dblclick:"DblClick",contextmenu:"ContextMenu",mouseover:"MouseOver",mouseout:"MouseOut",mouseenter:"MouseEnter",mouseleave:"MouseLeave",keydown:"KeyDown"}},addCmpEvents:function(){this.addEvents("beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","beforeitemkeydown","itemmousedown","itemmouseup","itemmouseenter","itemmouseleave","itemclick","itemdblclick","itemcontextmenu","itemkeydown","beforecontainermousedown","beforecontainermouseup","beforecontainermouseover","beforecontainermouseout","beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","beforecontainerkeydown","containermouseup","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","containerkeydown","selectionchange","beforeselect")},afterRender:function(){var c=this,b;c.callParent();b={scope:c,click:c.handleEvent,mousedown:c.handleEvent,mouseup:c.handleEvent,dblclick:c.handleEvent,contextmenu:c.handleEvent,mouseover:c.handleEvent,mouseout:c.handleEvent,keydown:c.handleEvent};c.mon(c.getTargetEl(),b);if(c.store){c.bindStore(c.store,true)}},handleEvent:function(b){if(this.processUIEvent(b)!==false){this.processSpecialEvent(b)}},processItemEvent:a.emptyFn,processContainerEvent:a.emptyFn,processSpecialEvent:a.emptyFn,stillOverItem:function(c,b){var d;if(b&&typeof(b.offsetParent)==="object"){d=(c.type=="mouseout")?c.getRelatedTarget():c.getTarget();return a.fly(b).contains(d)}return false},processUIEvent:function(h){var i=this,k=h.getTarget(i.getItemSelector(),i.getTargetEl()),b=this.statics().EventMap,g,d,j=h.type,f=i.mouseOverItem,c;if(!k){if(j=="mouseover"&&i.stillOverItem(h,f)){k=f}if(j=="keydown"){d=i.getSelectionModel().getLastSelected();if(d){k=i.getNode(d)}}}if(k){g=i.indexOf(k);if(!d){d=i.getRecord(k)}if(i.processItemEvent(d,k,g,h)===false){return false}c=i.isNewItemEvent(k,h);if(c===false){return false}if((i["onBeforeItem"+b[c]](d,k,g,h)===false)||(i.fireEvent("beforeitem"+c,i,d,k,g,h)===false)||(i["onItem"+b[c]](d,k,g,h)===false)){return false}i.fireEvent("item"+c,i,d,k,g,h)}else{if((i.processContainerEvent(h)===false)||(i["onBeforeContainer"+b[j]](h)===false)||(i.fireEvent("beforecontainer"+j,i,h)===false)||(i["onContainer"+b[j]](h)===false)){return false}i.fireEvent("container"+j,i,h)}return true},isNewItemEvent:function(f,g){var d=this,b=d.mouseOverItem,c=g.type;switch(c){case"mouseover":if(f===b){return false}d.mouseOverItem=f;return"mouseenter";case"mouseout":if(d.stillOverItem(g,b)){return false}d.mouseOverItem=null;return"mouseleave"}return c},onItemMouseEnter:function(b,d,c,f){if(this.trackOver){this.highlightItem(d)}},onItemMouseLeave:function(b,d,c,f){if(this.trackOver){this.clearHighlight()}},onItemMouseDown:a.emptyFn,onItemMouseUp:a.emptyFn,onItemClick:a.emptyFn,onItemDblClick:a.emptyFn,onItemContextMenu:a.emptyFn,onItemKeyDown:a.emptyFn,onBeforeItemMouseDown:a.emptyFn,onBeforeItemMouseUp:a.emptyFn,onBeforeItemMouseEnter:a.emptyFn,onBeforeItemMouseLeave:a.emptyFn,onBeforeItemClick:a.emptyFn,onBeforeItemDblClick:a.emptyFn,onBeforeItemContextMenu:a.emptyFn,onBeforeItemKeyDown:a.emptyFn,onContainerMouseDown:a.emptyFn,onContainerMouseUp:a.emptyFn,onContainerMouseOver:a.emptyFn,onContainerMouseOut:a.emptyFn,onContainerClick:a.emptyFn,onContainerDblClick:a.emptyFn,onContainerContextMenu:a.emptyFn,onContainerKeyDown:a.emptyFn,onBeforeContainerMouseDown:a.emptyFn,onBeforeContainerMouseUp:a.emptyFn,onBeforeContainerMouseOver:a.emptyFn,onBeforeContainerMouseOut:a.emptyFn,onBeforeContainerClick:a.emptyFn,onBeforeContainerDblClick:a.emptyFn,onBeforeContainerContextMenu:a.emptyFn,onBeforeContainerKeyDown:a.emptyFn,highlightItem:function(c){var b=this;b.clearHighlight();b.highlightedItem=c;a.fly(c).addCls(b.overItemCls)},clearHighlight:function(){var c=this,b=c.highlightedItem;if(b){a.fly(b).removeCls(c.overItemCls);delete c.highlightedItem}},refresh:function(){this.clearHighlight();this.callParent(arguments)}});a.define("Ext.layout.component.BoundList",{extend:"Ext.layout.component.Component",alias:"layout.boundlist",type:"component",beforeLayout:function(){return this.callParent(arguments)||this.owner.refreshed>0},onLayout:function(c,q){var k=this,d=k.owner,i=d.floating,e=d.el,s=e.getXY(),r=a.isNumber,b,n,p,m,h,l,g,j,f;if(i){e.setXY([-9999,-9999])}k.setTargetSize(c,q);if(!r(c)){b=d.minWidth;n=d.maxWidth;if(r(b)||r(n)){h=e.getWidth();if(h<b){g=b}else{if(h>n){g=n}}if(g){k.setTargetSize(g)}}}if(!r(q)){p=d.minHeight;m=d.maxHeight;if(r(p)||r(m)){l=e.getHeight();if(l<p){j=p}else{if(l>m){j=m}}if(j){k.setTargetSize(f,j)}}}if(i){e.setXY(s)}},afterLayout:function(){var c=this,b=c.owner.pagingToolbar;c.callParent();if(b){b.doComponentLayout()}},setTargetSize:function(e,c){var g=this,b=g.owner,d=null,f;if(a.isNumber(c)){d=c-b.el.getFrameWidth("tb");f=b.pagingToolbar;if(f){d-=f.getHeight()}}g.setElementSize(b.listEl,null,d);g.callParent(arguments)}});a.define("Ext.toolbar.TextItem",{extend:"Ext.toolbar.Item",requires:["Ext.XTemplate"],alias:"widget.tbtext",alternateClassName:"Ext.Toolbar.TextItem",text:"",renderTpl:"{text}",baseCls:a.baseCSSPrefix+"toolbar-text",onRender:function(){a.apply(this.renderData,{text:this.text});this.callParent(arguments)},setText:function(b){if(this.rendered){this.el.update(b);this.ownerCt.doLayout()}else{this.text=b}}});a.define("Ext.form.field.Trigger",{extend:"Ext.form.field.Text",alias:["widget.triggerfield","widget.trigger"],requires:["Ext.core.DomHelper","Ext.util.ClickRepeater","Ext.layout.component.field.Trigger"],alternateClassName:["Ext.form.TriggerField","Ext.form.TwinTriggerField","Ext.form.Trigger"],fieldSubTpl:['<input id="{id}" type="{type}" ','<tpl if="name">name="{name}" </tpl>','<tpl if="size">size="{size}" </tpl>','<tpl if="tabIdx">tabIndex="{tabIdx}" </tpl>','class="{fieldCls} {typeCls}" autocomplete="off" />','<div class="{triggerWrapCls}" role="presentation">',"{triggerEl}",'<div class="{clearCls}" role="presentation"></div>',"</div>",{compiled:true,disableFormats:true}],triggerBaseCls:a.baseCSSPrefix+"form-trigger",triggerWrapCls:a.baseCSSPrefix+"form-trigger-wrap",hideTrigger:false,editable:true,readOnly:false,repeatTriggerClick:false,autoSize:a.emptyFn,monitorTab:true,mimicing:false,triggerIndexRe:/trigger-index-(\d+)/,componentLayout:"triggerfield",initComponent:function(){this.wrapFocusCls=this.triggerWrapCls+"-focus";this.callParent(arguments)},onRender:function(e,b){var f=this,j,g=f.triggerBaseCls,h=f.triggerWrapCls,c=[],d;if(!f.trigger1Cls){f.trigger1Cls=f.triggerCls}for(d=0;(j=f["trigger"+(d+1)+"Cls"])||d<1;d++){c.push({cls:[a.baseCSSPrefix+"trigger-index-"+d,g,j].join(" "),role:"button"})}c[d-1].cls+=" "+g+"-last";a.applyIf(f.renderSelectors,{triggerWrap:"."+h});a.applyIf(f.subTplData,{triggerWrapCls:h,triggerEl:a.core.DomHelper.markup(c),clearCls:f.clearCls});f.callParent(arguments);f.triggerEl=a.select("."+g,true,f.triggerWrap.dom);f.doc=a.isIE?a.getBody():a.getDoc();f.initTrigger()},onEnable:function(){this.callParent();this.triggerWrap.unmask()},onDisable:function(){this.callParent();this.triggerWrap.mask()},afterRender:function(){this.callParent();this.updateEditState()},updateEditState:function(){var d=this,f=d.inputEl,b=d.triggerWrap,e=a.baseCSSPrefix+"trigger-noedit",c,g;if(d.rendered){if(d.readOnly){f.addCls(e);g=true;c=false}else{if(d.editable){f.removeCls(e);g=false}else{f.addCls(e);g=true}c=!d.hideTrigger}b.setDisplayed(c);f.dom.readOnly=g;d.doComponentLayout()}},getTriggerWidth:function(){var d=this,c=d.triggerWrap,b=0;if(c&&!d.hideTrigger&&!d.readOnly){d.triggerEl.each(function(e){b+=e.getWidth()});b+=d.triggerWrap.getFrameWidth("lr")}return b},setHideTrigger:function(b){if(b!=this.hideTrigger){this.hideTrigger=b;this.updateEditState()}},setEditable:function(b){if(b!=this.editable){this.editable=b;this.updateEditState()}},setReadOnly:function(b){if(b!=this.readOnly){this.readOnly=b;this.updateEditState()}},initTrigger:function(){var d=this,b=d.triggerWrap,c=d.triggerEl;if(d.repeatTriggerClick){d.triggerRepeater=a.create("Ext.util.ClickRepeater",b,{preventDefault:true,handler:function(f,g){d.onTriggerWrapClick(g)}})}else{d.mon(d.triggerWrap,"click",d.onTriggerWrapClick,d)}c.addClsOnOver(d.triggerBaseCls+"-over");c.each(function(f,g,e){f.addClsOnOver(d["trigger"+(e+1)+"Cls"]+"-over")});c.addClsOnClick(d.triggerBaseCls+"-click");c.each(function(f,g,e){f.addClsOnClick(d["trigger"+(e+1)+"Cls"]+"-click")})},onDestroy:function(){var b=this;a.destroyMembers(b,"triggerRepeater","triggerWrap","triggerEl");delete b.doc;b.callParent()},onFocus:function(){var b=this;this.callParent();if(!b.mimicing){b.bodyEl.addCls(b.wrapFocusCls);b.mimicing=true;b.mon(b.doc,"mousedown",b.mimicBlur,b,{delay:10});if(b.monitorTab){b.on("specialkey",b.checkTab,b)}}},checkTab:function(b,c){if(!this.ignoreMonitorTab&&c.getKey()==c.TAB){this.triggerBlur()}},onBlur:a.emptyFn,mimicBlur:function(b){if(!this.isDestroyed&&!this.bodyEl.contains(b.target)&&this.validateBlur(b)){this.triggerBlur()}},triggerBlur:function(){var b=this;b.mimicing=false;b.mun(b.doc,"mousedown",b.mimicBlur,b);if(b.monitorTab&&b.inputEl){b.un("specialkey",b.checkTab,b)}a.form.field.Trigger.superclass.onBlur.call(b);if(b.bodyEl){b.bodyEl.removeCls(b.wrapFocusCls)}},beforeBlur:a.emptyFn,validateBlur:function(b){return true},onTriggerWrapClick:function(h){var g=this,f=h&&h.getTarget("."+a.baseCSSPrefix+"form-trigger",null),d=f&&f.className.match(g.triggerIndexRe),b,c;if(d&&!g.readOnly){b=parseInt(d[1],10);c=g["onTrigger"+(b+1)+"Click"]||g.onTriggerClick;if(c){c.call(g,h)}}},onTriggerClick:a.emptyFn});a.define("Ext.form.field.Picker",{extend:"Ext.form.field.Trigger",alias:"widget.pickerfield",alternateClassName:"Ext.form.Picker",requires:["Ext.util.KeyNav"],matchFieldWidth:true,pickerAlign:"tl-bl?",openCls:a.baseCSSPrefix+"pickerfield-open",editable:true,initComponent:function(){this.callParent();this.addEvents("expand","collapse","select")},initEvents:function(){var b=this;b.callParent();b.keyNav=a.create("Ext.util.KeyNav",b.inputEl,{down:function(){if(!b.isExpanded){b.onTriggerClick()}},esc:b.collapse,scope:b,forceKeyDown:true});if(!b.editable){b.mon(b.inputEl,"click",b.onTriggerClick,b)}if(a.isGecko){b.inputEl.dom.setAttribute("autocomplete","off")}},expand:function(){var d=this,b,c,e;if(d.rendered&&!d.isExpanded&&!d.isDestroyed){b=d.bodyEl;c=d.getPicker();e=d.collapseIf;c.show();d.isExpanded=true;d.alignPicker();b.addCls(d.openCls);d.mon(a.getDoc(),{mousewheel:e,mousedown:e,scope:d});a.EventManager.onWindowResize(d.alignPicker,d);d.fireEvent("expand",d);d.onExpand()}},onExpand:a.emptyFn,alignPicker:function(){var e=this,d,c,b="-above";if(this.isExpanded){d=e.getPicker();if(e.matchFieldWidth){d.setSize(e.bodyEl.getWidth(),d.store&&d.store.getCount()?null:0)}if(d.isFloating()){d.alignTo(e.inputEl,e.pickerAlign,e.pickerOffset);c=d.el.getY()<e.inputEl.getY();e.bodyEl[c?"addCls":"removeCls"](e.openCls+b);d.el[c?"addCls":"removeCls"](d.baseCls+b)}}},collapse:function(){if(this.isExpanded&&!this.isDestroyed){var e=this,d=e.openCls,c=e.picker,f=a.getDoc(),g=e.collapseIf,b="-above";c.hide();e.isExpanded=false;e.bodyEl.removeCls([d,d+b]);c.el.removeCls(c.baseCls+b);f.un("mousewheel",g,e);f.un("mousedown",g,e);a.EventManager.removeResizeListener(e.alignPicker,e);e.fireEvent("collapse",e);e.onCollapse()}},onCollapse:a.emptyFn,collapseIf:function(c){var b=this;if(!b.isDestroyed&&!c.within(b.bodyEl,false,true)&&!c.within(b.picker.el,false,true)){b.collapse()}},getPicker:function(){var b=this;return b.picker||(b.picker=b.createPicker())},createPicker:a.emptyFn,onTriggerClick:function(){var b=this;if(!b.readOnly&&!b.disabled){if(b.isExpanded){b.collapse()}else{b.expand()}b.inputEl.focus()}},mimicBlur:function(d){var c=this,b=c.picker;if(!b||!d.within(b.el,false,true)){c.callParent(arguments)}},onDestroy:function(){var b=this;a.EventManager.removeResizeListener(b.alignPicker,b);a.destroy(b.picker,b.keyNav);b.callParent()}});a.define("Ext.form.field.Spinner",{extend:"Ext.form.field.Trigger",alias:"widget.spinnerfield",alternateClassName:"Ext.form.Spinner",requires:["Ext.util.KeyNav"],trigger1Cls:a.baseCSSPrefix+"form-spinner-up",trigger2Cls:a.baseCSSPrefix+"form-spinner-down",spinUpEnabled:true,spinDownEnabled:true,keyNavEnabled:true,mouseWheelEnabled:true,repeatTriggerClick:true,onSpinUp:a.emptyFn,onSpinDown:a.emptyFn,initComponent:function(){this.callParent();this.addEvents("spin","spinup","spindown")},onRender:function(){var c=this,b;c.callParent(arguments);b=c.triggerEl;c.spinUpEl=b.item(0);c.spinDownEl=b.item(1);c.setSpinUpEnabled(c.spinUpEnabled);c.setSpinDownEnabled(c.spinDownEnabled);if(c.keyNavEnabled){c.spinnerKeyNav=a.create("Ext.util.KeyNav",c.inputEl,{scope:c,up:c.spinUp,down:c.spinDown})}if(c.mouseWheelEnabled){c.mon(c.bodyEl,"mousewheel",c.onMouseWheel,c)}},getTriggerWidth:function(){return this.hideTrigger||this.readOnly?0:this.spinUpEl.getWidth()+this.triggerWrap.getFrameWidth("lr")},onTrigger1Click:function(){this.spinUp()},onTrigger2Click:function(){this.spinDown()},spinUp:function(){var b=this;if(b.spinUpEnabled&&!b.disabled){b.fireEvent("spin",b,"up");b.fireEvent("spinup",b);b.onSpinUp()}},spinDown:function(){var b=this;if(b.spinDownEnabled&&!b.disabled){b.fireEvent("spin",b,"down");b.fireEvent("spindown",b);b.onSpinDown()}},setSpinUpEnabled:function(b){var c=this,d=c.spinUpEnabled;c.spinUpEnabled=b;if(d!==b&&c.rendered){c.spinUpEl[b?"removeCls":"addCls"](c.trigger1Cls+"-disabled")}},setSpinDownEnabled:function(b){var c=this,d=c.spinDownEnabled;c.spinDownEnabled=b;if(d!==b&&c.rendered){c.spinDownEl[b?"removeCls":"addCls"](c.trigger2Cls+"-disabled")}},onMouseWheel:function(c){var b=this,d;if(b.hasFocus){d=c.getWheelDelta();if(d>0){b.spinUp()}else{if(d<0){b.spinDown()}}c.stopEvent()}},onDestroy:function(){a.destroyMembers(this,"spinnerKeyNav","spinUpEl","spinDownEl");this.callParent()}});a.define("Ext.form.field.Number",{extend:"Ext.form.field.Spinner",alias:"widget.numberfield",alternateClassName:["Ext.form.NumberField","Ext.form.Number"],allowDecimals:true,decimalSeparator:".",decimalPrecision:2,minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,step:1,minText:"The minimum value for this field is {0}",maxText:"The maximum value for this field is {0}",nanText:"{0} is not a valid number",negativeText:"The value cannot be negative",baseChars:"0123456789",autoStripChars:false,initComponent:function(){var b=this,c;b.callParent();b.setMinValue(b.minValue);b.setMaxValue(b.maxValue);if(b.disableKeyFilter!==true){c=b.baseChars+"";if(b.allowDecimals){c+=b.decimalSeparator}if(b.minValue<0){c+="-"}c=a.String.escapeRegex(c);b.maskRe=new RegExp("["+c+"]");if(b.autoStripChars){b.stripCharsRe=new RegExp("[^"+c+"]","gi")}}},getErrors:function(d){var c=this,f=c.callParent(arguments),e=a.String.format,b;d=a.isDefined(d)?d:this.processRawValue(this.getRawValue());if(d.length<1){return f}d=String(d).replace(c.decimalSeparator,".");if(isNaN(d)){f.push(e(c.nanText,d))}b=c.parseValue(d);if(c.minValue===0&&b<0){f.push(this.negativeText)}else{if(b<c.minValue){f.push(e(c.minText,c.minValue))}}if(b>c.maxValue){f.push(e(c.maxText,c.maxValue))}return f},rawToValue:function(b){return this.fixPrecision(this.parseValue(b))||b||null},valueToRaw:function(d){var c=this,b=c.decimalSeparator;d=c.parseValue(d);d=c.fixPrecision(d);d=a.isNumber(d)?d:parseFloat(String(d).replace(b,"."));d=isNaN(d)?"":String(d).replace(".",b);return d},onChange:function(){var c=this,d=c.getValue(),b=d===null;c.callParent(arguments);c.setSpinUpEnabled(b||d<c.maxValue);c.setSpinDownEnabled(b||d>c.minValue)},setMinValue:function(b){this.minValue=a.Number.from(b,Number.NEGATIVE_INFINITY)},setMaxValue:function(b){this.maxValue=a.Number.from(b,Number.MAX_VALUE)},parseValue:function(b){b=parseFloat(String(b).replace(this.decimalSeparator,"."));return isNaN(b)?null:b},fixPrecision:function(e){var d=this,c=isNaN(e),b=d.decimalPrecision;if(c||!e){return c?"":e}else{if(!d.allowDecimals||b<=0){b=0}}return parseFloat(a.Number.toFixed(parseFloat(e),b))},beforeBlur:function(){var c=this,b=c.parseValue(c.getRawValue());if(!a.isEmpty(b)){c.setValue(b)}},onSpinUp:function(){var b=this;if(!b.readOnly){b.setValue(a.Number.constrain(b.getValue()+b.step,b.minValue,b.maxValue))}},onSpinDown:function(){var b=this;if(!b.readOnly){b.setValue(a.Number.constrain(b.getValue()-b.step,b.minValue,b.maxValue))}}});a.define("Ext.toolbar.Paging",{extend:"Ext.toolbar.Toolbar",alias:"widget.pagingtoolbar",alternateClassName:"Ext.PagingToolbar",requires:["Ext.toolbar.TextItem","Ext.form.field.Number"],displayInfo:false,prependButtons:false,displayMsg:"Displaying {0} - {1} of {2}",emptyMsg:"No data to display",beforePageText:"Page",afterPageText:"of {0}",firstText:"First Page",prevText:"Previous Page",nextText:"Next Page",lastText:"Last Page",refreshText:"Refresh",inputItemWidth:30,getPagingItems:function(){var b=this;return[{itemId:"first",tooltip:b.firstText,overflowText:b.firstText,iconCls:a.baseCSSPrefix+"tbar-page-first",disabled:true,handler:b.moveFirst,scope:b},{itemId:"prev",tooltip:b.prevText,overflowText:b.prevText,iconCls:a.baseCSSPrefix+"tbar-page-prev",disabled:true,handler:b.movePrevious,scope:b},"-",b.beforePageText,{xtype:"numberfield",itemId:"inputItem",name:"inputItem",cls:a.baseCSSPrefix+"tbar-page-number",allowDecimals:false,minValue:1,hideTrigger:true,enableKeyEvents:true,selectOnFocus:true,submitValue:false,width:b.inputItemWidth,margins:"-1 2 3 2",listeners:{scope:b,keydown:b.onPagingKeyDown,blur:b.onPagingBlur}},{xtype:"tbtext",itemId:"afterTextItem",text:a.String.format(b.afterPageText,1)},"-",{itemId:"next",tooltip:b.nextText,overflowText:b.nextText,iconCls:a.baseCSSPrefix+"tbar-page-next",disabled:true,handler:b.moveNext,scope:b},{itemId:"last",tooltip:b.lastText,overflowText:b.lastText,iconCls:a.baseCSSPrefix+"tbar-page-last",disabled:true,handler:b.moveLast,scope:b},"-",{itemId:"refresh",tooltip:b.refreshText,overflowText:b.refreshText,iconCls:a.baseCSSPrefix+"tbar-loading",handler:b.doRefresh,scope:b}]},initComponent:function(){var c=this,d=c.getPagingItems(),b=c.items||c.buttons||[];if(c.prependButtons){c.items=b.concat(d)}else{c.items=d.concat(b)}delete c.buttons;if(c.displayInfo){c.items.push("->");c.items.push({xtype:"tbtext",itemId:"displayItem"})}c.callParent();c.addEvents("change","beforechange");c.on("afterlayout",c.onLoad,c,{single:true});c.bindStore(c.store,true)},updateInfo:function(){var f=this,d=f.child("#displayItem"),b=f.store,c=f.getPageData(),e,g;if(d){e=b.getCount();if(e===0){g=f.emptyMsg}else{g=a.String.format(f.displayMsg,c.fromRecord,c.toRecord,c.total)}d.setText(g);f.doComponentLayout()}},onLoad:function(){var f=this,e,c,d,b;if(!f.rendered){return}e=f.getPageData();c=e.currentPage;d=e.pageCount;b=a.String.format(f.afterPageText,isNaN(d)?1:d);f.child("#afterTextItem").setText(b);f.child("#inputItem").setValue(c);f.child("#first").setDisabled(c===1);f.child("#prev").setDisabled(c===1);f.child("#next").setDisabled(c===d);f.child("#last").setDisabled(c===d);f.child("#refresh").enable();f.updateInfo();f.fireEvent("change",f,e)},getPageData:function(){var c=this.store,b=c.getTotalCount();return{total:b,currentPage:c.currentPage,pageCount:Math.ceil(b/c.pageSize),fromRecord:((c.currentPage-1)*c.pageSize)+1,toRecord:Math.min(c.currentPage*c.pageSize,b)}},onLoadError:function(){if(!this.rendered){return}this.child("#refresh").enable()},readPageFromInput:function(c){var b=this.child("#inputItem").getValue(),d=parseInt(b,10);if(!b||isNaN(d)){this.child("#inputItem").setValue(c.currentPage);return false}return d},onPagingFocus:function(){this.child("#inputItem").select()},onPagingBlur:function(c){var b=this.getPageData().currentPage;this.child("#inputItem").setValue(b)},onPagingKeyDown:function(i,h){var c=h.getKey(),d=this.getPageData(),b=h.shiftKey?10:1,g,f=this;if(c==h.RETURN){h.stopEvent();g=f.readPageFromInput(d);if(g!==false){g=Math.min(Math.max(1,g),d.total);if(f.fireEvent("beforechange",f,g)!==false){f.store.loadPage(g)}}}else{if(c==h.HOME||c==h.END){h.stopEvent();g=c==h.HOME?1:d.pageCount;i.setValue(g)}else{if(c==h.UP||c==h.PAGEUP||c==h.DOWN||c==h.PAGEDOWN){h.stopEvent();g=f.readPageFromInput(d);if(g){if(c==h.DOWN||c==h.PAGEDOWN){b*=-1}g+=b;if(g>=1&&g<=d.pages){i.setValue(g)}}}}}},beforeLoad:function(){if(this.rendered&&this.refresh){this.refresh.disable()}},doLoad:function(b){if(this.fireEvent("beforechange",this,o)!==false){this.store.load()}},moveFirst:function(){var b=this;if(b.fireEvent("beforechange",b,1)!==false){b.store.loadPage(1)}},movePrevious:function(){var c=this,b=c.store.currentPage-1;if(c.fireEvent("beforechange",c,b)!==false){c.store.previousPage()}},moveNext:function(){var b=this;if(b.fireEvent("beforechange",b,b.store.currentPage+1)!==false){b.store.nextPage()}},moveLast:function(){var c=this,b=this.getPageData().pageCount;if(c.fireEvent("beforechange",c,b)!==false){c.store.loadPage(b)}},doRefresh:function(){var b=this,c=b.store.currentPage;if(b.fireEvent("beforechange",b,c)!==false){b.store.loadPage(c)}},bindStore:function(b,c){var d=this;if(!c&&d.store){if(b!==d.store&&d.store.autoDestroy){d.store.destroy()}else{d.store.un("beforeload",d.beforeLoad,d);d.store.un("load",d.onLoad,d);d.store.un("exception",d.onLoadError,d)}if(!b){d.store=null}}if(b){b=a.data.StoreManager.lookup(b);b.on({scope:d,beforeload:d.beforeLoad,load:d.onLoad,exception:d.onLoadError})}d.store=b},unbind:function(b){this.bindStore(null)},bind:function(b){this.bindStore(b)},onDestroy:function(){this.bindStore(null);this.callParent()}});a.define("Ext.view.BoundList",{extend:"Ext.view.View",alias:"widget.boundlist",alternateClassName:"Ext.BoundList",requires:["Ext.layout.component.BoundList","Ext.toolbar.Paging"],pageSize:0,autoScroll:true,baseCls:a.baseCSSPrefix+"boundlist",listItemCls:"",shadow:false,trackOver:true,refreshed:0,ariaRole:"listbox",componentLayout:"boundlist",renderTpl:['<div class="list-ct"></div>'],initComponent:function(){var c=this,b=c.baseCls,d=b+"-item";c.itemCls=d;c.selectedItemCls=b+"-selected";c.overItemCls=b+"-item-over";c.itemSelector="."+d;if(c.floating){c.addCls(b+"-floating")}c.tpl=a.create("Ext.XTemplate",'<ul><tpl for=".">','<li role="option" class="'+d+'">'+c.getInnerTpl(c.displayField)+"</li>","</tpl></ul>");if(c.pageSize){c.pagingToolbar=c.createPagingToolbar()}c.callParent();a.applyIf(c.renderSelectors,{listEl:".list-ct"})},createPagingToolbar:function(){return a.widget("pagingtoolbar",{pageSize:this.pageSize,store:this.store,border:false})},onRender:function(){var c=this,b=c.pagingToolbar;c.callParent(arguments);if(b){b.render(c.el)}},bindStore:function(b,c){var e=this,d=e.pagingToolbar;e.callParent(arguments);if(d){d.bindStore(b,c)}},getTargetEl:function(){return this.listEl||this.el},getInnerTpl:function(b){return"{"+b+"}"},refresh:function(){var b=this;b.callParent();if(b.isVisible()){b.refreshed++;b.doComponentLayout();b.refreshed--}},initAria:function(){this.callParent();var b=this.getSelectionModel(),d=b.getSelectionMode(),c=this.getActionEl();if(d!=="SINGLE"){c.dom.setAttribute("aria-multiselectable",true)}},onDestroy:function(){a.destroyMembers(this,"pagingToolbar","listEl");this.callParent()}});a.define("Ext.view.BoundListKeyNav",{extend:"Ext.util.KeyNav",requires:"Ext.view.BoundList",constructor:function(c,b){var d=this;d.boundList=b.boundList;d.callParent([c,a.apply({},b,d.defaultHandlers)])},defaultHandlers:{up:function(){var f=this,c=f.boundList,e=c.all,g=c.highlightedItem,d=g?c.indexOf(g):-1,b=d>0?d-1:e.getCount()-1;f.highlightAt(b)},down:function(){var f=this,c=f.boundList,e=c.all,g=c.highlightedItem,d=g?c.indexOf(g):-1,b=d<e.getCount()-1?d+1:0;f.highlightAt(b)},pageup:function(){},pagedown:function(){},home:function(){this.highlightAt(0)},end:function(){var b=this;b.highlightAt(b.boundList.all.getCount()-1)},enter:function(b){this.selectHighlighted(b)}},highlightAt:function(c){var b=this.boundList,d=b.all.item(c);if(d){d=d.dom;b.highlightItem(d);b.getTargetEl().scrollChildIntoView(d,false)}},selectHighlighted:function(g){var f=this,c=f.boundList,d=c.highlightedItem,b=c.getSelectionModel();if(d){b.selectWithEvent(c.getRecord(d),g)}}});a.define("Ext.form.field.ComboBox",{extend:"Ext.form.field.Picker",requires:["Ext.util.DelayedTask","Ext.EventObject","Ext.view.BoundList","Ext.view.BoundListKeyNav","Ext.data.StoreManager"],alternateClassName:"Ext.form.ComboBox",alias:["widget.combobox","widget.combo"],triggerCls:a.baseCSSPrefix+"form-arrow-trigger",multiSelect:false,delimiter:", ",displayField:"text",triggerAction:"all",allQuery:"",queryParam:"query",queryMode:"remote",queryCaching:true,pageSize:0,autoSelect:true,typeAhead:false,typeAheadDelay:250,selectOnTab:true,forceSelection:false,defaultListConfig:{emptyText:"",loadingText:"Loading...",loadingHeight:70,minWidth:70,maxHeight:300,shadow:"sides"},ignoreSelection:0,initComponent:function(){var f=this,d=a.isDefined,c=f.store,e=f.transform,b,g;this.addEvents("beforequery","select");if(!c&&e){b=a.getDom(e);if(b){c=a.Array.map(a.Array.from(b.options),function(h){return[h.value,h.text]});if(!f.name){f.name=b.name}if(!("value" in f)){f.value=b.value}}}f.bindStore(c,true);c=f.store;if(c.autoCreated){f.queryMode="local";f.valueField=f.displayField="field1";if(!c.expanded){f.displayField="field2"}}if(!d(f.valueField)){f.valueField=f.displayField}g=f.queryMode==="local";if(!d(f.queryDelay)){f.queryDelay=g?10:500}if(!d(f.minChars)){f.minChars=g?0:4}if(!f.displayTpl){f.displayTpl=a.create("Ext.XTemplate",'<tpl for=".">{[typeof values === "string" ? values : values.'+f.displayField+']}<tpl if="xindex < xcount">'+f.delimiter+"</tpl></tpl>")}else{if(a.isString(f.displayTpl)){f.displayTpl=a.create("Ext.XTemplate",f.displayTpl)}}f.callParent();f.doQueryTask=a.create("Ext.util.DelayedTask",f.doRawQuery,f);if(f.store.getCount()>0){f.setValue(f.value)}if(b){f.render(b.parentNode,b);a.removeNode(b);delete f.renderTo}},beforeBlur:function(){var b=this;b.doQueryTask.cancel();if(b.forceSelection){b.assertValue()}else{b.collapse()}},assertValue:function(){var b=this,c=b.getRawValue(),d;if(b.multiSelect){if(c!==b.getDisplayValue()){b.setValue(b.lastSelection)}}else{d=b.findRecordByDisplay(c);if(d){b.select(d)}else{b.setValue(b.lastSelection)}}b.collapse()},onTypeAhead:function(){var f=this,e=f.displayField,c=f.store.findRecord(e,f.getRawValue()),d=f.getPicker(),g,b,h;if(c){g=c.get(e);b=g.length;h=f.getRawValue().length;d.highlightItem(d.getNode(c));if(h!==0&&h!==b){f.setRawValue(g);f.selectText(h,g.length)}}},resetToDefault:function(){},bindStore:function(b,c){var d=this,e=d.store;if(e&&!c){if(e!==b&&e.autoDestroy){e.destroy()}else{e.un({scope:d,load:d.onLoad,exception:d.collapse})}if(!b){d.store=null;if(d.picker){d.picker.bindStore(null)}}}if(b){if(!c){d.resetToDefault()}d.store=a.data.StoreManager.lookup(b);d.store.on({scope:d,load:d.onLoad,exception:d.collapse});if(d.picker){d.picker.bindStore(b)}}},onLoad:function(){var b=this,c=b.value;b.syncSelection();if(b.picker&&!b.picker.getSelectionModel().hasSelection()){b.doAutoSelect()}},doRawQuery:function(){this.doQuery(this.getRawValue())},doQuery:function(g,d){g=g||"";var e=this,c={query:g,forceAll:d,combo:e,cancel:false},b=e.store,f=e.queryMode==="local";if(e.fireEvent("beforequery",c)===false||c.cancel){return false}g=c.query;d=c.forceAll;if(d||(g.length>=e.minChars)){e.expand();if(!e.queryCaching||e.lastQuery!==g){e.lastQuery=g;b.clearFilter(!d);if(f){if(!d){b.filter(e.displayField,g)}}else{b.load({params:e.getParams(g)})}}if(e.getRawValue()!==e.getDisplayValue()){e.ignoreSelection++;e.picker.getSelectionModel().deselectAll();e.ignoreSelection--}if(f){e.doAutoSelect()}if(e.typeAhead){e.doTypeAhead()}}return true},getParams:function(e){var c={},b=this.pageSize,d=this.queryParam;if(d){c[d]=e}if(b){c.start=0;c.limit=b}return c},doAutoSelect:function(){var c=this,b=c.picker,d,e;if(b&&c.autoSelect&&c.store.getCount()>0){d=b.getSelectionModel().lastSelected;e=b.getNode(d||0);if(e){b.highlightItem(e);b.listEl.scrollChildIntoView(e,false)}}},doTypeAhead:function(){if(!this.typeAheadTask){this.typeAheadTask=a.create("Ext.util.DelayedTask",this.onTypeAhead,this)}if(this.lastKey!=a.EventObject.BACKSPACE&&this.lastKey!=a.EventObject.DELETE){this.typeAheadTask.delay(this.typeAheadDelay)}},onTriggerClick:function(){var b=this;if(!b.readOnly&&!b.disabled){if(b.isExpanded){b.collapse()}else{b.onFocus({});if(b.triggerAction==="all"){b.doQuery(b.allQuery,true)}else{b.doQuery(b.getRawValue())}}b.inputEl.focus()}},onKeyUp:function(f,c){var d=this,b=f.getKey();if(!d.readOnly&&!d.disabled&&d.editable){d.lastKey=b;if(!f.isSpecialKey()||b==f.BACKSPACE||b==f.DELETE){d.doQueryTask.delay(d.queryDelay)}}if(d.enableKeyEvents){d.callParent(arguments)}},initEvents:function(){var b=this;b.callParent();if(!b.enableKeyEvents){b.mon(b.inputEl,"keyup",b.onKeyUp,b)}},createPicker:function(){var d=this,b,e=a.baseCSSPrefix+"menu",c=a.apply({selModel:{mode:d.multiSelect?"SIMPLE":"SINGLE"},floating:true,hidden:true,ownerCt:d.ownerCt,cls:d.el.up("."+e)?e:"",store:d.store,displayField:d.displayField,focusOnToFront:false,pageSize:d.pageSize},d.listConfig,d.defaultListConfig);b=d.picker=a.create("Ext.view.BoundList",c);d.mon(b,{itemclick:d.onItemClick,refresh:d.onListRefresh,scope:d});d.mon(b.getSelectionModel(),{selectionChange:d.onListSelectionChange,scope:d});return b},onListRefresh:function(){this.alignPicker();this.syncSelection()},onItemClick:function(e,b){var g=this,c=g.lastSelection,d=g.valueField,f;if(!g.multiSelect&&c){f=c[0];if(b.get(d)===f.get(d)){g.collapse()}}},onListSelectionChange:function(c,d){var b=this;if(!b.ignoreSelection&&b.isExpanded){if(!b.multiSelect){a.defer(b.collapse,1,b)}b.setValue(d,false);if(d.length>0){b.fireEvent("select",b,d)}b.inputEl.focus()}},onExpand:function(){var e=this,b=e.listKeyNav,d=e.selectOnTab,c=e.getPicker();if(b){b.enable()}else{b=e.listKeyNav=a.create("Ext.view.BoundListKeyNav",this.inputEl,{boundList:c,forceKeyDown:true,tab:function(f){if(d){this.selectHighlighted(f);e.triggerBlur()}return true}})}if(d){e.ignoreMonitorTab=true}a.defer(b.enable,1,b);e.inputEl.focus()},onCollapse:function(){var c=this,b=c.listKeyNav;if(b){b.disable();c.ignoreMonitorTab=false}},select:function(b){this.setValue(b,true)},findRecord:function(e,d){var c=this.store,b=c.findExact(e,d);return b!==-1?c.getAt(b):false},findRecordByValue:function(b){return this.findRecord(this.valueField,b)},findRecordByDisplay:function(b){return this.findRecord(this.displayField,b)},setValue:function(l,f){var k=this,d=k.valueNotFoundText,m=k.inputEl,g,j,h,c=[],b=[],e=[];if(k.store.loading){k.value=l;return k}l=a.Array.from(l);for(g=0,j=l.length;g<j;g++){h=l[g];if(!h||!h.isModel){h=k.findRecordByValue(h)}if(h){c.push(h);b.push(h.data);e.push(h.get(k.valueField))}else{if(a.isDefined(d)){b.push(d)}e.push(l[g])}}k.value=k.multiSelect?e:e[0];if(!a.isDefined(k.value)){k.value=null}k.displayTplData=b;k.lastSelection=k.valueModels=c;if(m&&k.emptyText&&!a.isEmpty(l)){m.removeCls(k.emptyCls)}k.setRawValue(k.getDisplayValue());k.checkChange();if(f!==false){k.syncSelection()}k.applyEmptyText();return k},getDisplayValue:function(){return this.displayTpl.apply(this.displayTplData)},getValue:function(){var c=this,b=c.picker,e=c.getRawValue(),d=c.value;if(c.getDisplayValue()!==e){d=e;c.value=c.displayTplData=c.valueModels=null;if(b){c.ignoreSelection++;b.getSelectionModel().deselectAll();c.ignoreSelection--}}return d},getSubmitValue:function(){return this.getValue()},isEqual:function(f,e){var c=a.Array.from,d,b;f=c(f);e=c(e);b=f.length;if(b!==e.length){return false}for(d=0;d<b;d++){if(e[d]!==f[d]){return false}}return true},clearValue:function(){this.setValue([])},syncSelection:function(){var e=this,f=a.Array,c=e.picker,d,b;if(c){d=[];f.forEach(e.valueModels||[],function(g){if(g&&g.isModel&&e.store.indexOf(g)>=0){d.push(g)}});e.ignoreSelection++;b=c.getSelectionModel();b.deselectAll();if(d.length){b.select(d)}e.ignoreSelection--}}});a.define("Ext.picker.Month",{extend:"Ext.Component",requires:["Ext.XTemplate","Ext.util.ClickRepeater","Ext.Date","Ext.button.Button"],alias:"widget.monthpicker",alternateClassName:"Ext.MonthPicker",renderTpl:['<div class="{baseCls}-body">','<div class="{baseCls}-months">','<tpl for="months">','<div class="{parent.baseCls}-item {parent.baseCls}-month"><a href="#" hidefocus="on">{.}</a></div>',"</tpl>","</div>",'<div class="{baseCls}-years">','<div class="{baseCls}-yearnav">','<button class="{baseCls}-yearnav-prev"></button>','<button class="{baseCls}-yearnav-next"></button>',"</div>",'<tpl for="years">','<div class="{parent.baseCls}-item {parent.baseCls}-year"><a href="#" hidefocus="on">{.}</a></div>',"</tpl>","</div>","</div>",'<div class="'+a.baseCSSPrefix+'clear"></div>','<tpl if="showButtons">','<div class="{baseCls}-buttons"></div>',"</tpl>"],okText:"OK",cancelText:"Cancel",baseCls:a.baseCSSPrefix+"monthpicker",showButtons:true,width:175,height:195,totalYears:10,yearOffset:5,monthOffset:6,initComponent:function(){var b=this;b.selectedCls=b.baseCls+"-selected";b.addEvents("cancelclick","monthclick","monthdblclick","okclick","select","yearclick","yeardblclick");b.setValue(b.value);b.activeYear=b.getYear(new Date().getFullYear()-4,-4);this.callParent()},onRender:function(f,d){var h=this,e=0,c=[],b=a.Date.getShortMonthName,g=h.monthOffset;for(;e<g;++e){c.push(b(e),b(e+g))}a.apply(h.renderData,{months:c,years:h.getYears(),showButtons:h.showButtons});a.apply(h.renderSelectors,{bodyEl:"."+h.baseCls+"-body",prevEl:"."+h.baseCls+"-yearnav-prev",nextEl:"."+h.baseCls+"-yearnav-next",buttonsEl:"."+h.baseCls+"-buttons"});this.callParent([f,d])},afterRender:function(){var c=this,b=c.bodyEl,d=c.buttonsEl;c.callParent();c.mon(b,"click",c.onBodyClick,c);c.mon(b,"dblclick",c.onBodyClick,c);c.years=b.select("."+c.baseCls+"-year a");c.months=b.select("."+c.baseCls+"-month a");if(c.showButtons){c.okBtn=a.create("Ext.button.Button",{text:c.okText,renderTo:d,handler:c.onOkClick,scope:c});c.cancelBtn=a.create("Ext.button.Button",{text:c.cancelText,renderTo:d,handler:c.onCancelClick,scope:c})}c.backRepeater=a.create("Ext.util.ClickRepeater",c.prevEl,{handler:a.Function.bind(c.adjustYear,c,[-c.totalYears])});c.prevEl.addClsOnOver(c.baseCls+"-yearnav-prev-over");c.nextRepeater=a.create("Ext.util.ClickRepeater",c.nextEl,{handler:a.Function.bind(c.adjustYear,c,[c.totalYears])});c.nextEl.addClsOnOver(c.baseCls+"-yearnav-next-over");c.updateBody()},setValue:function(e){var d=this,f=d.activeYear,g=d.monthOffset,c,b;if(!e){d.value=[null,null]}else{if(a.isDate(e)){d.value=[e.getMonth(),e.getFullYear()]}else{d.value=[e[0],e[1]]}}if(d.rendered){c=d.value[1];if(c!==null){if((c<f||c>f+d.yearOffset)){d.activeYear=c-d.yearOffset+1}}d.updateBody()}return d},getValue:function(){return this.value},hasSelection:function(){var b=this.value;return b[0]!==null&&b[1]!==null},getYears:function(){var e=this,f=e.yearOffset,g=e.activeYear,b=g+f,d=g,c=[];for(;d<b;++d){c.push(d,d+f)}return c},updateBody:function(){var f=this,c=f.years,b=f.months,i=f.getYears(),j=f.selectedCls,g=f.getYear(null),d=f.value[0],h=f.monthOffset,e;if(f.rendered){c.removeCls(j);b.removeCls(j);c.each(function(m,l,k){e=i[k];m.dom.innerHTML=e;if(e==g){m.dom.className=j}});if(d!==null){if(d<h){d=d*2}else{d=(d-h)*2+1}b.item(d).addCls(j)}}},getYear:function(b,d){var c=this.value[1];d=d||0;return c===null?b:c+d},onBodyClick:function(f,c){var d=this,b=f.type=="dblclick";if(f.getTarget("."+d.baseCls+"-month")){f.stopEvent();d.onMonthClick(c,b)}else{if(f.getTarget("."+d.baseCls+"-year")){f.stopEvent();d.onYearClick(c,b)}}},adjustYear:function(b){if(typeof b!="number"){b=this.totalYears}this.activeYear+=b;this.updateBody()},onOkClick:function(){this.fireEvent("okclick",this,this.value)},onCancelClick:function(){this.fireEvent("cancelclick",this)},onMonthClick:function(d,b){var c=this;c.value[0]=c.resolveOffset(c.months.indexOf(d),c.monthOffset);c.updateBody();c.fireEvent("month"+(b?"dbl":"")+"click",c,c.value);c.fireEvent("select",c,c.value)},onYearClick:function(d,b){var c=this;c.value[1]=c.activeYear+c.resolveOffset(c.years.indexOf(d),c.yearOffset);c.updateBody();c.fireEvent("year"+(b?"dbl":"")+"click",c,c.value);c.fireEvent("select",c,c.value)},resolveOffset:function(b,c){if(b%2===0){return(b/2)}else{return c+Math.floor(b/2)}},beforeDestroy:function(){var b=this;b.years=b.months=null;a.destroyMembers("backRepeater","nextRepeater","okBtn","cancelBtn");this.callParent()}});a.define("Ext.picker.Date",{extend:"Ext.Component",requires:["Ext.XTemplate","Ext.button.Button","Ext.button.Split","Ext.util.ClickRepeater","Ext.util.KeyNav","Ext.EventObject","Ext.fx.Manager","Ext.picker.Month"],alias:"widget.datepicker",alternateClassName:"Ext.DatePicker",renderTpl:['<div class="{cls}" id="{id}" role="grid" title="{ariaTitle} {value:this.longDay}">','<div role="presentation" class="{baseCls}-header">','<div class="{baseCls}-prev"><a href="#" role="button" title="{prevText}"></a></div>','<div class="{baseCls}-month"></div>','<div class="{baseCls}-next"><a href="#" role="button" title="{nextText}"></a></div>',"</div>",'<table class="{baseCls}-inner" cellspacing="0" role="presentation">','<thead role="presentation"><tr role="presentation">','<tpl for="dayNames">','<th role="columnheader" title="{.}"><span>{.:this.firstInitial}</span></th>',"</tpl>","</tr></thead>",'<tbody role="presentation"><tr role="presentation">','<tpl for="days">',"{#:this.isEndOfWeek}",'<td role="gridcell" id="{[Ext.id()]}">','<a role="presentation" href="#" hidefocus="on" class="{parent.baseCls}-date" tabIndex="1">','<em role="presentation"><span role="presentation"></span></em>',"</a>","</td>","</tpl>","</tr></tbody>","</table>",'<tpl if="showToday">','<div role="presentation" class="{baseCls}-footer"></div>',"</tpl>","</div>",{firstInitial:function(b){return b.substr(0,1)},isEndOfWeek:function(c){c--;var b=c%7===0&&c!==0;return b?'</tr><tr role="row">':""},longDay:function(b){return a.Date.format(b,this.longDayFormat)}}],ariaTitle:"Date Picker",todayText:"Today",todayTip:"{0} (Spacebar)",minText:"This date is before the minimum date",maxText:"This date is after the maximum date",disabledDaysText:"Disabled",disabledDatesText:"Disabled",nextText:"Next Month (Control+Right)",prevText:"Previous Month (Control+Left)",monthYearText:"Choose a month (Control+Up/Down to move years)",startDay:0,showToday:true,disableAnim:true,baseCls:a.baseCSSPrefix+"datepicker",longDayFormat:"F d, Y",focusOnShow:false,focusOnSelect:true,width:178,initHour:12,numDays:42,initComponent:function(){var c=this,b=a.Date.clearTime;c.selectedCls=c.baseCls+"-selected";c.disabledCellCls=c.baseCls+"-disabled";c.prevCls=c.baseCls+"-prevday";c.activeCls=c.baseCls+"-active";c.nextCls=c.baseCls+"-prevday";c.todayCls=c.baseCls+"-today";c.dayNames=c.dayNames.slice(c.startDay).concat(c.dayNames.slice(0,c.startDay));this.callParent();c.value=c.value?b(c.value,true):b(new Date());c.addEvents("select");c.initDisabledDays()},onRender:function(c,b){var e=this,f=new Array(e.numDays),d=a.Date.format(new Date(),e.format);a.applyIf(e,{renderData:{},renderSelectors:{}});a.apply(e.renderData,{dayNames:e.dayNames,ariaTitle:e.ariaTitle,value:e.value,showToday:e.showToday,prevText:e.prevText,nextText:e.nextText,days:f});e.getTpl("renderTpl").longDayFormat=e.longDayFormat;a.apply(e.renderSelectors,{eventEl:"table."+e.baseCls+"-inner",prevEl:"."+e.baseCls+"-prev a",nextEl:"."+e.baseCls+"-next a",middleBtnEl:"."+e.baseCls+"-month",footerEl:"."+e.baseCls+"-footer"});this.callParent(arguments);e.el.unselectable();e.cells=e.eventEl.select("tbody td");e.textNodes=e.eventEl.query("tbody td span");e.monthBtn=a.create("Ext.button.Split",{text:"",tooltip:e.monthYearText,renderTo:e.middleBtnEl});e.todayBtn=a.create("Ext.button.Button",{renderTo:e.footerEl,text:a.String.format(e.todayText,d),tooltip:a.String.format(e.todayTip,d),handler:e.selectToday,scope:e})},initEvents:function(){var d=this,b=a.Date,c=b.DAY;this.callParent();d.prevRepeater=a.create("Ext.util.ClickRepeater",d.prevEl,{handler:d.showPrevMonth,scope:d,preventDefault:true,stopDefault:true});d.nextRepeater=a.create("Ext.util.ClickRepeater",d.nextEl,{handler:d.showNextMonth,scope:d,preventDefault:true,stopDefault:true});d.keyNav=a.create("Ext.util.KeyNav",d.eventEl,a.apply({scope:d,left:function(f){if(f.ctrlKey){d.showPrevMonth()}else{d.update(b.add(d.activeDate,c,-1))}},right:function(f){if(f.ctrlKey){d.showNextMonth()}else{d.update(b.add(d.activeDate,c,1))}},up:function(f){if(f.ctrlKey){d.showNextYear()}else{d.update(b.add(d.activeDate,c,-7))}},down:function(f){if(f.ctrlKey){d.showPrevYear()}else{d.update(b.add(d.activeDate,c,7))}},pageUp:d.showNextMonth,pageDown:d.showPrevMonth,enter:function(f){f.stopPropagation();return true}},d.keyNavConfig));if(d.showToday){d.todayKeyListener=d.eventEl.addKeyListener(a.EventObject.SPACE,d.selectToday,d)}d.mon(d.eventEl,"mousewheel",d.handleMouseWheel,d);d.mon(d.eventEl,"click",d.handleDateClick,d,{delegate:"a."+d.baseCls+"-date"});d.mon(d.monthBtn,"click",d.showMonthPicker,d);d.mon(d.monthBtn,"arrowclick",d.showMonthPicker,d);d.update(d.value)},initDisabledDays:function(){var e=this,c=e.disabledDates,d="(?:",b;if(!e.disabledDatesRE&&c){b=c.length-1;a.each(c,function(g,f){d+=a.isDate(g)?"^"+a.String.escapeRegex(a.Date.dateFormat(g,e.format))+"$":c[f];if(f!=b){d+="|"}},e);e.disabledDatesRE=new RegExp(d+")")}},setDisabledDates:function(b){var c=this;if(a.isArray(b)){c.disabledDates=b;c.disabledDatesRE=null}else{c.disabledDatesRE=b}c.initDisabledDays();c.update(c.value,true);return c},setDisabledDays:function(b){this.disabledDays=b;return this.update(this.value,true)},setMinDate:function(b){this.minDate=b;return this.update(this.value,true)},setMaxDate:function(b){this.maxDate=b;return this.update(this.value,true)},setValue:function(b){this.value=a.Date.clearTime(b,true);return this.update(this.value)},getValue:function(){return this.value},focus:function(){this.update(this.activeDate)},onEnable:function(){this.callParent();this.setDisabledStatus(false);this.update(this.activeDate)},onDisable:function(){this.callParent();this.setDisabledStatus(true)},setDisabledStatus:function(b){var c=this;c.keyNav.setDisabled(b);c.prevRepeater.setDisabled(b);c.nextRepeater.setDisabled(b);if(c.showToday){c.todayKeyListener.setDisabled(b);c.todayBtn.setDisabled(b)}},getActive:function(){return this.activeDate||me.value},runAnimation:function(c){var b={target:this.monthPicker,duration:200};a.fx.Manager.run();if(c){}else{}a.create("Ext.fx.Anim",b)},hideMonthPicker:function(){var c=this,b=c.monthPicker;if(b){if(c.disableAnim){b.hide()}else{this.runAnimation(true)}}return c},showMonthPicker:function(){var d=this,b,c,f,e;if(d.rendered&&!d.disabled){c=d.getSize();b=d.createMonthPicker();b.show();b.setSize(c);b.setValue(d.getActive());if(d.disableAnim){b.setPosition(-1,-1)}else{d.runAnimation(false)}}return d},createMonthPicker:function(){var c=this,b=c.monthPicker;if(!b){c.monthPicker=b=a.create("Ext.picker.Month",{renderTo:c.el,floating:true,shadow:false,listeners:{scope:c,cancelclick:c.onCancelClick,okclick:c.onOkClick,yeardblclick:c.onOkClick,monthdblclick:c.onOkClick}});c.on("beforehide",c.hideMonthPicker,c)}return b},onOkClick:function(c,f){var e=this,g=f[0],d=f[1],b=new Date(d,g,e.getActive().getDate());if(b.getMonth()!==g){b=new Date(d,g,1).getLastDateOfMonth()}e.update(b);e.hideMonthPicker()},onCancelClick:function(){this.hideMonthPicker()},showPrevMonth:function(b){return this.update(a.Date.add(this.activeDate,a.Date.MONTH,-1))},showNextMonth:function(b){return this.update(a.Date.add(this.activeDate,a.Date.MONTH,1))},showPrevYear:function(){this.update(a.Date.add(this.activeDate,a.Date.YEAR,-1))},showNextYear:function(){this.update(a.Date.add(this.activeDate,a.Date.YEAR,1))},handleMouseWheel:function(b){b.stopEvent();if(!this.disabled){var c=b.getWheelDelta();if(c>0){this.showPrevMonth()}else{if(c<0){this.showNextMonth()}}}},handleDateClick:function(f,b){var d=this,c=d.handler;f.stopEvent();if(!d.disabled&&b.dateValue&&!a.fly(b.parentNode).hasCls(d.disabledCellCls)){d.cancelFocus=d.focusOnSelect===false;d.setValue(new Date(b.dateValue));delete d.cancelFocus;d.fireEvent("select",d,d.value);if(c){c.call(d.scope||d,d,d.value)}d.onSelect()}},onSelect:function(){if(this.hideOnSelect){this.hide()}},selectToday:function(){var d=this,b=d.todayBtn,c=d.handler;if(b&&!b.disabled){d.setValue(a.Date.clearTime(new Date()));d.fireEvent("select",d,d.value);if(c){c.call(d.scope||d,d,d.value)}d.onSelect()}return d},selectedUpdate:function(d,g){var f=this,e=d.getTime(),c=f.cells,b=f.selectedCls;c.removeCls(b);c.each(function(h){if(h.dom.firstChild.dateValue==e){f.el.dom.setAttribute("aria-activedescendent",h.dom.id);h.addCls(b);if(f.isVisible()&&!f.cancelFocus){a.fly(h.dom.firstChild).focus(50)}return false}},this)},fullUpdate:function(D,m){var G=this,g=G.cells.elements,e=G.textNodes,I=G.disabledCellCls,p=a.Date,y=0,F=0,f=G.isVisible(),w=+p.clearTime(D,true),B=+p.clearTime(new Date()),v=G.minDate?p.clearTime(G.minDate,true):Number.NEGATIVE_INFINITY,x=G.maxDate?p.clearTime(G.maxDate,true):Number.POSITIVE_INFINITY,E=G.disabledDatesRE,u=G.disabledDatesText,J=G.disabledDays?G.disabledDays.join(""):false,C=G.disabledDaysText,z=G.format,l=p.getDaysInMonth(D),r=p.getFirstDateOfMonth(D),h=r.getDay()-G.startDay,A=p.add(D,p.MONTH,-1),c=G.longDayFormat,k,s,b,H,n,q,d,j,t;if(h<0){h+=7}l+=h;k=p.getDaysInMonth(A)-h;s=new Date(A.getFullYear(),A.getMonth(),k,G.initHour);if(G.showToday){H=p.clearTime(new Date());b=(H<v||H>x||(E&&z&&E.test(p.dateFormat(H,z)))||(J&&J.indexOf(H.getDay())!=-1));if(!G.disabled){G.todayBtn.setDisabled(b);G.todayKeyListener.setDisabled(b)}}n=function(i){t=+p.clearTime(s,true);i.title=p.format(s,c);i.firstChild.dateValue=t;if(t==B){i.className+=" "+G.todayCls;i.title=G.todayText}if(t==w){i.className+=" "+G.selectedCls;G.el.dom.setAttribute("aria-activedescendant",i.id);if(f&&G.floating){a.fly(i.firstChild).focus(50)}}if(t<v){i.className=I;i.title=G.minText;return}if(t>x){i.className=I;i.title=G.maxText;return}if(J){if(J.indexOf(s.getDay())!=-1){i.title=C;i.className=I}}if(E&&z){j=p.dateFormat(s,z);if(E.test(j)){i.title=u.replace("%0",j);i.className=I}}};for(;y<G.numDays;++y){if(y<h){q=(++k);d=G.prevCls}else{if(y>=l){q=(++F);d=G.nextCls}else{q=y-h+1;d=G.activeCls}}e[y].innerHTML=q;g[y].className=d;s.setDate(s.getDate()+1);n(g[y])}G.monthBtn.setText(G.monthNames[D.getMonth()]+" "+D.getFullYear())},update:function(b,e){var c=this,d=c.activeDate;if(c.rendered){c.activeDate=b;if(!e&&d&&c.el&&d.getMonth()==b.getMonth()&&d.getFullYear()==b.getFullYear()){c.selectedUpdate(b,d)}else{c.fullUpdate(b,d)}}return c},beforeDestroy:function(){var b=this;if(b.rendered){a.destroy(b.todayKeyListener,b.keyNav,b.monthPicker,b.monthBtn,b.nextRepeater,b.prevRepeater,b.todayBtn);delete b.textNodes;delete b.cells.elements}},onShow:function(){this.callParent(arguments);if(this.focusOnShow){this.focus()}}},function(){var b=this.prototype;b.monthNames=a.Date.monthNames;b.dayNames=a.Date.dayNames;b.format=a.Date.defaultFormat});a.define("Ext.form.field.Date",{extend:"Ext.form.field.Picker",alias:"widget.datefield",requires:["Ext.picker.Date"],alternateClassName:["Ext.form.DateField","Ext.form.Date"],format:"m/d/Y",altFormats:"m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d|n-j|n/j",disabledDaysText:"Disabled",disabledDatesText:"Disabled",minText:"The date in this field must be equal to or after {0}",maxText:"The date in this field must be equal to or before {0}",invalidText:"{0} is not a valid date - it must be in the format {1}",triggerCls:a.baseCSSPrefix+"form-date-trigger",showToday:true,initTime:"12",initTimeFormat:"H",matchFieldWidth:false,startDay:0,initComponent:function(){var e=this,c=a.isString,d,b;d=e.minValue;b=e.maxValue;if(c(d)){e.minValue=e.parseDate(d)}if(c(b)){e.maxValue=e.parseDate(b)}e.disabledDatesRE=null;e.initDisabledDays();e.callParent()},initValue:function(){var b=this,c=b.value;if(a.isString(c)){b.value=b.rawToValue(c)}b.callParent()},initDisabledDays:function(){if(this.disabledDates){var c=this.disabledDates,b=c.length-1,d="(?:";a.each(c,function(f,e){d+=a.isDate(f)?"^"+a.String.escapeRegex(f.dateFormat(this.format))+"$":c[e];if(e!==b){d+="|"}},this);this.disabledDatesRE=new RegExp(d+")")}},setDisabledDates:function(b){var d=this,c=d.picker;d.disabledDates=b;d.initDisabledDays();if(c){c.setDisabledDates(d.disabledDatesRE)}},setDisabledDays:function(b){var c=this.picker;this.disabledDays=b;if(c){c.setDisabledDays(b)}},setMinValue:function(d){var c=this,b=c.picker,e=(a.isString(d)?c.parseDate(d):d);c.minValue=e;if(b){b.minText=a.String.format(c.minText,c.formatDate(c.minValue));b.setMinDate(e)}},setMaxValue:function(d){var c=this,b=c.picker,e=(a.isString(d)?c.parseDate(d):d);c.maxValue=e;if(b){b.maxText=a.String.format(c.maxText,c.formatDate(c.maxValue));b.setMaxDate(e)}},getErrors:function(r){var j=this,q=a.String.format,k=a.Date.clearTime,p=j.callParent(arguments),n=j.disabledDays,e=j.disabledDatesRE,m=j.minValue,h=j.maxValue,g=n?n.length:0,f=0,b,c,l,d;r=j.formatDate(r||j.processRawValue(j.getRawValue()));if(r===null||r.length<1){return p}b=r;r=j.parseDate(r);if(!r){p.push(q(j.invalidText,b,j.format));return p}d=r.getTime();if(m&&d<k(m).getTime()){p.push(q(j.minText,j.formatDate(m)))}if(h&&d>k(h).getTime()){p.push(q(j.maxText,j.formatDate(h)))}if(n){l=r.getDay();for(;f<g;f++){if(l===n[f]){p.push(j.disabledDaysText);break}}}c=j.formatDate(r);if(e&&e.test(c)){p.push(q(j.disabledDatesText,c))}return p},rawToValue:function(b){return this.parseDate(b)||b||null},valueToRaw:function(b){return this.formatDate(this.parseDate(b))},safeParse:function(f,g){var e=this,c=a.Date,d,b=null;if(c.formatContainsHourInfo(g)){b=c.parse(f,g)}else{d=c.parse(f+" "+e.initTime,g+" "+e.initTimeFormat);if(d){b=c.clearTime(d)}}return b},getSubmitValue:function(){var b=this,d=b.submitFormat||b.format,c=b.getValue();return c?a.Date.format(c,d):null},parseDate:function(f){if(!f||a.isDate(f)){return f}var e=this,h=e.safeParse(f,e.format),c=e.altFormats,g=e.altFormatsArray,d=0,b;if(!h&&c){g=g||c.split("|");b=g.length;for(;d<b&&!h;++d){h=e.safeParse(f,g[d])}}return h},formatDate:function(b){return a.isDate(b)?a.Date.dateFormat(b,this.format):b},createPicker:function(){var b=this,c=a.String.format;return a.create("Ext.picker.Date",{ownerCt:b.ownerCt,renderTo:document.body,floating:true,hidden:true,focusOnShow:true,minDate:b.minValue,maxDate:b.maxValue,disabledDatesRE:b.disabledDatesRE,disabledDatesText:b.disabledDatesText,disabledDays:b.disabledDays,disabledDaysText:b.disabledDaysText,format:b.format,showToday:b.showToday,startDay:b.startDay,minText:c(b.minText,b.formatDate(b.minValue)),maxText:c(b.maxText,b.formatDate(b.maxValue)),listeners:{scope:b,select:b.onSelect},keyNavConfig:{esc:function(){b.collapse()}}})},onSelect:function(b,e){var c=this;c.setValue(e);c.fireEvent("select",c,e);c.collapse()},onExpand:function(){var b=this,c=b.getValue();b.picker.setValue(a.isDate(c)?c:new Date())},onCollapse:function(){this.focus(false,60)},beforeBlur:function(){var d=this,b=d.parseDate(d.getRawValue()),c=d.focusTask;if(c){c.cancel()}if(b){d.setValue(b)}}});a.define("Ext.form.field.Display",{extend:"Ext.form.field.Base",alias:"widget.displayfield",requires:["Ext.util.Format","Ext.XTemplate"],alternateClassName:["Ext.form.DisplayField","Ext.form.Display"],fieldSubTpl:['<div id="{id}" class="{fieldCls}"></div>',{compiled:true,disableFormats:true}],fieldCls:a.baseCSSPrefix+"form-display-field",htmlEncode:false,validateOnChange:false,initEvents:a.emptyFn,submitValue:false,isValid:function(){return true},validate:function(){return true},getRawValue:function(){return this.rawValue},setRawValue:function(c){var b=this;c=a.value(c,"");b.rawValue=c;if(b.rendered){b.inputEl.dom.innerHTML=b.htmlEncode?a.util.Format.htmlEncode(c):c}return c},getContentTarget:function(){return this.inputEl}});a.define("Ext.form.field.File",{extend:"Ext.form.field.Text",alias:["widget.filefield","widget.fileuploadfield"],alternateClassName:["Ext.form.FileUploadField","Ext.ux.form.FileUploadField","Ext.form.File"],uses:["Ext.button.Button","Ext.layout.component.field.File"],buttonText:"Browse...",buttonOnly:false,buttonMargin:3,fieldBodyCls:a.baseCSSPrefix+"form-file-wrap",readOnly:true,componentLayout:"filefield",onRender:function(){var b=this,c;b.callParent(arguments);b.createButton();b.createFileInput();if(b.disabled){b.disableItems()}c=b.inputEl;c.dom.removeAttribute("name");if(b.buttonOnly){c.setDisplayed(false)}},createButton:function(){var b=this;b.button=a.widget("button",a.apply({renderTo:b.bodyEl,text:b.buttonText,cls:a.baseCSSPrefix+"form-file-btn",preventDefault:false,style:b.buttonOnly?"":"margin-left:"+b.buttonMargin+"px"},b.buttonConfig))},createFileInput:function(){var b=this;b.fileInputEl=b.button.el.createChild({name:b.getName(),cls:a.baseCSSPrefix+"form-file-input",tag:"input",type:"file",size:1}).on("change",b.onFileChange,b)},onFileChange:function(){this.lastValue=null;a.form.field.File.superclass.setValue.call(this,this.fileInputEl.dom.value)},setValue:a.emptyFn,reset:function(){this.fileInputEl.remove();this.createFileInput();this.callParent()},onDisable:function(){this.callParent();this.disableItems()},disableItems:function(){var c=this.fileInputEl,b=this.button;if(c){c.dom.disabled=true}if(b){b.disable()}},onEnable:function(){var b=this;b.callParent();b.fileInputEl.dom.disabled=false;b.button.enable()},isFileUpload:function(){return true},extractFileInput:function(){var b=this.fileInputEl.dom;this.reset();return b},onDestroy:function(){a.destroyMembers(this,"fileInputEl","button");this.callParent()}});a.define("Ext.form.field.Hidden",{extend:"Ext.form.field.Base",alias:["widget.hiddenfield","widget.hidden"],alternateClassName:"Ext.form.Hidden",inputType:"hidden",hideLabel:true,initComponent:function(){this.formItemCls+="-hidden";this.callParent()},initEvents:a.emptyFn,setSize:a.emptyFn,setWidth:a.emptyFn,setHeight:a.emptyFn,setPosition:a.emptyFn,setPagePosition:a.emptyFn,markInvalid:a.emptyFn,clearInvalid:a.emptyFn});a.define("Ext.picker.Color",{extend:"Ext.Component",requires:"Ext.XTemplate",alias:"widget.colorpicker",alternateClassName:"Ext.ColorPalette",componentCls:a.baseCSSPrefix+"color-picker",selectedCls:a.baseCSSPrefix+"color-picker-selected",value:null,clickEvent:"click",allowReselect:false,colors:["000000","993300","333300","003300","003366","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","969696","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFCC","CCFFFF","99CCFF","CC99FF","FFFFFF"],colorRe:/(?:^|\s)color-(.{6})(?:\s|$)/,constructor:function(){this.renderTpl=a.create("Ext.XTemplate",'<tpl for="colors"><a href="#" class="color-{.}" hidefocus="on"><em><span style="background:#{.}" unselectable="on">&#160;</span></em></a></tpl>');this.callParent(arguments)},initComponent:function(){var b=this;this.callParent(arguments);b.addEvents("select");if(b.handler){b.on("select",b.handler,b.scope,true)}},onRender:function(d,c){var e=this,b=e.clickEvent;a.apply(e.renderData,{itemCls:e.itemCls,colors:e.colors});this.callParent(arguments);e.mon(e.el,b,e.handleClick,e,{delegate:"a"});if(b!="click"){e.mon(e.el,"click",a.emptyFn,e,{delegate:"a",stopEvent:true})}},afterRender:function(){var b=this,c;this.callParent(arguments);if(b.value){c=b.value;b.value=null;b.select(c,true)}},handleClick:function(d,e){var c=this,b;d.stopEvent();if(!c.disabled){b=e.className.match(c.colorRe)[1];c.select(b.toUpperCase())}},select:function(c,b){var e=this,g=e.selectedCls,f=e.value,d;c=c.replace("#","");if(!e.rendered){e.value=c;return}if(c!=f||e.allowReselect){d=e.el;if(e.value){d.down("a.color-"+f).removeCls(g)}d.down("a.color-"+c).addCls(g);e.value=c;if(b!==true){e.fireEvent("select",e,c)}}},getValue:function(){return this.value||null}});a.define("Ext.layout.component.field.HtmlEditor",{extend:"Ext.layout.component.field.Field",alias:["layout.htmleditor"],type:"htmleditor",sizeBodyContents:function(b,i){var f=this,c=f.owner,j=c.bodyEl,g=c.getToolbar(),h=c.textareaEl,d=c.iframeEl,e;if(a.isNumber(b)){b-=j.getFrameWidth("lr")}g.setWidth(b);h.setWidth(b);d.setWidth(b);if(a.isNumber(i)){e=i-g.getHeight()-j.getFrameWidth("tb");h.setHeight(e);d.setHeight(e)}}});a.define("Ext.form.field.HtmlEditor",{extend:"Ext.Component",mixins:{labelable:"Ext.form.Labelable",field:"Ext.form.field.Field"},alias:"widget.htmleditor",alternateClassName:"Ext.form.HtmlEditor",requires:["Ext.tip.QuickTipManager","Ext.picker.Color","Ext.toolbar.Item","Ext.toolbar.Toolbar","Ext.util.Format","Ext.layout.component.field.HtmlEditor"],fieldSubTpl:['<div class="{toolbarWrapCls}"></div>','<textarea id="{id}" name="{name}" tabIndex="-1" class="{textareaCls}" ','style="{size}" autocomplete="off"></textarea>','<iframe name="{iframeName}" frameBorder="0" style="overflow:auto;{size}" src="{iframeSrc}"></iframe>',{compiled:true,disableFormats:true}],enableFormat:true,enableFontSize:true,enableColors:true,enableAlignments:true,enableLists:true,enableSourceEdit:true,enableLinks:true,enableFont:true,createLinkText:"Please enter the URL for the link:",defaultLinkValue:"http://",fontFamilies:["Arial","Courier New","Tahoma","Times New Roman","Verdana"],defaultFont:"tahoma",defaultValue:(a.isOpera||a.isIE6)?"&#160;":"&#8203;",fieldBodyCls:a.baseCSSPrefix+"html-editor-wrap",componentLayout:"htmleditor",initialized:false,activated:false,sourceEditMode:false,iframePad:3,hideMode:"offsets",maskOnDisable:true,initComponent:function(){var b=this;b.addEvents("initialize","activate","beforesync","beforepush","sync","push","editmodechange");b.callParent(arguments);b.initLabelable();b.initField()},createToolbar:function(f){var h=this,g=[],j=a.tip.QuickTipManager&&a.tip.QuickTipManager.isEnabled(),e=a.baseCSSPrefix,d,i,c;function b(m,k,l){return{itemId:m,cls:e+"btn-icon",iconCls:e+"edit-"+m,enableToggle:k!==false,scope:f,handler:l||f.relayBtnCmd,clickEvent:"mousedown",tooltip:j?f.buttonTips[m]||c:c,overflowText:f.buttonTips[m].title||c,tabIndex:-1}}if(h.enableFont&&!a.isSafari2){d=a.widget("component",{renderTpl:['<select class="{cls}">','<tpl for="fonts">','<option value="{[values.toLowerCase()]}" style="font-family:{.}"<tpl if="values.toLowerCase()==parent.defaultFont"> selected</tpl>>{.}</option>',"</tpl>","</select>"],renderData:{cls:e+"font-select",fonts:h.fontFamilies,defaultFont:h.defaultFont},renderSelectors:{selectEl:"select"},onDisable:function(){var k=this.selectEl;if(k){k.dom.disabled=true}a.Component.superclass.onDisable.apply(this,arguments)},onEnable:function(){var k=this.selectEl;if(k){k.dom.disabled=false}a.Component.superclass.onEnable.apply(this,arguments)}});g.push(d,"-")}if(h.enableFormat){g.push(b("bold"),b("italic"),b("underline"))}if(h.enableFontSize){g.push("-",b("increasefontsize",false,h.adjustFont),b("decreasefontsize",false,h.adjustFont))}if(h.enableColors){g.push("-",{itemId:"forecolor",cls:e+"btn-icon",iconCls:e+"edit-forecolor",overflowText:f.buttonTips.forecolor.title,tooltip:j?f.buttonTips.forecolor||c:c,tabIndex:-1,menu:a.widget("menu",{plain:true,items:[{xtype:"colorpicker",allowReselect:true,focus:a.emptyFn,value:"000000",plain:true,clickEvent:"mousedown",handler:function(l,k){h.execCmd("forecolor",a.isWebKit||a.isIE?"#"+k:k);h.deferFocus();this.up("menu").hide()}}]})},{itemId:"backcolor",cls:e+"btn-icon",iconCls:e+"edit-backcolor",overflowText:f.buttonTips.backcolor.title,tooltip:j?f.buttonTips.backcolor||c:c,tabIndex:-1,menu:a.widget("menu",{plain:true,items:[{xtype:"colorpicker",focus:a.emptyFn,value:"FFFFFF",plain:true,allowReselect:true,clickEvent:"mousedown",handler:function(l,k){if(a.isGecko){h.execCmd("useCSS",false);h.execCmd("hilitecolor",k);h.execCmd("useCSS",true);h.deferFocus()}else{h.execCmd(a.isOpera?"hilitecolor":"backcolor",a.isWebKit||a.isIE?"#"+k:k);h.deferFocus()}this.up("menu").hide()}}]})})}if(h.enableAlignments){g.push("-",b("justifyleft"),b("justifycenter"),b("justifyright"))}if(!a.isSafari2){if(h.enableLinks){g.push("-",b("createlink",false,h.createLink))}if(h.enableLists){g.push("-",b("insertorderedlist"),b("insertunorderedlist"))}if(h.enableSourceEdit){g.push("-",b("sourceedit",true,function(k){h.toggleSourceEdit(!h.sourceEditMode)}))}}i=a.widget("toolbar",{renderTo:h.toolbarWrap,enableOverflow:true,items:g});if(d){h.fontSelect=d.selectEl;h.mon(h.fontSelect,"change",function(){h.relayCmd("fontname",h.fontSelect.dom.value);h.deferFocus()})}h.mon(i.el,"click",function(k){k.preventDefault()});h.toolbar=i},onDisable:function(){this.bodyEl.mask();this.callParent(arguments)},onEnable:function(){this.bodyEl.unmask();this.callParent(arguments)},setReadOnly:function(f){var e=this,d=e.textareaEl,c=e.iframeEl,b;e.readOnly=f;if(d){d.dom.readOnly=f}if(e.initialized){b=e.getEditorBody();if(a.isIE){c.setDisplayed(false);b.contentEditable=!f;c.setDisplayed(true)}else{e.setDesignMode(!f)}if(b){b.style.cursor=f?"default":"text"}e.disableItems(f)}},getDocMarkup:function(){var c=this,b=c.iframeEl.getHeight()-c.iframePad*2;return a.String.format('<html><head><style type="text/css">body{border:0;margin:0;padding:{0}px;height:{1}px;cursor:text}</style></head><body></body></html>',c.iframePad,b)},getEditorBody:function(){var b=this.getDoc();return b.body||b.documentElement},getDoc:function(){return(!a.isIE&&this.iframeEl.dom.contentDocument)||this.getWin().document},getWin:function(){return a.isIE?this.iframeEl.dom.contentWindow:window.frames[this.iframeEl.dom.name]},onRender:function(){var c=this,b=c.renderSelectors;a.applyIf(b,c.getLabelableSelectors());a.applyIf(b,{toolbarWrap:"div."+a.baseCSSPrefix+"html-editor-tb",iframeEl:"iframe",textareaEl:"textarea"});c.callParent(arguments);c.textareaEl.dom.value=c.value||"";c.monitorTask=a.TaskManager.start({run:c.checkDesignMode,scope:c,interval:100});c.createToolbar(c);c.disableItems(true)},initRenderTpl:function(){var b=this;if(!b.hasOwnProperty("renderTpl")){b.renderTpl=b.getTpl("labelableRenderTpl")}return b.callParent()},initRenderData:function(){return a.applyIf(this.callParent(),this.getLabelableRenderData())},getSubTplData:function(){var b=a.baseCSSPrefix;return{toolbarWrapCls:b+"html-editor-tb",textareaCls:b+"hidden",iframeName:a.id(),iframeSrc:a.SSL_SECURE_URL,size:"height:100px;"}},getSubTplMarkup:function(){return this.getTpl("fieldSubTpl").apply(this.getSubTplData())},getBodyNaturalWidth:function(){return 565},initFrameDoc:function(){var c=this,d,b;a.TaskManager.stop(c.monitorTask);d=c.getDoc();c.win=c.getWin();d.open();d.write(c.getDocMarkup());d.close();b={run:function(){var e=c.getDoc();if(e.body||e.readyState==="complete"){a.TaskManager.stop(b);c.setDesignMode(true);a.defer(c.initEditor,10,c)}},interval:10,duration:10000,scope:c};a.TaskManager.start(b)},checkDesignMode:function(){var b=this,c=b.getDoc();if(c&&(!c.editorInitialized||b.getDesignMode()!=="on")){b.initFrameDoc()}},setDesignMode:function(d){var b=this,c=b.getDoc();if(c){if(b.readOnly){d=false}c.designMode=(/on|true/i).test(String(d).toLowerCase())?"on":"off"}},getDesignMode:function(){var b=this.getDoc();return !b?"":String(b.designMode).toLowerCase()},disableItems:function(b){this.getToolbar().items.each(function(c){if(c.getItemId()!=="sourceedit"){c.setDisabled(b)}})},toggleSourceEdit:function(c){var g=this,e=g.iframeEl,b=g.textareaEl,f=a.baseCSSPrefix+"hidden",d=g.getToolbar().getComponent("sourceedit");if(!a.isBoolean(c)){c=!g.sourceEditMode}g.sourceEditMode=c;if(d.pressed!==c){d.toggle(c)}if(c){g.disableItems(true);g.syncValue();e.addCls(f);b.removeCls(f);b.dom.removeAttribute("tabIndex");b.focus()}else{if(g.initialized){g.disableItems(g.readOnly)}g.pushValue();e.removeCls(f);b.addCls(f);b.dom.setAttribute("tabIndex",-1);g.deferFocus()}g.fireEvent("editmodechange",g,c);g.doComponentLayout()},createLink:function(){var b=prompt(this.createLinkText,this.defaultLinkValue);if(b&&b!=="http://"){this.relayCmd("createlink",b)}},clearInvalid:a.emptyFn,setValue:function(d){var c=this,b=c.textareaEl;c.mixins.field.setValue.call(c,d);if(d===null||d===undefined){d=""}if(b){b.dom.value=d}c.pushValue();return this},cleanHtml:function(b){b=String(b);if(a.isWebKit){b=b.replace(/\sclass="(?:Apple-style-span|khtml-block-placeholder)"/gi,"")}if(b.charCodeAt(0)===this.defaultValue.replace(/\D/g,"")){b=b.substring(1)}return b},syncValue:function(){var f=this,c,e,b,d;if(f.initialized){c=f.getEditorBody();e=c.innerHTML;if(a.isWebKit){b=c.getAttribute("style");d=b.match(/text-align:(.*?);/i);if(d&&d[1]){e='<div style="'+d[0]+'">'+e+"</div>"}}e=f.cleanHtml(e);if(f.fireEvent("beforesync",f,e)!==false){f.textareaEl.dom.value=e;f.fireEvent("sync",f,e)}}},getValue:function(){var b=this,c;if(!b.sourceEditMode){b.syncValue()}c=b.rendered?b.textareaEl.dom.value:b.value;b.value=c;return c},pushValue:function(){var c=this,b;if(c.initialized){b=c.textareaEl.dom.value||"";if(!c.activated&&b.length<1){b=c.defaultValue}if(c.fireEvent("beforepush",c,b)!==false){c.getEditorBody().innerHTML=b;if(a.isGecko){c.setDesignMode(false);c.setDesignMode(true)}c.fireEvent("push",c,b)}}},deferFocus:function(){this.focus(false,true)},getFocusEl:function(){var b=this,c=b.win;return c&&!b.sourceEditMode?c:b.textareaEl},initEditor:function(){try{var g=this,f=g.getEditorBody(),c=g.textareaEl.getStyles("font-size","font-family","background-image","background-repeat","background-color","color"),i,d;c["background-attachment"]="fixed";f.bgProperties="fixed";a.core.DomHelper.applyStyles(f,c);i=g.getDoc();if(i){try{a.EventManager.removeAll(i)}catch(h){}}d=a.Function.bind(g.onEditorEvent,g);a.EventManager.on(i,{mousedown:d,dblclick:d,click:d,keyup:d,buffer:100});d=g.onRelayedEvent;a.EventManager.on(i,{mousedown:d,mousemove:d,mouseup:d,click:d,dblclick:d,scope:g});if(a.isGecko){a.EventManager.on(i,"keypress",g.applyCommand,g)}if(g.fixKeys){a.EventManager.on(i,"keydown",g.fixKeys,g)}a.EventManager.on(window,"unload",g.beforeDestroy,g);i.editorInitialized=true;g.initialized=true;g.pushValue();g.setReadOnly(g.readOnly);g.fireEvent("initialize",g)}catch(b){}},beforeDestroy:function(){var b=this,f=b.monitorTask,d,g;if(f){a.TaskManager.stop(f)}if(b.rendered){try{d=b.getDoc();if(d){a.EventManager.removeAll(d);for(g in d){if(d.hasOwnProperty(g)){delete d[g]}}}}catch(c){}a.destroyMembers("tb","toolbarWrap","iframeEl","textareaEl")}b.callParent()},onRelayedEvent:function(d){var c=this.iframeEl,e=c.getXY(),b=d.getXY();d.xy=[e[0]+b[0],e[1]+b[1]];d.injectEvent(c);d.xy=b},onFirstFocus:function(){var d=this,c,b;d.activated=true;d.disableItems(d.readOnly);if(a.isGecko){d.win.focus();c=d.win.getSelection();if(!c.focusNode||c.focusNode.nodeType!==3){b=c.getRangeAt(0);b.selectNodeContents(d.getEditorBody());b.collapse(true);d.deferFocus()}try{d.execCmd("useCSS",true);d.execCmd("styleWithCSS",false)}catch(f){}}d.fireEvent("activate",d)},adjustFont:function(e){var f=e.getItemId()==="increasefontsize"?1:-1,d=this.getDoc().queryCommandValue("FontSize")||"2",b=a.isString(d)&&d.indexOf("px")!==-1,c;d=parseInt(d,10);if(b){if(d<=10){d=1+f}else{if(d<=13){d=2+f}else{if(d<=16){d=3+f}else{if(d<=18){d=4+f}else{if(d<=24){d=5+f}else{d=6+f}}}}}d=a.Number.constrain(d,1,6)}else{c=a.isSafari;if(c){f*=2}d=Math.max(1,d+f)+(c?"px":0)}this.execCmd("FontSize",d)},onEditorEvent:function(b){this.updateToolbar()},updateToolbar:function(){var f=this,e,g,b,d;if(f.readOnly){return}if(!f.activated){f.onFirstFocus();return}e=f.getToolbar().items.map;g=f.getDoc();if(f.enableFont&&!a.isSafari2){b=(g.queryCommandValue("FontName")||f.defaultFont).toLowerCase();d=f.fontSelect.dom;if(b!==d.value){d.value=b}}function c(){a.Array.forEach(a.Array.toArray(arguments),function(h){e[h].toggle(g.queryCommandState(h))})}if(f.enableFormat){c("bold","italic","underline")}if(f.enableAlignments){c("justifyleft","justifycenter","justifyright")}if(!a.isSafari2&&f.enableLists){c("insertorderedlist","insertunorderedlist")}a.menu.Manager.hideAll();f.syncValue()},relayBtnCmd:function(b){this.relayCmd(b.getItemId())},relayCmd:function(c,b){a.defer(function(){var d=this;d.focus();d.execCmd(c,b);d.updateToolbar()},10,this)},execCmd:function(e,d){var c=this,f=c.getDoc(),b;f.execCommand(e,false,d===b?null:d);c.syncValue()},applyCommand:function(f){if(f.ctrlKey){var b=this,g=f.getCharCode(),d;if(g>0){g=String.fromCharCode(g);switch(g){case"b":d="bold";break;case"i":d="italic";break;case"u":d="underline";break}if(d){b.win.focus();b.execCmd(d);b.deferFocus();f.preventDefault()}}}},insertAtCursor:function(d){var c=this,b;if(c.activated){c.win.focus();if(a.isIE){b=c.getDoc().selection.createRange();if(b){b.pasteHTML(d);c.syncValue();c.deferFocus()}}else{c.execCmd("InsertHTML",d);c.deferFocus()}}},fixKeys:function(){if(a.isIE){return function(h){var d=this,c=h.getKey(),g=d.getDoc(),b,f;if(c===h.TAB){h.stopEvent();b=g.selection.createRange();if(b){b.collapse(true);b.pasteHTML("&nbsp;&nbsp;&nbsp;&nbsp;");d.deferFocus()}}else{if(c===h.ENTER){b=g.selection.createRange();if(b){f=b.parentElement();if(!f||f.tagName.toLowerCase()!=="li"){h.stopEvent();b.pasteHTML("<br />");b.collapse(false);b.select()}}}}}}if(a.isOpera){return function(c){var b=this;if(c.getKey()===c.TAB){c.stopEvent();b.win.focus();b.execCmd("InsertHTML","&nbsp;&nbsp;&nbsp;&nbsp;");b.deferFocus()}}}if(a.isWebKit){return function(d){var c=this,b=d.getKey();if(b===d.TAB){d.stopEvent();c.execCmd("InsertText","\t");c.deferFocus()}else{if(b===d.ENTER){d.stopEvent();c.execCmd("InsertHtml","<br /><br />");c.deferFocus()}}}}return null}(),getToolbar:function(){return this.toolbar},buttonTips:{bold:{title:"Bold (Ctrl+B)",text:"Make the selected text bold.",cls:a.baseCSSPrefix+"html-editor-tip"},italic:{title:"Italic (Ctrl+I)",text:"Make the selected text italic.",cls:a.baseCSSPrefix+"html-editor-tip"},underline:{title:"Underline (Ctrl+U)",text:"Underline the selected text.",cls:a.baseCSSPrefix+"html-editor-tip"},increasefontsize:{title:"Grow Text",text:"Increase the font size.",cls:a.baseCSSPrefix+"html-editor-tip"},decreasefontsize:{title:"Shrink Text",text:"Decrease the font size.",cls:a.baseCSSPrefix+"html-editor-tip"},backcolor:{title:"Text Highlight Color",text:"Change the background color of the selected text.",cls:a.baseCSSPrefix+"html-editor-tip"},forecolor:{title:"Font Color",text:"Change the color of the selected text.",cls:a.baseCSSPrefix+"html-editor-tip"},justifyleft:{title:"Align Text Left",text:"Align text to the left.",cls:a.baseCSSPrefix+"html-editor-tip"},justifycenter:{title:"Center Text",text:"Center text in the editor.",cls:a.baseCSSPrefix+"html-editor-tip"},justifyright:{title:"Align Text Right",text:"Align text to the right.",cls:a.baseCSSPrefix+"html-editor-tip"},insertunorderedlist:{title:"Bullet List",text:"Start a bulleted list.",cls:a.baseCSSPrefix+"html-editor-tip"},insertorderedlist:{title:"Numbered List",text:"Start a numbered list.",cls:a.baseCSSPrefix+"html-editor-tip"},createlink:{title:"Hyperlink",text:"Make the selected text a hyperlink.",cls:a.baseCSSPrefix+"html-editor-tip"},sourceedit:{title:"Source Edit",text:"Switch to source editing mode.",cls:a.baseCSSPrefix+"html-editor-tip"}}});a.define("Ext.form.field.Radio",{extend:"Ext.form.field.Checkbox",alias:["widget.radiofield","widget.radio"],alternateClassName:"Ext.form.Radio",requires:["Ext.form.RadioManager"],isRadio:true,inputType:"radio",ariaRole:"radio",getGroupValue:function(){var b=this.getManager().getChecked(this.name);return b?b.inputValue:null},onBoxClick:function(c){var b=this;if(!b.disabled&&!b.readOnly){this.setValue(true)}},setValue:function(b){var c=this,d;if(a.isBoolean(b)){c.callParent(arguments)}else{d=c.getManager().getWithValue(c.name,b).getAt(0);if(d){d.setValue(true)}}return c},getSubmitValue:function(){return this.checked?this.inputValue:null},getModelData:function(){return this.getSubmitData()},onChange:function(c,b){var d=this;d.callParent(arguments);if(c){this.getManager().getByName(d.name).each(function(e){if(e!==d){e.setValue(false)}},d)}},beforeDestroy:function(){this.callParent();this.getManager().removeAtKey(this.id)},getManager:function(){return a.form.RadioManager}});a.define("Ext.picker.Time",{extend:"Ext.view.BoundList",alias:"widget.timepicker",requires:["Ext.data.Store","Ext.Date"],increment:15,format:"g:i A",displayField:"disp",initDate:[2008,1,1],componentCls:a.baseCSSPrefix+"timepicker",loadingText:"",initComponent:function(){var d=this,b=a.Date,c=b.clearTime,e=d.initDate.join("/");d.absMin=c(new Date(e));d.absMax=b.add(c(new Date(e)),"mi",(24*60)-1);d.store=d.createStore();d.updateList();this.callParent()},setMinValue:function(b){this.minValue=b;this.updateList()},setMaxValue:function(b){this.maxValue=b;this.updateList()},normalizeDate:function(b){var c=this.initDate;b.setFullYear(c[0],c[1]-1,c[2]);return b},updateList:function(){var d=this,c=d.normalizeDate(d.minValue||d.absMin),b=d.normalizeDate(d.maxValue||d.absMax);d.store.filterBy(function(e){var f=e.get("date");return f>=c&&f<=b})},createStore:function(){var e=this,d=a.Date,f=[],c=e.absMin,b=e.absMax;while(c<=b){f.push({disp:d.dateFormat(c,e.format),date:c});c=d.add(c,"mi",e.increment)}return a.create("Ext.data.Store",{fields:["disp","date"],data:f})}});a.define("Ext.form.field.Time",{extend:"Ext.form.field.Picker",alias:"widget.timefield",requires:["Ext.form.field.Date","Ext.picker.Time","Ext.view.BoundListKeyNav","Ext.Date"],alternateClassName:["Ext.form.TimeField","Ext.form.Time"],triggerCls:a.baseCSSPrefix+"form-time-trigger",minText:"The time in this field must be equal to or after {0}",maxText:"The time in this field must be equal to or before {0}",invalidText:"{0} is not a valid time",format:"g:i A",altFormats:"g:ia|g:iA|g:i a|g:i A|h:i|g:i|H:i|ga|ha|gA|h a|g a|g A|gi|hi|gia|hia|g|H|gi a|hi a|giA|hiA|gi A|hi A",increment:15,pickerMaxHeight:300,selectOnTab:true,initDate:"1/1/2008",initDateFormat:"j/n/Y",initComponent:function(){var d=this,c=d.minValue,b=d.maxValue;if(c){d.setMinValue(c)}if(b){d.setMaxValue(b)}this.callParent()},initValue:function(){var b=this,c=b.value;if(a.isString(c)){b.value=b.rawToValue(c)}b.callParent()},setMinValue:function(d){var c=this,b=c.picker;c.setLimit(d,true);if(b){b.setMinValue(c.minValue)}},setMaxValue:function(d){var c=this,b=c.picker;c.setLimit(d,false);if(b){b.setMaxValue(c.maxValue)}},setLimit:function(c,g){var b=this,f,e;if(a.isString(c)){f=b.parseDate(c)}else{if(a.isDate(c)){f=c}}if(f){e=a.Date.clearTime(new Date(b.initDate));e.setHours(f.getHours(),f.getMinutes(),f.getSeconds(),f.getMilliseconds());b[g?"minValue":"maxValue"]=e}},rawToValue:function(b){return this.parseDate(b)||b||null},valueToRaw:function(b){return this.formatDate(this.parseDate(b))},getErrors:function(e){var c=this,g=a.String.format,h=c.callParent(arguments),d=c.minValue,f=c.maxValue,b;e=c.formatDate(e||c.processRawValue(c.getRawValue()));if(e===null||e.length<1){return h}b=c.parseDate(e);if(!b){h.push(g(c.invalidText,e,c.format));return h}if(d&&b<d){h.push(g(c.minText,c.formatDate(d)))}if(f&&b>f){h.push(g(c.maxText,c.formatDate(f)))}return h},formatDate:function(){return a.form.field.Date.prototype.formatDate.apply(this,arguments)},parseDate:function(f){if(!f||a.isDate(f)){return f}var e=this,h=e.safeParse(f,e.format),c=e.altFormats,g=e.altFormatsArray,d=0,b;if(!h&&c){g=g||c.split("|");b=g.length;for(;d<b&&!h;++d){h=e.safeParse(f,g[d])}}return h},safeParse:function(f,g){var e=this,c=a.Date,d,b=null;if(c.formatContainsDateInfo(g)){b=c.parse(f,g)}else{d=c.parse(e.initDate+" "+f,e.initDateFormat+" "+g);if(d){b=d}}return b},getSubmitValue:function(){var b=this,d=b.submitFormat||b.format,c=b.getValue();return c?a.Date.format(c,d):null},createPicker:function(){var c=this,b=a.create("Ext.picker.Time",{selModel:{mode:"SINGLE"},floating:true,hidden:true,minValue:c.minValue,maxValue:c.maxValue,increment:c.increment,format:c.format,ownerCt:this.ownerCt,renderTo:document.body,maxHeight:c.pickerMaxHeight,focusOnToFront:false});c.mon(b.getSelectionModel(),{selectionchange:c.onListSelect,scope:c});return b},onExpand:function(){var e=this,b=e.pickerKeyNav,d=e.selectOnTab,c=e.getPicker(),f=c.getSelectionModel().lastSelected,g;if(!b){b=e.pickerKeyNav=a.create("Ext.view.BoundListKeyNav",this.inputEl,{boundList:c,forceKeyDown:true,tab:function(h){if(d){this.selectHighlighted(h);e.triggerBlur()}return true}});if(d){e.ignoreMonitorTab=true}}a.defer(b.enable,1,b);if(f){g=c.getNode(f);if(g){c.highlightItem(g);c.el.scrollChildIntoView(g,false)}}},onCollapse:function(){var c=this,b=c.pickerKeyNav;if(b){b.disable();c.ignoreMonitorTab=false}},onListSelect:function(d,f){var c=this,b=f[0],e=b?b.get("date"):null;c.setValue(e);c.fireEvent("select",c,e);c.picker.clearHighlight();c.collapse();c.inputEl.focus()}});a.define("Ext.grid.CellEditor",{extend:"Ext.Editor",constructor:function(b){if(b.field){b.field.monitorTab=false}b.autoSize={width:"boundEl"};this.callParent(arguments)},onShow:function(){var b=this.boundEl.first();if(b){b.hide()}this.callParent(arguments)},onHide:function(){var b=this.boundEl.first();if(b){b.show()}this.callParent(arguments)},afterRender:function(){this.callParent(arguments);var b=this.field;if(b.isXType("checkboxfield")){b.mon(b.inputEl,"mousedown",this.onCheckBoxMouseDown,this);b.mon(b.inputEl,"click",this.onCheckBoxClick,this)}},onCheckBoxMouseDown:function(){this.completeEdit=a.emptyFn},onCheckBoxClick:function(){delete this.completeEdit;this.field.focus(false,10)},alignment:"tl-tl",hideEl:false,cls:a.baseCSSPrefix+"small-editor "+a.baseCSSPrefix+"grid-editor",shim:false,shadow:false});a.define("Ext.grid.ColumnLayout",{extend:"Ext.layout.container.HBox",alias:"layout.gridcolumn",type:"column",clearInnerCtOnLayout:false,constructor:function(){var b=this;b.callParent(arguments);if(!a.isDefined(b.availableSpaceOffset)){b.availableSpaceOffset=(a.getScrollBarWidth()-2)}},beforeLayout:function(){var g=this,d=0,c=g.getLayoutItems(),b=c.length,f,e;e=g.callParent(arguments);g.innerCt.setHeight(23);if(g.align=="stretchmax"){for(;d<b;d++){f=c[d];f.el.setStyle({height:"auto"});f.titleContainer.setStyle({height:"auto",paddingTop:"0"});if(f.componentLayout&&f.componentLayout.lastComponentSize){f.componentLayout.lastComponentSize.height=f.el.dom.offsetHeight}}}return e},calculateChildBoxes:function(l,d){var j=this,c=j.callParent(arguments),g=c.boxes,b=c.meta,h=g.length,e=0,f,k;if(d.width&&!j.isColumn){if(j.owner.forceFit){for(;e<h;e++){f=g[e];k=f.component;k.minWidth=a.grid.plugin.HeaderResizer.prototype.minColWidth;k.flex=f.width}c=j.callParent(arguments)}else{if(b.tooNarrow){d.width=b.desiredSize}}}return c},afterLayout:function(){var e=this,d=0,c=e.getLayoutItems(),b=c.length;e.callParent(arguments);if(e.align=="stretchmax"){for(;d<b;d++){c[d].setPadding()}}},updateInnerCtSize:function(c,e){var d=this,b=0;if(!d.isColumn&&e.meta.tooNarrow){if(a.isWebKit||a.isGecko||(a.isIEQuirks&&(a.isIE6||a.isIE7||a.isIE8))){b=1}else{if(a.isIE6||a.isIE7||a.isIE8){b=2}}b++;c.width=e.meta.desiredSize+(d.reserveOffset?d.availableSpaceOffset:0)+b}return d.callParent(arguments)},doOwnerCtLayouts:function(){var b=this.owner.ownerCt;if(!b.componentLayout.layoutBusy){b.doComponentLayout()}}});a.define("Ext.grid.LockingView",{mixins:{observable:"Ext.util.Observable"},eventRelayRe:/^(beforeitem|beforecontainer|item|container|cell)/,constructor:function(d){var g=this,i=[],b=g.eventRelayRe,c=d.locked.getView(),h=d.normal.getView(),e,f;a.apply(g,{lockedView:c,normalView:h,lockedGrid:d.locked,normalGrid:d.normal,panel:d.panel});g.mixins.observable.constructor.call(g,d);e=c.events;for(f in e){if(e.hasOwnProperty(f)&&b.test(f)){i.push(f)}}g.relayEvents(c,i);g.relayEvents(h,i);h.on({scope:g,itemmouseleave:g.onItemMouseLeave,itemmouseenter:g.onItemMouseEnter});c.on({scope:g,itemmouseleave:g.onItemMouseLeave,itemmouseenter:g.onItemMouseEnter})},getGridColumns:function(){var b=this.lockedGrid.headerCt.getGridColumns();return b.concat(this.normalGrid.headerCt.getGridColumns())},onItemMouseEnter:function(d,c){var g=this,e=g.lockedView,b=g.normalView,f;if(d.trackOver){if(d!==e){b=e}f=b.getNode(c);b.highlightItem(f)}},onItemMouseLeave:function(d,c){var f=this,e=f.lockedView,b=f.normalView;if(d.trackOver){if(d!==e){b=e}b.clearHighlight()}},relayFn:function(d,c){c=c||[];var b=this.lockedView;b[d].apply(b,c||[]);b=this.normalView;b[d].apply(b,c||[])},getSelectionModel:function(){return this.panel.getSelectionModel()},getStore:function(){return this.panel.store},getNode:function(b){return this.normalView.getNode(b)},getCell:function(c,d){var b=this.lockedView,e;if(b.getHeaderAtIndex(d)===-1){b=this.normalView}e=b.getNode(c);return a.fly(e).down(d.getCellSelector())},getRecord:function(c){var b=this.lockedView.getRecord(c);if(!c){b=this.normalView.getRecord(c)}return b},addElListener:function(b,d,c){this.relayFn("addElListener",arguments)},refreshNode:function(){this.relayFn("refreshNode",arguments)},refresh:function(){this.relayFn("refresh",arguments)},bindStore:function(){this.relayFn("bindStore",arguments)},addRowCls:function(){this.relayFn("addRowCls",arguments)},removeRowCls:function(){this.relayFn("removeRowCls",arguments)}});a.define("Ext.grid.Lockable",{requires:["Ext.grid.LockingView"],syncRowHeight:true,spacerHidden:true,unlockText:"Unlock",lockText:"Lock",determineXTypeToCreate:function(){var d=this,g;if(d.subGridXType){g=d.subGridXType}else{var e=this.getXTypes().split("/"),c=e.length,f=e[c-1],b=e[c-2];if(b!=="tablepanel"){g=b}else{g=f}}return g},injectLockable:function(){this.lockable=true;this.hasView=true;var k=this,b=k.determineXTypeToCreate(),h=k.getSelectionModel(),c={xtype:b,enableAnimations:false,scroll:false,scrollerOwner:false,selModel:h,border:false,cls:a.baseCSSPrefix+"grid-inner-locked"},j={xtype:b,enableAnimations:false,scrollerOwner:false,selModel:h,border:false},f=0,e,d,g;k.addCls(a.baseCSSPrefix+"grid-locked");a.copyTo(j,k,k.normalCfgCopy);a.copyTo(c,k,k.lockedCfgCopy);for(;f<k.normalCfgCopy.length;f++){delete k[k.normalCfgCopy[f]]}for(f=0;f<k.lockedCfgCopy.length;f++){delete k[k.lockedCfgCopy[f]]}k.lockedHeights=[];k.normalHeights=[];e=k.processColumns(k.columns);c.width=e.lockedWidth;c.columns=e.locked;j.columns=e.normal;k.store=a.StoreManager.lookup(k.store);c.store=k.store;j.store=k.store;j.flex=1;c.viewConfig=k.lockedViewConfig||{};c.viewConfig.loadingUseMsg=false;j.viewConfig=k.normalViewConfig||{};a.applyIf(c.viewConfig,k.viewConfig);a.applyIf(j.viewConfig,k.viewConfig);k.normalGrid=a.ComponentManager.create(j);k.lockedGrid=a.ComponentManager.create(c);k.view=a.create("Ext.grid.LockingView",{locked:k.lockedGrid,normal:k.normalGrid,panel:k});if(k.syncRowHeight){k.lockedGrid.getView().on({refresh:k.onLockedGridAfterRefresh,itemupdate:k.onLockedGridAfterUpdate,scope:k});k.normalGrid.getView().on({refresh:k.onNormalGridAfterRefresh,itemupdate:k.onNormalGridAfterUpdate,scope:k})}d=k.lockedGrid.headerCt;g=k.normalGrid.headerCt;d.lockedCt=true;d.lockableInjected=true;g.lockableInjected=true;d.on({columnshow:k.onLockedHeaderShow,columnhide:k.onLockedHeaderHide,columnmove:k.onLockedHeaderMove,sortchange:k.onLockedHeaderSortChange,columnresize:k.onLockedHeaderResize,scope:k});g.on({columnmove:k.onNormalHeaderMove,sortchange:k.onNormalHeaderSortChange,scope:k});k.normalGrid.on({scrollershow:k.onScrollerShow,scrollerhide:k.onScrollerHide,scope:k});k.lockedGrid.on("afterlayout",k.onLockedGridAfterLayout,k,{single:true});k.modifyHeaderCt();k.items=[k.lockedGrid,k.normalGrid];k.layout={type:"hbox",align:"stretch"}},processColumns:function(g){var f=0,b=g.length,c=0,e=[],d=[],h;for(;f<b;++f){h=g[f];h.processed=true;if(h.locked){c+=h.width;e.push(h)}else{d.push(h)}}return{lockedWidth:c,locked:e,normal:d}},onLockedGridAfterLayout:function(){var c=this,b=c.lockedGrid.getView();b.on({refresh:c.createSpacer,beforerefresh:c.destroySpacer,scope:c})},onLockedHeaderMove:function(){if(this.syncRowHeight){this.onNormalGridAfterRefresh()}},onNormalHeaderMove:function(){if(this.syncRowHeight){this.onLockedGridAfterRefresh()}},createSpacer:function(){var e=this,c=a.getScrollBarWidth()+(a.isIE?2:0),b=e.lockedGrid.getView(),d=b.el;e.spacerEl=a.core.DomHelper.append(d,{cls:e.spacerHidden?(a.baseCSSPrefix+"hidden"):"",style:"height: "+c+"px;"},true)},destroySpacer:function(){var b=this;if(b.spacerEl){b.spacerEl.destroy();delete b.spacerEl}},onLockedGridAfterRefresh:function(){var f=this,b=f.lockedGrid.getView(),d=b.el,g=d.query(b.getItemSelector()),e=g.length,c=0;f.lockedHeights=[];for(;c<e;c++){f.lockedHeights[c]=g[c].clientHeight}f.syncRowHeights()},onNormalGridAfterRefresh:function(){var f=this,b=f.normalGrid.getView(),d=b.el,g=d.query(b.getItemSelector()),e=g.length,c=0;f.normalHeights=[];for(;c<e;c++){f.normalHeights[c]=g[c].clientHeight}f.syncRowHeights()},onLockedGridAfterUpdate:function(b,c,d){this.lockedHeights[c]=d.clientHeight;this.syncRowHeights()},onNormalGridAfterUpdate:function(b,c,d){this.normalHeights[c]=d.clientHeight;this.syncRowHeights()},syncRowHeights:function(){var l=this,c=l.lockedHeights,m=l.normalHeights,b=[],k=c.length,h=0,n,e,f,j,g=l.getVerticalScroller(),d;if(c.length&&m.length){n=l.lockedGrid.getView();e=l.normalGrid.getView();f=n.el.query(n.getItemSelector());j=e.el.query(e.getItemSelector());for(;h<k;h++){if(!isNaN(c[h])&&!isNaN(m[h])){if(c[h]>m[h]){a.fly(j[h]).setHeight(c[h])}else{if(c[h]<m[h]){a.fly(f[h]).setHeight(m[h])}}}}l.normalGrid.invalidateScroller();if(g&&g.setViewScrollTop){g.setViewScrollTop(l.virtualScrollTop)}else{d=e.el.dom.scrollTop;e.el.dom.scrollTop=d;n.el.dom.scrollTop=d}l.lockedHeights=[];l.normalHeights=[]}},onScrollerShow:function(b,c){if(c==="horizontal"){this.spacerHidden=false;this.spacerEl.removeCls(a.baseCSSPrefix+"hidden")}},onScrollerHide:function(b,c){if(c==="horizontal"){this.spacerHidden=true;this.spacerEl.addCls(a.baseCSSPrefix+"hidden")}},modifyHeaderCt:function(){var b=this;b.lockedGrid.headerCt.getMenuItems=b.getMenuItems(true);b.normalGrid.headerCt.getMenuItems=b.getMenuItems(false)},onUnlockMenuClick:function(){this.unlock()},onLockMenuClick:function(){this.lock()},getMenuItems:function(c){var g=this,h=g.unlockText,i=g.lockText,d="xg-hmenu-unlock",f="xg-hmenu-lock",b=a.Function.bind(g.onUnlockMenuClick,g),e=a.Function.bind(g.onLockMenuClick,g);return function(){var j=a.grid.header.Container.prototype.getMenuItems.call(this);j.push("-",{cls:d,text:h,handler:b,disabled:!c});j.push({cls:f,text:i,handler:e,disabled:c});return j}},lock:function(b,e){var d=this,f=d.normalGrid,h=d.lockedGrid,g=f.headerCt,c=h.headerCt;b=b||g.getMenu().activeHeader;if(b.flex){b.width=b.getWidth();delete b.flex}g.remove(b,false);c.suspendLayout=true;if(a.isDefined(e)){c.insert(e,b)}else{c.add(b)}c.suspendLayout=false;d.syncLockedSection()},syncLockedSection:function(){var b=this;b.syncLockedWidth();b.lockedGrid.getView().refresh();b.normalGrid.getView().refresh()},syncLockedWidth:function(){var c=this,b=c.lockedGrid.headerCt.getFullWidth(true);c.lockedGrid.setWidth(b)},onLockedHeaderResize:function(){this.syncLockedWidth()},onLockedHeaderHide:function(){this.syncLockedWidth()},onLockedHeaderShow:function(){this.syncLockedWidth()},onLockedHeaderSortChange:function(c,d,b){if(b){this.normalGrid.headerCt.clearOtherSortStates(null,true)}},onNormalHeaderSortChange:function(c,d,b){if(b){this.lockedGrid.headerCt.clearOtherSortStates(null,true)}},unlock:function(b,e){var d=this,f=d.normalGrid,h=d.lockedGrid,g=f.headerCt,c=h.headerCt;if(!a.isDefined(e)){e=0}b=b||c.getMenu().activeHeader;c.remove(b,false);d.syncLockedWidth();d.lockedGrid.getView().refresh();g.insert(e,b);d.normalGrid.getView().refresh()},reconfigureLockable:function(b,c){var d=this,f=d.lockedGrid,e=d.normalGrid;if(c){f.headerCt.removeAll();e.headerCt.removeAll();c=d.processColumns(c);f.setWidth(c.lockedWidth);f.headerCt.add(c.locked);e.headerCt.add(c.normal)}if(b){b=a.data.StoreManager.lookup(b);d.store=b;f.bindStore(b);e.bindStore(b)}else{f.getView().refresh();e.getView().refresh()}}});a.define("Ext.grid.Scroller",{extend:"Ext.Component",alias:"widget.gridscroller",weight:110,cls:a.baseCSSPrefix+"scroller",focusable:false,renderTpl:['<div class="'+a.baseCSSPrefix+'stretcher"></div>'],initComponent:function(){var e=this,d=e.dock,b=a.baseCSSPrefix+"scroller-vertical",f="width",c=a.getScrollBarWidth()+(a.isIE?1:-1);e.offsets={bottom:0};if(d==="top"||d==="bottom"){b=a.baseCSSPrefix+"scroller-horizontal";f="height"}e[f]=c;e.cls+=(" "+b);a.applyIf(e.renderSelectors,{stretchEl:"."+a.baseCSSPrefix+"stretcher"});e.callParent()},afterRender:function(){var b=this;b.callParent();b.ownerCt.on("afterlayout",b.onOwnerAfterLayout,b);b.mon(b.el,"scroll",b.onElScroll,b);a.cache[b.el.id].skipGarbageCollection=true},getSizeCalculation:function(){var d=this.getPanel(),j=this.dock,f=this.el.dom,c=1,i=1,h,e;if(j==="top"||j==="bottom"){var g=d.query("tableview"),b=g[1]||g[0];if(!b){return false}c=b.headerCt.getFullWidth();if(a.isIEQuirks){c--}c--}else{h=d.down("tableview:not([lockableInjected])");if(!h){return false}e=h.el;if(!e){return false}i=e.dom.scrollHeight}if(isNaN(c)){c=1}if(isNaN(i)){i=1}return{width:c,height:i}},invalidate:function(d){if(!this.stretchEl||!this.ownerCt){return}var c=this.getSizeCalculation(),b=this.el.dom;if(c){this.stretchEl.setSize(c);b.scrollTop=b.scrollTop}},onOwnerAfterLayout:function(b,c){this.invalidate()},setScrollTop:function(c){if(this.el){var b=this.el.dom;return b.scrollTop=a.Number.constrain(c,0,b.scrollHeight-b.clientHeight)}},setScrollLeft:function(c){if(this.el){var b=this.el.dom;return b.scrollLeft=a.Number.constrain(c,0,b.scrollWidth-b.clientWidth)}},scrollByDeltaY:function(c){if(this.el){var b=this.el.dom;return this.setScrollTop(b.scrollTop+c)}},scrollByDeltaX:function(c){if(this.el){var b=this.el.dom;return this.setScrollLeft(b.scrollLeft+c)}},scrollToTop:function(){this.setScrollTop(0)},onElScroll:function(b,c){this.fireEvent("bodyscroll",b,c)},getPanel:function(){var b=this;if(!b.panel){b.panel=this.up("[scrollerOwner]")}return b.panel}});a.define("Ext.grid.PagingScroller",{extend:"Ext.grid.Scroller",alias:"widget.paginggridscroller",percentageFromEdge:0.35,scrollToLoadBuffer:200,activePrefetch:true,chunkSize:50,snapIncrement:25,syncScroll:true,initComponent:function(){var b=this,c=b.store;c.on("guaranteedrange",this.onGuaranteedRange,this);this.callParent(arguments)},onGuaranteedRange:function(d,g,b){var e=this,f=e.store,c;if(d.length&&e.visibleStart<d[0].index){return}f.loadRecords(d);if(!e.firstLoad){if(e.rendered){e.invalidate()}else{e.on("afterrender",this.invalidate,this,{single:true})}e.firstLoad=true}else{e.syncTo()}},syncTo:function(){var i=this,c=i.getPanel(),j=c.store,h=this.el.dom,e=i.visibleStart-j.guaranteedStart,d=e*i.rowHeight,k=h.scrollHeight,f=h.clientHeight,b=h.scrollTop,g;if(a.isIE9&&a.isStrict){f=h.offsetHeight+2}g=(k-f-b<=0);this.setViewScrollTop(d,g)},getPageData:function(){var c=this.getPanel(),d=c.store,b=d.getTotalCount();return{total:b,currentPage:d.currentPage,pageCount:Math.ceil(b/d.pageSize),fromRecord:((d.currentPage-1)*d.pageSize)+1,toRecord:Math.min(d.currentPage*d.pageSize,b)}},onElScroll:function(x,m){var z=this,k=z.getPanel(),h=k.store,y=h.pageSize,d=h.guaranteedStart,v=h.guaranteedEnd,u=h.getTotalCount(),j=Math.ceil(z.percentageFromEdge*h.pageSize),A=m.scrollTop,g=Math.floor(A/z.rowHeight),l=k.down("tableview"),i=l.el,n=i.getHeight(),c=Math.ceil(n/z.rowHeight),b=g+c,f=Math.floor(g/h.pageSize),r=Math.floor(b/h.pageSize)+2,w=Math.ceil(u/h.pageSize),s=Math.floor(g/z.snapIncrement)*z.snapIncrement,p=s+y-1,q=z.activePrefetch;z.visibleStart=g;z.visibleEnd=b;z.syncScroll=true;if(u>=y){if(p>u-1){this.cancelLoad();if(h.rangeSatisfied(u-y,u-1)){z.syncScroll=true}h.guaranteeRange(u-y,u-1)}else{if(g<d||b>v){if(h.rangeSatisfied(s,p)){this.cancelLoad();h.guaranteeRange(s,p)}else{h.mask();z.attemptLoad(s,p)}z.syncScroll=false}else{if(q&&g<(d+j)&&f>0){z.syncScroll=true;h.prefetchPage(f)}else{if(q&&b>(v-j)&&r<w){z.syncScroll=true;h.prefetchPage(r)}}}}}if(z.syncScroll){z.syncTo()}},getSizeCalculation:function(){var c=this.ownerCt,e=c.getView(),f=this.store,h=this.dock,d=this.el.dom,g=1,b=1;if(!this.rowHeight){this.rowHeight=e.el.down(e.getItemSelector()).getHeight(false,true)}b=f.getTotalCount()*this.rowHeight;if(isNaN(g)){g=1}if(isNaN(b)){b=1}return{width:g,height:b}},attemptLoad:function(d,b){var c=this;if(!c.loadTask){c.loadTask=a.create("Ext.util.DelayedTask",c.doAttemptLoad,c,[])}c.loadTask.delay(c.scrollToLoadBuffer,c.doAttemptLoad,c,[d,b])},cancelLoad:function(){if(this.loadTask){this.loadTask.cancel()}},doAttemptLoad:function(d,b){var c=this.getPanel().store;c.guaranteeRange(d,b)},setViewScrollTop:function(d,e){var c=this.getPanel(),m=c.query("tableview"),g=0,j=m.length,b,f,h,l,k=this.el.dom;c.virtualScrollTop=d;b=m[1]||m[0];f=b.el.dom;l=((c.store.pageSize*this.rowHeight)-f.clientHeight);h=(d%((c.store.pageSize*this.rowHeight)+1));if(e){h=l}if(h>l){return}for(;g<j;g++){m[g].el.dom.scrollTop=h}}});a.define("Ext.panel.Table",{extend:"Ext.panel.Panel",alias:"widget.tablepanel",uses:["Ext.selection.RowModel","Ext.grid.Scroller","Ext.grid.header.Container","Ext.grid.Lockable"],cls:a.baseCSSPrefix+"grid",extraBodyCls:a.baseCSSPrefix+"grid-body",layout:"fit",hasView:false,viewType:null,selType:"rowmodel",scrollDelta:40,scroll:true,sortableColumns:true,verticalScrollDock:"right",verticalScrollerType:"gridscroller",horizontalScrollerPresentCls:a.baseCSSPrefix+"horizontal-scroller-present",verticalScrollerPresentCls:a.baseCSSPrefix+"vertical-scroller-present",scrollerOwner:true,invalidateScrollerOnRefresh:true,enableColumnMove:true,enableColumnResize:true,initComponent:function(){var h=this,b=h.scroll,e=false,d=false,j=h.columns||h.colModel,g=0,c,f=h.border;h.determineScrollbars=a.Function.createBuffered(h.determineScrollbars,30);h.invalidateScroller=a.Function.createBuffered(h.invalidateScroller,30);h.injectView=a.Function.createBuffered(h.injectView,30);if(h.hideHeaders){f=false}if(j instanceof a.grid.header.Container){h.headerCt=j;h.headerCt.border=f;h.columns=h.headerCt.items.items}else{if(a.isArray(j)){j={items:j,border:f}}a.apply(j,{forceFit:h.forceFit,sortable:h.sortableColumns,enableColumnMove:h.enableColumnMove,enableColumnResize:h.enableColumnResize,border:f});h.columns=j.items;if(a.ComponentQuery.query("{locked !== undefined}{processed != true}",h.columns).length){h.self.mixin("lockable",a.grid.Lockable);h.injectLockable()}}h.store=a.data.StoreManager.lookup(h.store);h.addEvents("scrollerhide","scrollershow");h.bodyCls=h.bodyCls||"";h.bodyCls+=(" "+h.extraBodyCls);delete h.autoScroll;if(!h.hasView){if(!h.headerCt){h.headerCt=a.create("Ext.grid.header.Container",j)}h.columns=h.headerCt.items.items;if(h.hideHeaders){h.headerCt.height=0;h.headerCt.border=false;h.headerCt.addCls(a.baseCSSPrefix+"grid-header-ct-hidden");h.addCls(a.baseCSSPrefix+"grid-header-hidden");if(a.isIEQuirks){h.headerCt.style={display:"none"}}}if(b===true||b==="both"){e=d=true}else{if(b==="horizontal"){d=true}else{if(b==="vertical"){e=true}else{h.headerCt.availableSpaceOffset=0}}}if(e){h.verticalScroller=h.verticalScroller||{};a.applyIf(h.verticalScroller,{dock:h.verticalScrollDock,xtype:h.verticalScrollerType,store:h.store});h.verticalScroller=a.ComponentManager.create(h.verticalScroller);h.mon(h.verticalScroller,{bodyscroll:h.onVerticalScroll,scope:h})}if(d){h.horizontalScroller=a.ComponentManager.create({xtype:"gridscroller",section:h,dock:"bottom",store:h.store});h.mon(h.horizontalScroller,{bodyscroll:h.onHorizontalScroll,scope:h})}h.headerCt.on("columnresize",h.onHeaderResize,h);h.relayEvents(h.headerCt,["columnresize","columnmove","columnhide","columnshow","sortchange"]);h.features=h.features||[];h.dockedItems=h.dockedItems||[];h.dockedItems.unshift(h.headerCt);h.viewConfig=h.viewConfig||{};h.viewConfig.invalidateScrollerOnRefresh=h.invalidateScrollerOnRefresh;c=h.getView();if(c){h.mon(c.store,{load:h.onStoreLoad,scope:h});h.mon(c,{refresh:{fn:this.onViewRefresh,scope:h,buffer:50},itemupdate:h.onViewItemUpdate,scope:h});this.relayEvents(c,["beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","itemmousedown","itemmouseup","itemmouseenter","itemmouseleave","itemclick","itemdblclick","itemcontextmenu","beforecontainermousedown","beforecontainermouseup","beforecontainermouseover","beforecontainermouseout","beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","containermouseup","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","selectionchange","beforeselect"])}}h.callParent(arguments)},initStateEvents:function(){var b=this.stateEvents;a.each(["columnresize","columnmove","columnhide","columnshow","sortchange"],function(c){if(a.Array.indexOf(b,c)){b.push(c)}});this.callParent()},getState:function(){var b={columns:[]},c=this.store.sorters.first();this.headerCt.items.each(function(d){b.columns.push({id:d.headerId,width:d.flex?undefined:d.width,hidden:d.hidden,sortable:d.sortable})});if(c){b.sort={property:c.property,direction:c.direction}}return b},applyState:function(b){var d=b.columns,c=d?d.length:0,e=this.headerCt,j=e.items,m=b.sort,k=this.store,f=0,h,l,g;for(;f<c;++f){l=d[f];g=e.down("gridcolumn[headerId="+l.id+"]");h=j.indexOf(g);if(f!==h){e.moveHeader(h,f)}g.sortable=l.sortable;if(a.isDefined(l.width)){delete g.flex;if(g.rendered){g.setWidth(l.width)}else{g.minWidth=g.width=l.width}}g.hidden=l.hidden}if(m){if(k.remoteSort){k.sorters.add(a.create("Ext.util.Sorter",{property:m.property,direction:m.direction}))}else{k.sort(m.property,m.direction)}}},getStore:function(){return this.store},getView:function(){var b=this,c;if(!b.view){c=b.getSelectionModel();b.view=b.createComponent(a.apply({},b.viewConfig,{xtype:b.viewType,store:b.store,headerCt:b.headerCt,selModel:c,features:b.features,panel:b}));b.mon(b.view,{uievent:b.processEvent,scope:b});c.view=b.view;b.headerCt.view=b.view;b.relayEvents(b.view,["cellclick","celldblclick"])}return b.view},setAutoScroll:a.emptyFn,elScroll:function(e,f,c){var d=this,b;if(e==="up"||e==="left"){f=-f}if(e==="down"||e==="up"){b=d.getVerticalScroller();b.scrollByDeltaY(f)}else{b=d.getHorizontalScroller();b.scrollByDeltaX(f)}},afterLayout:function(){this.callParent(arguments);this.injectView()},injectView:function(){if(!this.hasView&&!this.collapsed){var c=this,b=c.getView();c.hasView=true;c.add(b);b.el.scroll=a.Function.bind(c.elScroll,c);c.mon(b.el,{mousewheel:c.onMouseWheel,scope:c})}},afterExpand:function(){this.callParent(arguments);if(!this.hasView){this.injectView()}},processEvent:function(g,c,b,d,f,i){var h=this,j;if(f!==-1){j=h.headerCt.getGridColumns()[f];return j.processEvent.apply(j,arguments)}},determineScrollbars:function(){var f=this,c,b,g,e,d;if(!f.collapsed&&f.view&&f.view.el){c=f.view.el.dom;b=f.headerCt.getFullWidth();g=c.offsetWidth;if(f.verticalScroller&&f.verticalScroller.el){e=f.verticalScroller.getSizeCalculation().height}else{e=c.scrollHeight}d=c.clientHeight;f.suspendLayout=true;f.scrollbarChanged=false;if(!f.collapsed&&e>d){f.showVerticalScroller()}else{f.hideVerticalScroller()}if(!f.collapsed&&b>(g+a.getScrollBarWidth()-2)){f.showHorizontalScroller()}else{f.hideHorizontalScroller()}f.suspendLayout=false;if(f.scrollbarChanged){f.doComponentLayout()}}},onHeaderResize:function(){if(this.view&&this.view.rendered){this.determineScrollbars();this.invalidateScroller()}},hideHorizontalScroller:function(){var b=this;if(b.horizontalScroller&&b.horizontalScroller.ownerCt===b){b.scrollbarChanged=true;b.verticalScroller.offsets.bottom=0;b.removeDocked(b.horizontalScroller,false);b.removeCls(b.horizontalScrollerPresentCls);b.fireEvent("scrollerhide",b.horizontalScroller,"horizontal")}},showHorizontalScroller:function(){var b=this;if(b.verticalScroller){b.verticalScroller.offsets.bottom=a.getScrollBarWidth()-2}if(b.horizontalScroller&&b.horizontalScroller.ownerCt!==b){b.scrollbarChanged=true;b.addDocked(b.horizontalScroller);b.addCls(b.horizontalScrollerPresentCls);b.fireEvent("scrollershow",b.horizontalScroller,"horizontal")}},hideVerticalScroller:function(){var b=this,c=b.headerCt;if(c&&c.layout.reserveOffset){c.layout.reserveOffset=false;c.doLayout()}if(b.verticalScroller&&b.verticalScroller.ownerCt===b){b.scrollbarChanged=true;b.removeDocked(b.verticalScroller,false);b.removeCls(b.verticalScrollerPresentCls);b.fireEvent("scrollerhide",b.verticalScroller,"vertical")}},showVerticalScroller:function(){var b=this,c=b.headerCt;if(c&&!c.layout.reserveOffset){c.layout.reserveOffset=true;c.doLayout()}if(b.verticalScroller&&b.verticalScroller.ownerCt!==b){b.scrollbarChanged=true;b.addDocked(b.verticalScroller);b.addCls(b.verticalScrollerPresentCls);b.fireEvent("scrollershow",b.verticalScroller,"vertical")}},invalidateScroller:function(){var c=this,b=c.verticalScroller,d=c.horizontalScroller;if(b){b.invalidate()}if(d){d.invalidate()}},onHeaderMove:function(d,e,b,c){this.view.refresh()},onHeaderHide:function(b,c){this.invalidateScroller()},onHeaderShow:function(b,c){this.invalidateScroller()},getVerticalScroller:function(){return this.getScrollerOwner().down("gridscroller[dock="+this.verticalScrollDock+"]")},getHorizontalScroller:function(){return this.getScrollerOwner().down("gridscroller[dock=bottom]")},onMouseWheel:function(m){var n=this,r=m.browserEvent,j=n.getVerticalScroller(),p=n.getHorizontalScroller(),c=n.scrollDelta,g,h,l,q,b,s,d,i,k,f;if(p){q=p.el;if(q){s=q.dom;i=s.scrollLeft!==s.scrollWidth-s.clientWidth;d=s.scrollLeft!==0}}if(j){l=j.el;if(l){b=l.dom;k=b.scrollTop!==b.scrollHeight-b.clientHeight;f=b.scrollTop!==0}}if(r.wheelDeltaX||r.wheelDeltaY){h=-r.wheelDeltaX/120*c/3;g=-r.wheelDeltaY/120*c/3}else{if(r.axis&&r.axis===1){h=-(c*m.getWheelDelta())/3}else{g=-(c*m.getWheelDelta()/3)}}if(p){if((h<0&&d)||(h>0&&i)){m.stopEvent();p.scrollByDeltaX(h)}}if(j){if((g<0&&f)||(g>0&&k)){m.stopEvent();j.scrollByDeltaY(g)}}},onViewRefresh:function(){if(a.isIE){this.syncCellHeight()}this.determineScrollbars();if(this.invalidateScrollerOnRefresh){this.invalidateScroller()}},onViewItemUpdate:function(b,c,d){if(a.isIE){this.syncCellHeight([d])}},syncCellHeight:function(h){var n=this,g=0,f,e,k,m,d,p,l=[],b,c=("."+a.baseCSSPrefix+"grid-cell");h=h||n.view.getNodes();p=h.length;for(;g<p;g++){m=h[g];f=a.fly(m).query(c);k=f.length;b=[];for(e=0;e<k;e++){d=f[e];b.push(d.clientHeight)}l.push(a.Array.max(b))}for(g=0;g<p;g++){m=h[g];k=m.childNodes.length;for(e=0;e<k;e++){d=a.fly(m.childNodes[e]);if(l[g]){if(d.is(c)){d.setHeight(l[g])}else{d.down(c).setHeight(l[g])}}}}},setScrollTop:function(e){var d=this,c=d.getScrollerOwner(),b=d.getVerticalScroller();c.virtualScrollTop=e;if(b){b.setScrollTop(e)}},getScrollerOwner:function(){var b=this;if(!this.scrollerOwner){b=this.up("[scrollerOwner]")}return b},scrollByDeltaY:function(b){var d=this.getScrollerOwner(),c;c=d.down("gridscroller[dock="+this.verticalScrollDock+"]");if(c){c.scrollByDeltaY(b)}},scrollByDeltaX:function(b){this.horizontalScroller.scrollByDeltaX(b)},getLhsMarker:function(){var b=this;if(!b.lhsMarker){b.lhsMarker=a.core.DomHelper.append(b.el,{cls:a.baseCSSPrefix+"grid-resize-marker"},true)}return b.lhsMarker},getRhsMarker:function(){var b=this;if(!b.rhsMarker){b.rhsMarker=a.core.DomHelper.append(b.el,{cls:a.baseCSSPrefix+"grid-resize-marker"},true)}return b.rhsMarker},getSelectionModel:function(){if(!this.selModel){this.selModel={}}var c="SINGLE",b;if(this.simpleSelect){c="SIMPLE"}else{if(this.multiSelect){c="MULTI"}}a.applyIf(this.selModel,{allowDeselect:this.allowDeselect,mode:c});if(!this.selModel.events){b=this.selModel.selType||this.selType;this.selModel=a.create("selection."+b,this.selModel)}if(!this.selModel.hasRelaySetup){this.relayEvents(this.selModel,["selectionchange","select","deselect"]);this.selModel.hasRelaySetup=true}if(this.disableSelection){this.selModel.locked=true}return this.selModel},onVerticalScroll:function(f,g){var c=this.getScrollerOwner(),d=c.query("tableview"),e=0,b=d.length;for(;e<b;e++){d[e].el.dom.scrollTop=g.scrollTop}},onHorizontalScroll:function(c,k){var e=this.getScrollerOwner(),l=e.query("tableview"),g=0,j=l.length,b,f,h,m,d;b=l[1]||l[0];f=b.el.dom;h=f.scrollWidth;m=f.offsetWidth;d=this.horizontalScroller.getWidth();f.scrollLeft=k.scrollLeft;this.headerCt.el.dom.scrollLeft=k.scrollLeft},onStoreLoad:a.emptyFn,getEditorParent:function(){return this.body},bindStore:function(b){var c=this;c.store=b;c.getView().bindStore(b)},reconfigure:function(b,c){var d=this;if(d.lockable){d.reconfigureLockable(b,c);return}if(c){d.headerCt.removeAll();d.headerCt.add(c)}if(b){b=a.StoreManager.lookup(b);d.bindStore(b)}else{d.getView().refresh()}},afterComponentLayout:function(){var b=this;b.callParent(arguments);b.determineScrollbars();b.invalidateScroller()}});a.define("Ext.view.Table",{extend:"Ext.view.View",alias:"widget.tableview",uses:["Ext.view.TableChunker","Ext.util.DelayedTask","Ext.util.MixedCollection"],cls:a.baseCSSPrefix+"grid-view",itemSelector:"."+a.baseCSSPrefix+"grid-row",cellSelector:"."+a.baseCSSPrefix+"grid-cell",selectedItemCls:a.baseCSSPrefix+"grid-row-selected",selectedCellCls:a.baseCSSPrefix+"grid-cell-selected",focusedItemCls:a.baseCSSPrefix+"grid-row-focused",overItemCls:a.baseCSSPrefix+"grid-row-over",altRowCls:a.baseCSSPrefix+"grid-row-alt",rowClsRe:/(?:^|\s*)grid-row-(first|last|alt)(?:\s+|$)/g,cellRe:new RegExp("x-grid-cell-([^\\s]+) ",""),trackOver:true,getRowClass:null,initComponent:function(){var b=this;b.scrollState={};b.selModel.view=b;b.headerCt.view=b;b.initFeatures();b.tpl="<div></div>";b.callParent();b.mon(b.store,{load:b.onStoreLoad,scope:b})},onStoreLoad:function(){var b=this;if(b.invalidateScrollerOnRefresh){if(a.isGecko){if(!b.scrollToTopTask){b.scrollToTopTask=a.create("Ext.util.DelayedTask",b.scrollToTop,b)}b.scrollToTopTask.delay(1)}else{b.scrollToTop()}}},scrollToTop:a.emptyFn,addElListener:function(b,d,c){this.mon(this,b,d,c,{element:"el"})},getGridColumns:function(){return this.headerCt.getGridColumns()},getHeaderAtIndex:function(b){return this.headerCt.getHeaderAtIndex(b)},getCell:function(b,c){var d=this.getNode(b);return a.fly(d).down(c.getCellSelector())},getFeature:function(c){var b=this.featuresMC;if(b){return b.get(c)}},initFeatures:function(){var e=this,c=0,d,b;e.features=e.features||[];d=e.features;b=d.length;e.featuresMC=a.create("Ext.util.MixedCollection");for(;c<b;c++){if(!d[c].isFeature){d[c]=a.create("feature."+d[c].ftype,d[c])}d[c].view=e;e.featuresMC.add(d[c])}},attachEventsForFeatures:function(){var c=this.features,d=c.length,b=0;for(;b<d;b++){if(c[b].isFeature){c[b].attachEvents()}}},afterRender:function(){var b=this;b.callParent();b.mon(b.el,{scroll:b.fireBodyScroll,scope:b});b.el.unselectable();b.attachEventsForFeatures()},fireBodyScroll:function(c,b){this.fireEvent("bodyscroll",c,b)},prepareData:function(d,k,f){var h=this,j=h.headerCt.prepareData(d,k,f,h,h.ownerCt),b=h.features,g=b.length,e=0,c,l;for(;e<g;e++){l=b[e];if(l.isFeature){a.apply(j,l.getAdditionalData(d,k,f,j,h))}}return j},collectData:function(e,n){var p=this.callParent(arguments),d=this.headerCt,m=d.getFullWidth(),c=this.features,k=c.length,b={rows:p,fullWidth:m},g=0,q,f=0,l,h;l=p.length;if(this.getRowClass){for(;f<l;f++){h={};p[f]["rowCls"]=this.getRowClass(e[f],f,h,this.store)}}for(;g<k;g++){q=c[g];if(q.isFeature&&q.collectData&&!q.disabled){b=q.collectData(e,p,n,m,b);break}}return b},onHeaderResize:function(f,b,e){var d=this,c=d.el;if(c){d.saveScrollState();c.select("."+a.baseCSSPrefix+"grid-col-resizer-"+f.id).setWidth(b);c.select("."+a.baseCSSPrefix+"grid-table-resizer").setWidth(d.headerCt.getFullWidth());d.restoreScrollState();d.setNewTemplate();if(!e){d.el.focus()}}},onHeaderShow:function(c,d,b){if(d.oldWidth){this.onHeaderResize(d,d.oldWidth,b);delete d.oldWidth}else{if(d.width&&!d.flex){this.onHeaderResize(d,d.width,b)}}this.setNewTemplate()},onHeaderHide:function(c,d,b){this.onHeaderResize(d,0,b)},setNewTemplate:function(){var c=this,b=c.headerCt.getColumnsForTpl(true);c.tpl=c.getTableChunker().getTableTpl({columns:b,features:c.features})},getTableChunker:function(){return this.chunker||a.view.TableChunker},addRowCls:function(c,b){var d=this.getNode(c);if(d){a.fly(d).addCls(b)}},removeRowCls:function(c,b){var d=this.getNode(c);if(d){a.fly(d).removeCls(b)}},onRowSelect:function(b){this.addRowCls(b,this.selectedItemCls)},onRowDeselect:function(c){var b=this;b.removeRowCls(c,b.selectedItemCls);b.removeRowCls(c,b.focusedItemCls)},onCellSelect:function(c){var b=this.getCellByPosition(c);if(b){b.addCls(this.selectedCellCls)}},onCellDeselect:function(c){var b=this.getCellByPosition(c);if(b){b.removeCls(this.selectedCellCls)}},onCellFocus:function(b){this.focusCell(b)},getCellByPosition:function(c){var h=c.row,f=c.column,e=this.store,g=this.getNode(h),i=this.headerCt.getHeaderAtIndex(f),d,b=false;if(i&&g){d=i.getCellSelector();b=a.fly(g).down(d)}return b},onRowFocus:function(e,c,b){var d=this,f=d.getNode(e);if(c){d.addRowCls(e,d.focusedItemCls);if(!b){d.focusRow(e)}}else{d.removeRowCls(e,d.focusedItemCls)}},focusRow:function(c){var g=this,j=g.getNode(c),d=g.el,h=0,b=g.ownerCt,i,e,f;if(j&&d){e=d.getRegion();i=a.fly(j).getRegion();if(i.top<e.top){h=i.top-e.top}else{if(i.bottom>e.bottom){h=i.bottom-e.bottom}}f=g.getRecord(j);c=g.store.indexOf(f);if(h){b.scrollByDeltaY(h)}g.fireEvent("rowfocus",f,j,c)}},focusCell:function(h){var j=this,k=j.getCellByPosition(h),c=j.el,e=0,f=0,d=c.getRegion(),b=j.ownerCt,i,g;if(k){i=k.getRegion();if(i.top<d.top){e=i.top-d.top}else{if(i.bottom>d.bottom){e=i.bottom-d.bottom}}if(i.left<d.left){f=i.left-d.left}else{if(i.right>d.right){f=i.right-d.right}}if(e){b.scrollByDeltaY(e)}if(f){b.scrollByDeltaX(f)}c.focus();j.fireEvent("cellfocus",g,k,h)}},scrollByDelta:function(d,c){c=c||"scrollTop";var b=this.el.dom;b[c]=(b[c]+=d)},onUpdate:function(c,b){this.callParent(arguments)},saveScrollState:function(){var c=this.el.dom,b=this.scrollState;b.left=c.scrollLeft;b.top=c.scrollTop},restoreScrollState:function(){var c=this.el.dom,b=this.scrollState,d=this.headerCt.el.dom;d.scrollLeft=c.scrollLeft=b.left;c.scrollTop=b.top},refresh:function(d){var c=this,b;c.setNewTemplate();c.callParent(arguments);if(c.rendered&&!d){}},processItemEvent:function(c,m,j,f){var h=this,k=f.getTarget(h.cellSelector,m),i=k?k.cellIndex:-1,b=h.statics().EventMap,d=h.getSelectionModel(),g=f.type,l;if(g=="keydown"&&!k&&d.getCurrentPosition){k=h.getCellByPosition(d.getCurrentPosition());if(k){k=k.dom;i=k.cellIndex}}l=h.fireEvent("uievent",g,h,k,j,i,f);if(l===false||h.callParent(arguments)===false){return false}if(g=="mouseover"||g=="mouseout"){return true}return !((h["onBeforeCell"+b[g]](k,i,c,m,j,f)===false)||(h.fireEvent("beforecell"+g,h,k,i,c,m,j,f)===false)||(h["onCell"+b[g]](k,i,c,m,j,f)===false)||(h.fireEvent("cell"+g,h,k,i,c,m,j,f)===false))},processSpecialEvent:function(k){var n=this,c=n.statics().EventMap,f=n.features,m=f.length,p=k.type,g,q,h,j,d,l,b=n.ownerCt;n.callParent(arguments);if(p=="mouseover"||p=="mouseout"){return}for(g=0;g<m;g++){q=f[g];if(q.hasFeatureEvent){j=k.getTarget(q.eventSelector,n.getTargetEl());if(j){h=q.eventPrefix;d=q.getFireEventArgs("before"+h+p,n,j,k);l=q.getFireEventArgs(h+p,n,j,k);if((n.fireEvent.apply(n,d)===false)||(b.fireEvent.apply(b,d)===false)||(n.fireEvent.apply(n,l)===false)||(b.fireEvent.apply(b,l)===false)){return false}}}}return true},onCellMouseDown:a.emptyFn,onCellMouseUp:a.emptyFn,onCellClick:a.emptyFn,onCellDblClick:a.emptyFn,onCellContextMenu:a.emptyFn,onCellKeyDown:a.emptyFn,onBeforeCellMouseDown:a.emptyFn,onBeforeCellMouseUp:a.emptyFn,onBeforeCellClick:a.emptyFn,onBeforeCellDblClick:a.emptyFn,onBeforeCellContextMenu:a.emptyFn,onBeforeCellKeyDown:a.emptyFn,expandToFit:function(c){var b=this.getMaxContentWidth(c);delete c.flex;c.setWidth(b)},getMaxContentWidth:function(h){var b=h.getCellInnerSelector(),d=this.el.query(b),e=0,g=d.length,f=h.el.dom.scrollWidth,c;for(;e<g;e++){c=d[e].scrollWidth;if(c>f){f=c}}return f},getPositionByEvent:function(g){var f=this,c=g.getTarget(f.cellSelector),d=g.getTarget(f.itemSelector),b=f.getRecord(d),h=f.getHeaderByCell(c);return f.getPosition(b,h)},getHeaderByCell:function(c){if(c){var b=c.className.match(this.cellRe);if(b&&b[1]){return a.getCmp(b[1])}}return false},walkCells:function(l,m,h,n,b,p){var j=this,q=l.row,f=l.column,k=j.store.getCount(),g=j.getFirstVisibleColumnIndex(),c=j.getLastVisibleColumnIndex(),i={row:q,column:f},d=j.headerCt.getHeaderAtIndex(f);if(!d||d.hidden){return false}h=h||{};m=m.toLowerCase();switch(m){case"right":if(f===c){if(n||q===k-1){return false}if(!h.ctrlKey){i.row=q+1;i.column=g}}else{if(!h.ctrlKey){i.column=f+j.getRightGap(d)}else{i.column=c}}break;case"left":if(f===g){if(n||q===0){return false}if(!h.ctrlKey){i.row=q-1;i.column=c}}else{if(!h.ctrlKey){i.column=f+j.getLeftGap(d)}else{i.column=g}}break;case"up":if(q===0){return false}else{if(!h.ctrlKey){i.row=q-1}else{i.row=0}}break;case"down":if(q===k-1){return false}else{if(!h.ctrlKey){i.row=q+1}else{i.row=k-1}}break}if(b&&b.call(p||window,i)!==true){return false}else{return i}},getFirstVisibleColumnIndex:function(){var d=this.getHeaderCt(),b=d.getGridColumns(),e=a.ComponentQuery.query(":not([hidden])",b),c=e[0];return d.getHeaderIndex(c)},getLastVisibleColumnIndex:function(){var d=this.getHeaderCt(),b=d.getGridColumns(),e=a.ComponentQuery.query(":not([hidden])",b),c=e[e.length-1];return d.getHeaderIndex(c)},getHeaderCt:function(){return this.headerCt},getPosition:function(b,f){var e=this,c=e.store,d=e.headerCt.getGridColumns();return{row:c.indexOf(b),column:a.Array.indexOf(d,f)}},getRightGap:function(b){var g=this.getHeaderCt(),f=g.getGridColumns(),c=a.Array.indexOf(f,b),d=c+1,e;for(;d<=f.length;d++){if(!f[d].hidden){e=d;break}}return e-c},beforeDestroy:function(){if(this.rendered){this.el.removeAllListeners()}this.callParent(arguments)},getLeftGap:function(b){var g=this.getHeaderCt(),f=g.getGridColumns(),d=a.Array.indexOf(f,b),e=d-1,c;for(;e>=0;e--){if(!f[e].hidden){c=e;break}}return c-d}});a.define("Ext.grid.View",{extend:"Ext.view.Table",alias:"widget.gridview",stripeRows:true,invalidateScrollerOnRefresh:true,scrollToTop:function(){if(this.rendered){var c=this.ownerCt,b=c.verticalScroller;if(b){b.scrollToTop()}}},onAdd:function(d,b,c){this.callParent(arguments);this.doStripeRows(c)},onRemove:function(d,b,c){this.callParent(arguments);this.doStripeRows(c)},onUpdate:function(e,b,c){var d=e.indexOf(b);this.callParent(arguments);this.doStripeRows(d,d)},doStripeRows:function(c,b){if(this.stripeRows){var e=this.getNodes(c,b),g=e.length,d=0,f;for(;d<g;d++){f=e[d];f.className=f.className.replace(this.rowClsRe," ");c++;if(c%2===0){f.className+=(" "+this.altRowCls)}}}},refresh:function(c){this.callParent(arguments);this.doStripeRows(0);var b=this.up("gridpanel");if(b&&this.invalidateScrollerOnRefresh){b.invalidateScroller()}}});a.define("Ext.grid.Panel",{extend:"Ext.panel.Table",requires:["Ext.grid.View"],alias:["widget.gridpanel","widget.grid"],alternateClassName:["Ext.list.ListView","Ext.ListView","Ext.grid.GridPanel"],viewType:"gridview",lockable:false,normalCfgCopy:["invalidateScrollerOnRefresh","verticalScroller","verticalScrollDock","verticalScrollerType","scroll"],lockedCfgCopy:["invalidateScrollerOnRefresh"],initComponent:function(){var b=this;if(b.columnLines){b.setColumnLines(b.columnLines)}b.callParent()},setColumnLines:function(b){var c=this,d=(b)?"addClsWithUI":"removeClsWithUI";c[d]("with-col-lines")}});a.define("Ext.grid.RowEditor",{extend:"Ext.form.Panel",requires:["Ext.tip.ToolTip","Ext.util.HashMap","Ext.util.KeyNav"],saveBtnText:"Update",cancelBtnText:"Cancel",errorsText:"Errors",dirtyText:"You need to commit or cancel your changes",lastScrollLeft:0,lastScrollTop:0,border:false,hideMode:"offsets",initComponent:function(){var c=this,b;c.cls=a.baseCSSPrefix+"grid-row-editor";c.layout={type:"hbox",align:"middle"};c.columns=a.create("Ext.util.HashMap");c.columns.getKey=function(e){var d;if(e.getEditor){d=e.getEditor();if(d){return d.id}}return e.id};c.mon(c.columns,{add:c.onFieldAdd,remove:c.onFieldRemove,replace:c.onFieldReplace,scope:c});c.callParent(arguments);if(c.fields){c.setField(c.fields);delete c.fields}b=c.getForm();b.trackResetOnLoad=true},onFieldChange:function(){var d=this,c=d.getForm(),b=c.isValid();if(d.errorSummary&&d.isVisible()){d[b?"hideToolTip":"showToolTip"]()}if(d.floatingButtons){d.floatingButtons.child("#update").setDisabled(!b)}d.isValid=b},afterRender:function(){var c=this,b=c.editingPlugin;c.callParent(arguments);c.mon(c.renderTo,"scroll",c.onCtScroll,c,{buffer:100});c.mon(c.el,{click:a.emptyFn,stopPropagation:true});c.el.swallowEvent(["keypress","keydown"]);c.keyNav=a.create("Ext.util.KeyNav",c.el,{enter:b.completeEdit,esc:b.onEscKey,scope:b});c.mon(b.view,{beforerefresh:c.onBeforeViewRefresh,refresh:c.onViewRefresh,scope:c})},onBeforeViewRefresh:function(c){var d=this,b=c.el.dom;if(d.el.dom.parentNode===b){b.removeChild(d.el.dom)}},onViewRefresh:function(d){var f=this,c=d.el.dom,e=f.context,b;c.appendChild(f.el.dom);if(e&&(b=e.store.indexOf(e.record))>=0){e.row=d.getNode(b);f.reposition();if(f.tooltip&&f.tooltip.isVisible()){f.tooltip.setTarget(e.row)}}else{f.editingPlugin.cancelEdit()}},onCtScroll:function(f,d){var b=this,c=d.scrollTop,g=d.scrollLeft;if(c!==b.lastScrollTop){b.lastScrollTop=c;if((b.tooltip&&b.tooltip.isVisible())||b.hiddenTip){b.repositionTip()}}if(g!==b.lastScrollLeft){b.lastScrollLeft=g;b.reposition()}},onColumnAdd:function(b){this.setField(b)},onColumnRemove:function(b){this.columns.remove(b)},onColumnResize:function(c,b){c.getEditor().setWidth(b-2);if(this.isVisible()){this.reposition()}},onColumnHide:function(b){b.getEditor().hide();if(this.isVisible()){this.reposition()}},onColumnShow:function(b){var c=b.getEditor();c.setWidth(b.getWidth()-2).show();if(this.isVisible()){this.reposition()}},onColumnMove:function(c,b,d){var e=c.getEditor();if(this.items.indexOf(e)!=d){this.move(b,d)}},onFieldAdd:function(f,b,c){var d=this,g=d.editingPlugin.grid.headerCt.getHeaderIndex(c),e=c.getEditor({xtype:"displayfield"});d.insert(g,e)},onFieldRemove:function(g,b,c){var d=this,f=c.getEditor(),e=f.el;d.remove(f,false);if(e){e.remove()}},onFieldReplace:function(f,b,d,c){var e=this;e.onFieldRemove(f,b,c)},clearFields:function(){var b=this,c=b.columns;c.each(function(d){c.removeAtKey(d)})},getFloatingButtons:function(){var e=this,f=a.baseCSSPrefix,d=f+"grid-row-editor-buttons",c=e.editingPlugin,b;if(!e.floatingButtons){b=e.floatingButtons=a.create("Ext.Container",{renderTpl:['<div class="{baseCls}-ml"></div>','<div class="{baseCls}-mr"></div>','<div class="{baseCls}-bl"></div>','<div class="{baseCls}-br"></div>','<div class="{baseCls}-bc"></div>'],renderTo:e.el,baseCls:d,layout:{type:"hbox",align:"middle"},defaults:{margins:"0 1 0 1"},items:[{itemId:"update",flex:1,xtype:"button",handler:c.completeEdit,scope:c,text:e.saveBtnText,disabled:!e.isValid},{flex:1,xtype:"button",handler:c.cancelEdit,scope:c,text:e.cancelBtnText}]});e.mon(b.el,{mousedown:a.emptyFn,click:a.emptyFn,stopEvent:true})}return e.floatingButtons},reposition:function(s){var u=this,d=u.context,f=d&&a.get(d.row),q=u.getFloatingButtons(),r=q.el,b=u.editingPlugin.grid,g=b.view.el,t=b.verticalScroller,p=b.headerCt.getFullWidth(),v=b.getWidth(),l=Math.min(p,v),n=b.view.el.dom.scrollLeft,i=q.getWidth(),e=(l-i)/2+n,j,h,m,k=function(){if(t){t.invalidate();r.scrollIntoView(g,false)}if(s&&s.callback){s.callback.call(s.scope||u)}};if(f&&a.isElement(f.dom)){f.scrollIntoView(g,false);j=f.getXY()[1]-5;h=f.getHeight();m=h+10;if(a.isIE){m+=2}if(u.getHeight()!=m){u.setHeight(m);u.el.setLeft(0)}if(s){var c={to:{y:j},duration:s.duration||125,listeners:{afteranimate:function(){k();j=f.getXY()[1]-5;u.el.setY(j)}}};u.animate(c)}else{u.el.setY(j);k()}}if(u.getWidth()!=p){u.setWidth(p)}r.setLeft(e)},getEditor:function(b){var c=this;if(a.isNumber(b)){return c.query(">[isFormField]")[b]}else{if(b instanceof a.grid.column.Column){return b.getEditor()}}},removeField:function(c){var b=this;c=b.getEditor(c);b.mun(c,"validitychange",b.onValidityChange,b);b.columns.removeKey(c.id)},setField:function(b){var c=this,d;if(a.isArray(b)){a.Array.forEach(b,c.setField,c);return}d=b.getEditor(null,{xtype:"displayfield",getModelData:function(){return null}});d.margins="0 0 0 2";d.setWidth(b.getDesiredWidth()-2);c.mon(d,"change",c.onFieldChange,c);c.columns.add(d.id,b);if(c.isVisible()&&c.context){c.renderColumnData(d,c.context.record)}},loadRecord:function(b){var d=this,c=d.getForm();c.loadRecord(b);if(c.isValid()){d.hideToolTip()}else{d.showToolTip()}a.Array.forEach(d.query(">displayfield"),function(e){d.renderColumnData(e,b)},d)},renderColumnData:function(k,h){var i=this,b=i.editingPlugin.grid,e=b.headerCt,j=b.view,m=j.store,f=i.columns.get(k.id),l=h.get(f.dataIndex);if(f.renderer){var c={tdCls:"",style:""},d=m.indexOf(h),g=e.getHeaderIndex(f);l=f.renderer.call(f.scope||e.ownerCt,l,c,h,d,g,m,j)}k.setRawValue(l);k.resetOriginalValue()},beforeEdit:function(){var b=this;if(b.isVisible()&&!b.autoCancel&&b.isDirty()){b.showToolTip();return false}},startEdit:function(c,h){var g=this,f=g.editingPlugin.grid,b=f.getView(),d=f.store,e=g.context=a.apply(g.editingPlugin.context,{view:f.getView(),store:d});e.grid.getSelectionModel().select(c);g.loadRecord(c);if(!g.isVisible()){g.show();g.focusContextCell()}else{g.reposition({callback:this.focusContextCell})}},focusContextCell:function(){var b=this.getEditor(this.context.colIdx);if(b&&b.focus){b.focus()}},cancelEdit:function(){var c=this,b=c.getForm();c.hide();b.clearInvalid();b.reset()},completeEdit:function(){var c=this,b=c.getForm();if(!b.isValid()){return}b.updateRecord(c.context.record);c.hide();return true},onShow:function(){var b=this;b.callParent(arguments);b.reposition()},onHide:function(){var b=this;b.callParent(arguments);b.hideToolTip();b.invalidateScroller();if(b.context){b.context.view.focus();b.context=null}},isDirty:function(){var c=this,b=c.getForm();return b.isDirty()},getToolTip:function(){var b=this,c;if(!b.tooltip){c=b.tooltip=a.createWidget("tooltip",{cls:a.baseCSSPrefix+"grid-row-editor-errors",title:b.errorsText,autoHide:false,closable:true,closeAction:"disable",anchor:"left"})}return b.tooltip},hideToolTip:function(){var b=this,c=b.getToolTip();if(c.rendered){c.disable()}b.hiddenTip=false},showToolTip:function(){var d=this,e=d.getToolTip(),b=d.context,f=a.get(b.row),c=b.grid.view.el;e.setTarget(f);e.showAt([-10000,-10000]);e.body.update(d.getErrors());e.mouseOffset=[c.getWidth()-f.getWidth()+d.lastScrollLeft+15,0];d.repositionTip();e.doLayout();e.enable()},repositionTip:function(){var i=this,j=i.getToolTip(),d=i.context,l=a.get(d.row),k=d.grid.view.el,f=k.getHeight(),g=i.lastScrollTop,h=g+f,c=l.getHeight(),b=l.dom.offsetTop,e=b+c;if(e>g&&b<h){j.show();i.hiddenTip=false}else{j.hide();i.hiddenTip=true}},getErrors:function(){var b=this,c=!b.autoCancel&&b.isDirty()?b.dirtyText+"<br />":"",d=[];a.Array.forEach(b.query(">[isFormField]"),function(e){d=d.concat(a.Array.map(e.getErrors(),function(f){return"<li>"+f+"</li>"}))},b);return c+"<ul>"+d.join("")+"</ul>"},invalidateScroller:function(){var d=this,c=d.context,b=c.grid.verticalScroller;if(b){b.invalidate()}}});a.define("Ext.grid.header.Container",{extend:"Ext.container.Container",uses:["Ext.grid.ColumnLayout","Ext.grid.column.Column","Ext.menu.Menu","Ext.menu.CheckItem","Ext.menu.Separator","Ext.grid.plugin.HeaderResizer","Ext.grid.plugin.HeaderReorderer"],border:true,alias:"widget.headercontainer",baseCls:a.baseCSSPrefix+"grid-header-ct",dock:"top",weight:100,defaultType:"gridcolumn",defaultWidth:100,sortAscText:"Sort Ascending",sortDescText:"Sort Descending",sortClearText:"Clear Sort",columnsText:"Columns",lastHeaderCls:a.baseCSSPrefix+"column-header-last",firstHeaderCls:a.baseCSSPrefix+"column-header-first",headerOpenCls:a.baseCSSPrefix+"column-header-open",triStateSort:false,ddLock:false,dragging:false,sortable:true,initComponent:function(){var b=this;b.headerCounter=0;b.plugins=b.plugins||[];if(!b.isHeader){b.resizer=a.create("Ext.grid.plugin.HeaderResizer");b.reorderer=a.create("Ext.grid.plugin.HeaderReorderer");if(!b.enableColumnResize){b.resizer.disable()}if(!b.enableColumnMove){b.reorderer.disable()}b.plugins.push(b.reorderer,b.resizer)}if(b.isHeader&&!b.items){b.layout="auto"}else{b.layout={type:"gridcolumn",availableSpaceOffset:b.availableSpaceOffset,align:"stretchmax",resetStretch:true}}b.defaults=b.defaults||{};a.applyIf(b.defaults,{width:b.defaultWidth,triStateSort:b.triStateSort,sortable:b.sortable});b.callParent();b.addEvents("columnresize","headerclick","headertriggerclick","columnmove","columnhide","columnshow","sortchange","menucreate")},onDestroy:function(){a.destroy(this.resizer,this.reorderer);this.callParent()},onAdd:function(d){var b=this;if(!d.headerId){d.headerId="h"+(++b.headerCounter)}b.callParent(arguments);b.purgeCache()},onRemove:function(d){var b=this;b.callParent(arguments);b.purgeCache()},afterRender:function(){this.callParent();var b=this.up("[store]").store,d=b.sorters,e=d.first(),c;if(e){c=this.down("gridcolumn[dataIndex="+e.property+"]");if(c){c.setSortState(e.direction,false,true)}}},afterLayout:function(){if(!this.isHeader){var f=this,e=f.query(">gridcolumn:not([hidden])"),d,c,b;f.callParent(arguments);if(e.length){c=e[0].el;if(c!==f.pastFirstHeaderEl){if(f.pastFirstHeaderEl){f.pastFirstHeaderEl.removeCls(f.firstHeaderCls)}c.addCls(f.firstHeaderCls);f.pastFirstHeaderEl=c}b=e[e.length-1].el;if(b!==f.pastLastHeaderEl){if(f.pastLastHeaderEl){f.pastLastHeaderEl.removeCls(f.lastHeaderCls)}b.addCls(f.lastHeaderCls);f.pastLastHeaderEl=b}}}},onHeaderShow:function(g){var k=this,l=k.ownerCt,d=k.getMenu(),e,c,h,b,j,f;if(d){h=d.down("menucheckitem[headerId="+g.id+"]");if(h){h.setChecked(true,true)}e=d.query("#columnItem>menucheckitem[checked]");c=e.length;if((k.getVisibleGridColumns().length>1)&&k.disabledMenuItems&&k.disabledMenuItems.length){if(c==1){a.Array.remove(k.disabledMenuItems,e[0])}for(f=0,j=k.disabledMenuItems.length;f<j;f++){b=k.disabledMenuItems[f];if(!b.isDestroyed){b[b.menu?"enableCheckChange":"enable"]()}}if(c==1){k.disabledMenuItems=e}else{k.disabledMenuItems=[]}}}if(!g.isGroupHeader){if(k.view){k.view.onHeaderShow(k,g,true)}if(l){l.onHeaderShow(k,g)}}k.fireEvent("columnshow",k,g);k.doLayout()},onHeaderHide:function(g,d){var c=this,b=c.ownerCt,f=c.getMenu(),e;if(f){e=f.down("menucheckitem[headerId="+g.id+"]");if(e){e.setChecked(false,true)}c.setDisabledItems()}if(!g.isGroupHeader){if(c.view){c.view.onHeaderHide(c,g,true)}if(b){b.onHeaderHide(c,g)}if(!d){c.doLayout()}}c.fireEvent("columnhide",c,g)},setDisabledItems:function(){var e=this,g=e.getMenu(),c=0,b,f,d;f=g.query("#columnItem>menucheckitem[checked]");if((f.length===1)){if(!e.disabledMenuItems){e.disabledMenuItems=[]}if((e.getVisibleGridColumns().length===1)&&f[0].menu){f=f.concat(f[0].menu.query("menucheckitem[checked]"))}b=f.length;for(c=0;c<b;c++){d=f[c];if(!a.Array.contains(e.disabledMenuItems,d)){d[d.menu?"disableCheckChange":"disable"]();e.disabledMenuItems.push(d)}}}},tempLock:function(){this.ddLock=true;a.Function.defer(function(){this.ddLock=false},200,this)},onHeaderResize:function(d,b,c){this.tempLock();if(this.view&&this.view.rendered){this.view.onHeaderResize(d,b,c)}this.fireEvent("columnresize",this,d,b)},onHeaderClick:function(d,c,b){this.fireEvent("headerclick",this,d,c,b)},onHeaderTriggerClick:function(d,c,b){if(this.fireEvent("headertriggerclick",this,d,c,b)!==false){this.showMenuBy(b,d)}},showMenuBy:function(c,g){var e=this.getMenu(),f=e.down("#ascItem"),d=e.down("#descItem"),b;e.activeHeader=e.ownerCt=g;e.setFloatParent(g);g.titleContainer.addCls(this.headerOpenCls);b=g.sortable?"enable":"disable";if(f){f[b]()}if(d){d[b]()}e.showBy(c)},onMenuDeactivate:function(){var b=this.getMenu();b.activeHeader.titleContainer.removeCls(this.headerOpenCls)},moveHeader:function(b,c){this.tempLock();this.onHeaderMoved(this.move(b,c),b,c)},purgeCache:function(){var b=this;delete b.gridDataColumns;if(b.menu){b.menu.destroy();delete b.menu}},onHeaderMoved:function(f,c,e){var d=this,b=d.ownerCt;if(b){b.onHeaderMove(d,f,c,e)}d.fireEvent("columnmove",d,f,c,e)},getMenu:function(){var b=this;if(!b.menu){b.menu=a.create("Ext.menu.Menu",{items:b.getMenuItems(),listeners:{deactivate:b.onMenuDeactivate,scope:b}});b.setDisabledItems();b.fireEvent("menucreate",b,b.menu)}return b.menu},getMenuItems:function(){var c=this,b=[{itemId:"columnItem",text:c.columnsText,cls:a.baseCSSPrefix+"cols-icon",menu:c.getColumnMenu(c)}];if(c.sortable){b.unshift({itemId:"ascItem",text:c.sortAscText,cls:"xg-hmenu-sort-asc",handler:c.onSortAscClick,scope:c},{itemId:"descItem",text:c.sortDescText,cls:"xg-hmenu-sort-desc",handler:c.onSortDescClick,scope:c},"-")}return b},onSortAscClick:function(){var c=this.getMenu(),b=c.activeHeader;b.setSortState("ASC")},onSortDescClick:function(){var c=this.getMenu(),b=c.activeHeader;b.setSortState("DESC")},getColumnMenu:function(g){var d=[],c=0,f,b=g.query(">gridcolumn[hideable]"),h=b.length,e;for(;c<h;c++){f=b[c];e=a.create("Ext.menu.CheckItem",{text:f.text,checked:!f.hidden,hideOnClick:false,headerId:f.id,menu:f.isGroupHeader?this.getColumnMenu(f):undefined,checkHandler:this.onColumnCheckChange,scope:this});if(h===1){e.disabled=true}d.push(e);f.on({destroy:a.Function.bind(e.destroy,e)})}return d},onColumnCheckChange:function(b,c){var d=a.getCmp(b.headerId);d[c?"show":"hide"]()},getColumnsForTpl:function(e){var c=[],d=this.getGridColumns(e),g=d.length,b=0,f;for(;b<g;b++){f=d[b];c.push({dataIndex:f.dataIndex,align:f.align,width:f.hidden?0:f.getDesiredWidth(),id:f.id,cls:f.tdCls,columnId:f.getItemId()})}return c},getColumnCount:function(){return this.getGridColumns().length},getFullWidth:function(e){var d=0,c=this.getVisibleGridColumns(e),f=c.length,b=0;for(;b<f;b++){if(!isNaN(c[b].width)){if(c[b].getDesiredWidth){d+=c[b].getDesiredWidth()}else{d+=c[b].getWidth()}}}return d},clearOtherSortStates:function(b){var d=this.getGridColumns(),f=d.length,c=0,e;for(;c<f;c++){if(d[c]!==b){e=d[c].sortState;d[c].setSortState(null,true)}}},getVisibleGridColumns:function(b){return a.ComponentQuery.query(":not([hidden])",this.getGridColumns(b))},getGridColumns:function(c){var d=this,b=c?null:d.gridDataColumns;if(!b){d.gridDataColumns=b=[];d.cascade(function(e){if((e!==d)&&!e.isGroupHeader){b.push(e)}})}return b},getHeaderIndex:function(c){var b=this.getGridColumns();return a.Array.indexOf(b,c)},getHeaderAtIndex:function(b){var c=this.getGridColumns();return c[b]},prepareData:function(i,d,k,m,b){var h={},e=this.gridDataColumns||this.getGridColumns(),f=e.length,g=0,j,q,l,p,c,n=b.store;for(;g<f;g++){c={tdCls:"",style:""};j=e[g];q=j.id;l=j.renderer;p=i[j.dataIndex];if(typeof l==="string"){j.renderer=l=a.util.Format[l]}if(typeof l==="function"){p=l.call(j.scope||this.ownerCt,p,c,k,d,g,n,m)}h[q+"-modified"]=k.modified[j.dataIndex]?a.baseCSSPrefix+"grid-dirty-cell":"";h[q+"-tdCls"]=c.tdCls;h[q+"-tdAttr"]=c.tdAttr;h[q+"-style"]=c.style;if(p===undefined||p===null||p===""){p="&#160;"}h[q]=p}return h},expandToFit:function(b){if(this.view){this.view.expandToFit(b)}}});a.define("Ext.grid.column.Column",{extend:"Ext.grid.header.Container",alias:"widget.gridcolumn",requires:["Ext.util.KeyNav"],alternateClassName:"Ext.grid.Column",baseCls:a.baseCSSPrefix+"column-header "+a.baseCSSPrefix+"unselectable",hoverCls:a.baseCSSPrefix+"column-header-over",handleWidth:5,sortState:null,possibleSortStates:["ASC","DESC"],renderTpl:'<div class="'+a.baseCSSPrefix+'column-header-inner"><span class="'+a.baseCSSPrefix+'column-header-text">{text}</span><tpl if="!values.menuDisabled"><div class="'+a.baseCSSPrefix+'column-header-trigger"></div></tpl></div>',dataIndex:null,text:"&#160",sortable:true,hideable:true,menuDisabled:false,renderer:false,align:"left",draggable:true,initDraggable:a.emptyFn,isHeader:true,initComponent:function(){var d=this,c,b;if(a.isDefined(d.header)){d.text=d.header;delete d.header}if(d.flex){d.minWidth=d.minWidth||a.grid.plugin.HeaderResizer.prototype.minColWidth}else{d.minWidth=d.width}if(!d.triStateSort){d.possibleSortStates.length=2}if(a.isDefined(d.columns)){d.isGroupHeader=true;d.items=d.columns;delete d.columns;delete d.flex;d.width=0;for(c=0,b=d.items.length;c<b;c++){d.width+=d.items[c].width||a.grid.header.Container.prototype.defaultWidth}d.minWidth=d.width;d.cls=(d.cls||"")+" "+a.baseCSSPrefix+"group-header";d.sortable=false;d.fixed=true;d.align="center"}a.applyIf(d.renderSelectors,{titleContainer:"."+a.baseCSSPrefix+"column-header-inner",triggerEl:"."+a.baseCSSPrefix+"column-header-trigger",textEl:"."+a.baseCSSPrefix+"column-header-text"});d.callParent(arguments)},onAdd:function(b){b.isSubHeader=true;b.addCls(a.baseCSSPrefix+"group-sub-header")},onRemove:function(b){b.isSubHeader=false;b.removeCls(a.baseCSSPrefix+"group-sub-header")},initRenderData:function(){var b=this;a.applyIf(b.renderData,{text:b.text,menuDisabled:b.menuDisabled});return b.callParent(arguments)},setText:function(b){this.text=b;if(this.rendered){this.textEl.update(b)}},getOwnerHeaderCt:function(){return this.up(":not([isHeader])")},getIndex:function(){return this.isGroupColumn?false:this.getOwnerHeaderCt().getHeaderIndex(this)},afterRender:function(){var c=this,b=c.el;c.callParent(arguments);b.addCls(a.baseCSSPrefix+"column-header-align-"+c.align).addClsOnOver(c.overCls);c.mon(b,{click:c.onElClick,dblclick:c.onElDblClick,scope:c});if(!a.isIE8||!a.isStrict){c.mon(c.getFocusEl(),{focus:c.onTitleMouseOver,blur:c.onTitleMouseOut,scope:c})}c.mon(c.titleContainer,{mouseenter:c.onTitleMouseOver,mouseleave:c.onTitleMouseOut,scope:c});c.keyNav=a.create("Ext.util.KeyNav",b,{enter:c.onEnterKey,down:c.onDownKey,scope:c})},setSize:function(b,l){var j=this,c=j.ownerCt,g=j.getOwnerHeaderCt(),k,h,f,d=j.getWidth(),e=0;if(b!==d){if(c.isGroupHeader){k=c.items.items;h=k.length;if(k[h-1].rendered){for(f=0;f<h;f++){e+=(k[f]===j)?b:k[f].getWidth()}c.minWidth=e;c.setWidth(e)}}j.callParent(arguments)}},afterComponentLayout:function(d,b){var e=this,c=this.getOwnerHeaderCt();e.callParent(arguments);if(d&&!e.isGroupHeader&&c){c.onHeaderResize(e,d,true)}},setPadding:function(){var d=this,b,c=parseInt(d.textEl.getStyle("line-height"),10);if(!d.isGroupHeader){b=d.el.getViewSize().height;if(d.titleContainer.getHeight()<b){d.titleContainer.dom.style.height=b+"px"}}b=d.titleContainer.getViewSize().height;if(c){d.titleContainer.setStyle({paddingTop:Math.max(((b-c)/2),0)+"px"})}if(a.isIE&&d.triggerEl){d.triggerEl.setHeight(b)}},onDestroy:function(){var b=this;a.destroy(b.keyNav);delete b.keyNav;b.callParent(arguments)},onTitleMouseOver:function(){this.titleContainer.addCls(this.hoverCls)},onTitleMouseOut:function(){this.titleContainer.removeCls(this.hoverCls)},onDownKey:function(b){if(this.triggerEl){this.onElClick(b,this.triggerEl.dom||this.el.dom)}},onEnterKey:function(b){this.onElClick(b,this.el.dom)},onElDblClick:function(f,b){var d=this,c=d.ownerCt;if(c&&a.Array.indexOf(c.items,d)!==0&&d.isOnLeftEdge(f)){c.expandToFit(d.previousSibling("gridcolumn"))}},onElClick:function(f,c){var d=this,b=d.getOwnerHeaderCt();if(b&&!b.ddLock){if(d.triggerEl&&(f.target===d.triggerEl.dom||c===d.triggerEl.dom||f.within(d.triggerEl))){b.onHeaderTriggerClick(d,f,c)}else{if(f.getKey()||(!d.isOnLeftEdge(f)&&!d.isOnRightEdge(f))){d.toggleSortState();b.onHeaderClick(d,f,c)}}}},processEvent:function(g,c,b,d,f,h){return this.fireEvent.apply(this,arguments)},toggleSortState:function(){var c=this,b,d;if(c.sortable){b=a.Array.indexOf(c.possibleSortStates,c.sortState);d=(b+1)%c.possibleSortStates.length;c.setSortState(c.possibleSortStates[d])}},doSort:function(c){var b=this.up("tablepanel").store;b.sort({property:this.getSortParam(),direction:c})},getSortParam:function(){return this.dataIndex},setSortState:function(b,k,g){var h=this,i=a.baseCSSPrefix+"column-header-sort-",j=i+"ASC",d=i+"DESC",c=i+"null",f=h.getOwnerHeaderCt(),e=h.sortState;if(e!==b&&h.getSortParam()){h.addCls(i+b);if(b&&!g){h.doSort(b)}switch(b){case"DESC":h.removeCls([j,c]);break;case"ASC":h.removeCls([d,c]);break;case null:h.removeCls([j,d]);break}if(f&&!h.triStateSort&&!k){f.clearOtherSortStates(h)}h.sortState=b;f.fireEvent("sortchange",f,h,b)}},hide:function(){var g=this,d,b,e,h,f=0,c=g.getOwnerHeaderCt();g.oldWidth=g.getWidth();if(g.isGroupHeader){d=g.items.items;g.callParent(arguments);c.onHeaderHide(g);for(e=0,b=d.length;e<b;e++){d[e].hidden=true;c.onHeaderHide(d[e],true)}return}h=g.ownerCt.componentLayout.layoutBusy;g.ownerCt.componentLayout.layoutBusy=true;g.callParent(arguments);g.ownerCt.componentLayout.layoutBusy=h;c.onHeaderHide(g);if(g.ownerCt.isGroupHeader){d=g.ownerCt.query(">:not([hidden])");if(!d.length){g.ownerCt.hide()}else{for(e=0,b=d.length;e<b;e++){f+=d[e].getWidth()}g.ownerCt.minWidth=f;g.ownerCt.setWidth(f)}}},show:function(){var g=this,e=g.getOwnerHeaderCt(),h,c,b,d,f=0;h=g.ownerCt.componentLayout.layoutBusy;g.ownerCt.componentLayout.layoutBusy=true;g.callParent(arguments);g.ownerCt.componentLayout.layoutBusy=h;if(g.isSubHeader){if(!g.ownerCt.isVisible()){g.ownerCt.show()}}if(g.isGroupHeader&&!g.query(":not([hidden])").length){c=g.query(">*");for(d=0,b=c.length;d<b;d++){c[d].show()}}if(g.ownerCt.isGroupHeader){c=g.ownerCt.query(">:not([hidden])");for(d=0,b=c.length;d<b;d++){f+=c[d].getWidth()}g.ownerCt.minWidth=f;g.ownerCt.setWidth(f)}if(e){e.onHeaderShow(g)}},getDesiredWidth:function(){var b=this;if(b.rendered&&b.componentLayout&&b.componentLayout.lastComponentSize){return b.componentLayout.lastComponentSize.width}else{if(b.flex){return b.width}else{return b.width}}},getCellSelector:function(){return"."+a.baseCSSPrefix+"grid-cell-"+this.getItemId()},getCellInnerSelector:function(){return this.getCellSelector()+" ."+a.baseCSSPrefix+"grid-cell-inner"},isOnLeftEdge:function(b){return(b.getXY()[0]-this.el.getLeft()<=this.handleWidth)},isOnRightEdge:function(b){return(this.el.getRight()-b.getXY()[0]<=this.handleWidth)}});a.define("Ext.grid.RowNumberer",{extend:"Ext.grid.column.Column",alias:"widget.rownumberer",text:"&#160",width:23,sortable:false,align:"right",constructor:function(b){this.callParent(arguments);if(this.rowspan){this.renderer=a.Function.bind(this.renderer,this)}},fixed:true,hideable:false,menuDisabled:true,dataIndex:"",cls:a.baseCSSPrefix+"row-numberer",rowspan:undefined,renderer:function(f,c,b,e,g,d){if(this.rowspan){c.cellAttr='rowspan="'+this.rowspan+'"'}c.tdCls=a.baseCSSPrefix+"grid-cell-special";return d.indexOfTotal(b)+1}});a.define("Ext.view.DropZone",{extend:"Ext.dd.DropZone",indicatorHtml:'<div class="x-grid-drop-indicator-left"></div><div class="x-grid-drop-indicator-right"></div>',indicatorCls:"x-grid-drop-indicator",constructor:function(b){var c=this;a.apply(c,b);if(!c.ddGroup){c.ddGroup="view-dd-zone-"+c.view.id}c.callParent([c.view.el])},fireViewEvent:function(){this.lock();var b=this.view.fireEvent.apply(this.view,arguments);this.unlock();return b},getTargetFromEvent:function(k){var j=k.getTarget(this.view.getItemSelector()),f,d,c,g,b,h;if(!j){f=k.getPageY();for(g=0,d=this.view.getNodes(),b=d.length;g<b;g++){c=d[g];h=a.fly(c).getBox();if(f<=h.bottom){return c}}}return j},getIndicator:function(){var b=this;if(!b.indicator){b.indicator=a.createWidget("component",{html:b.indicatorHtml,cls:b.indicatorCls,ownerCt:b.view,floating:true,shadow:false})}return b.indicator},getPosition:function(d,b){var g=d.getXY()[1],c=a.fly(b).getRegion(),f;if((c.bottom-g)>=(c.bottom-c.top)/2){f="before"}else{f="after"}return f},containsRecordAtOffset:function(e,c,g){if(!c){return false}var b=this.view,d=b.indexOf(c),f=b.getNode(d+g),h=f?b.getRecord(f):null;return h&&a.Array.contains(e,h)},positionIndicator:function(c,d,f){var g=this,i=g.view,h=g.getPosition(f,c),l=i.getRecord(c),b=d.records,j,k;if(!a.Array.contains(b,l)&&(h=="before"&&!g.containsRecordAtOffset(b,l,-1)||h=="after"&&!g.containsRecordAtOffset(b,l,1))){g.valid=true;if(g.overRecord!=l||g.currentPosition!=h){k=a.fly(c).getY()-i.el.getY()-1;if(h=="after"){k+=a.fly(c).getHeight()}g.getIndicator().setWidth(a.fly(i.el).getWidth()).showAt(0,k);g.overRecord=l;g.currentPosition=h}}else{g.invalidateDrop()}},invalidateDrop:function(){if(this.valid){this.valid=false;this.getIndicator().hide()}},onNodeOver:function(c,b,f,d){if(!a.Array.contains(d.records,this.view.getRecord(c))){this.positionIndicator(c,d,f)}return this.valid?this.dropAllowed:this.dropNotAllowed},notifyOut:function(c,b,f,d){this.callParent(arguments);delete this.overRecord;delete this.currentPosition;if(this.indicator){this.indicator.hide()}},onContainerOver:function(b,g,f){var d=this.view,h=d.store.getCount();if(h){this.positionIndicator(d.getNode(h-1),f,g)}else{delete this.overRecord;delete this.currentPosition;this.getIndicator().setWidth(a.fly(d.el).getWidth()).showAt(0,0);this.valid=true}return this.dropAllowed},onContainerDrop:function(b,d,c){return this.onNodeDrop(b,null,d,c)},onNodeDrop:function(f,b,h,g){var d=this,j=false,c=function(){d.invalidateDrop();d.handleNodeDrop(g,d.overRecord,d.currentPosition);j=true;d.fireViewEvent("drop",f,g,d.overRecord,d.currentPosition)},i;if(d.valid){i=d.fireViewEvent("beforedrop",f,g,d.overRecord,d.currentPosition,c);if(i===0){return}else{if(i!==false){if(!j){c()}}else{return false}}}else{return false}}});a.define("Ext.grid.ViewDropZone",{extend:"Ext.view.DropZone",indicatorHtml:'<div class="x-grid-drop-indicator-left"></div><div class="x-grid-drop-indicator-right"></div>',indicatorCls:"x-grid-drop-indicator",handleNodeDrop:function(c,e,f){var j=this.view,k=j.getStore(),h,b,d,g;if(c.copy){b=c.records;c.records=[];for(d=0,g=b.length;d<g;d++){c.records.push(b[d].copy(b[d].getId()))}}else{c.view.store.remove(c.records,c.view===j)}h=k.indexOf(e);if(f=="after"){h++}k.insert(h,c.records);j.getSelectionModel().select(c.records)}});a.define("Ext.grid.column.Action",{extend:"Ext.grid.column.Column",alias:["widget.actioncolumn"],alternateClassName:"Ext.grid.ActionColumn",header:"&#160;",actionIdRe:/x-action-col-(\d+)/,altText:"",sortable:false,constructor:function(e){var h=this,c=a.apply({},e),d=c.items||[h],b=d.length,f,g;delete c.items;h.callParent([c]);h.items=d;h.renderer=function(i,j){i=a.isFunction(c.renderer)?c.renderer.apply(this,arguments)||"":"";j.tdCls+=" "+a.baseCSSPrefix+"action-col-cell";for(f=0;f<b;f++){g=d[f];i+='<img alt="'+h.altText+'" src="'+(g.icon||a.BLANK_IMAGE_URL)+'" class="'+a.baseCSSPrefix+"action-col-icon "+a.baseCSSPrefix+"action-col-"+String(f)+" "+(g.iconCls||"")+" "+(a.isFunction(g.getClass)?g.getClass.apply(g.scope||h.scope||h,arguments):(h.iconCls||""))+'"'+((g.tooltip)?' data-qtip="'+g.tooltip+'"':"")+" />"}return i}},destroy:function(){delete this.items;delete this.renderer;return this.callParent(arguments)},processEvent:function(g,j,k,b,h,d){var f=this,c=d.getTarget().className.match(f.actionIdRe),l,i;if(c){l=f.items[parseInt(c[1],10)];if(l){if(g=="click"){i=l.handler||f.handler;if(i){i.call(l.scope||f.scope||f,j,b,h,l,d)}}else{if(g=="mousedown"&&l.stopSelection!==false){return false}}}}return f.callParent(arguments)},cascade:function(c,b){c.call(b||this,this)},getRefItems:function(){return[]}});a.define("Ext.grid.column.Boolean",{extend:"Ext.grid.column.Column",alias:["widget.booleancolumn"],alternateClassName:"Ext.grid.BooleanColumn",trueText:"true",falseText:"false",undefinedText:"&#160;",constructor:function(b){this.callParent(arguments);var c=this.trueText,d=this.falseText,e=this.undefinedText;this.renderer=function(f){if(f===undefined){return e}if(!f||f==="false"){return d}return c}}});a.define("Ext.grid.column.Date",{extend:"Ext.grid.column.Column",alias:["widget.datecolumn"],requires:["Ext.Date"],alternateClassName:"Ext.grid.DateColumn",format:a.Date.defaultFormat,constructor:function(b){this.callParent(arguments);this.renderer=a.util.Format.dateRenderer(this.format)}});a.define("Ext.grid.column.Number",{extend:"Ext.grid.column.Column",alias:["widget.numbercolumn"],requires:["Ext.util.Format"],alternateClassName:"Ext.grid.NumberColumn",format:"0,000.00",constructor:function(b){this.callParent(arguments);this.renderer=a.util.Format.numberRenderer(this.format)}});a.define("Ext.grid.column.Template",{extend:"Ext.grid.column.Column",alias:["widget.templatecolumn"],requires:["Ext.XTemplate"],alternateClassName:"Ext.grid.TemplateColumn",constructor:function(b){var d=this,c;d.callParent(arguments);c=d.tpl=(!a.isPrimitive(d.tpl)&&d.tpl.compile)?d.tpl:a.create("Ext.XTemplate",d.tpl);d.renderer=function(g,h,e){var f=a.apply({},e.data,e.getAssociatedData());return c.apply(f)}}});a.define("Ext.grid.feature.Feature",{extend:"Ext.util.Observable",alias:"feature.feature",isFeature:true,disabled:false,hasFeatureEvent:true,eventPrefix:null,eventSelector:null,view:null,grid:null,collectData:false,getFeatureTpl:function(){return""},getFireEventArgs:function(c,b,d,f){return[c,b,d,f]},attachEvents:function(){},getFragmentTpl:function(){return},mutateMetaRowTpl:function(b){},getMetaRowTplFragments:function(){return{}},getTableFragments:function(){return{}},getAdditionalData:function(d,b,c,e){return{}},enable:function(){this.disabled=false},disable:function(){this.disabled=true}});a.define("Ext.grid.feature.AbstractSummary",{extend:"Ext.grid.feature.Feature",alias:"feature.abstractsummary",showSummaryRow:true,nestedIdRe:/\{\{id\}([\w\-]*)\}/g,toggleSummaryRow:function(b){this.showSummaryRow=!!b},getSummaryFragments:function(){var b={};if(this.showSummaryRow){a.apply(b,{printSummaryRow:a.bind(this.printSummaryRow,this)})}return b},printSummaryRow:function(c){var b=this.view.getTableChunker().metaRowTpl.join("");b=b.replace("x-grid-row","x-grid-row-summary");b=b.replace("{{id}}","{gridSummaryValue}");b=b.replace(this.nestedIdRe,"{id$1}");b=b.replace("{[this.embedRowCls()]}","{rowCls}");b=b.replace("{[this.embedRowAttr()]}","{rowAttr}");b=a.create("Ext.XTemplate",b,{firstOrLastCls:a.view.TableChunker.firstOrLastCls});return b.applyTemplate({columns:this.getPrintData(c)})},getColumnValue:function(d,b){var c=a.getCmp(d.id),f=b[d.dataIndex],e=c.summaryRenderer;if(e){f=e.call(c.scope||this,f,b,d.dataIndex)}return f},getSummary:function(b,c,e,d){if(c){if(a.isFunction(c)){return b.aggregate(c,null,d)}switch(c){case"count":return b.count(d);case"min":return b.min(e,d);case"max":return b.max(e,d);case"sum":return b.sum(e,d);case"average":return b.average(e,d);default:return d?{}:""}}}});a.define("Ext.grid.feature.Chunking",{extend:"Ext.grid.feature.Feature",alias:"feature.chunking",chunkSize:20,rowHeight:a.isIE?27:26,visibleChunk:0,hasFeatureEvent:false,attachEvents:function(){var c=this.view.up("gridpanel"),b=c.down("gridscroller[dock=right]");b.el.on("scroll",this.onBodyScroll,this,{buffer:300})},onBodyScroll:function(g,d){var c=this.view,f=d.scrollTop,b=Math.floor(f/this.rowHeight/this.chunkSize);if(b!==this.visibleChunk){this.visibleChunk=b;c.refresh();c.el.dom.scrollTop=f;c.el.dom.scrollTop=f}},collectData:function(e,m,l,k,j){var d={fullWidth:j.fullWidth,chunks:[]},f=j.rows.length,c=0,g=0,b=this.visibleChunk,h,p,n;for(;c<f;c+=this.chunkSize,g++){if(c+this.chunkSize>f){n=f-c}else{n=this.chunkSize}if(g>=b-1&&g<=b+1){p=j.rows.slice(c,c+this.chunkSize)}else{p=[]}d.chunks.push({rows:p,fullWidth:k,chunkHeight:n*this.rowHeight})}return d},getTableFragments:function(){return{openTableWrap:function(){return'<tpl for="chunks"><div class="'+a.baseCSSPrefix+'grid-chunk" style="height: {chunkHeight}px;">'},closeTableWrap:function(){return"</div></tpl>"}}}});a.define("Ext.grid.feature.Grouping",{extend:"Ext.grid.feature.Feature",alias:"feature.grouping",eventPrefix:"group",eventSelector:"."+a.baseCSSPrefix+"grid-group-hd",constructor:function(){this.collapsedState={};this.callParent(arguments)},groupHeaderTpl:"Group: {name}",depthToIndent:17,collapsedCls:a.baseCSSPrefix+"grid-group-collapsed",hdCollapsedCls:a.baseCSSPrefix+"grid-group-hd-collapsed",groupByText:"Group By This Field",showGroupsText:"Show in Groups",hideGroupedHeader:false,startCollapsed:false,enableGroupingMenu:true,enableNoGroups:true,enable:function(){var d=this,b=d.view,c=b.store,e;if(d.lastGroupIndex){c.group(d.lastGroupIndex)}d.callParent();e=d.view.headerCt.getMenu().down("#groupToggleMenuItem");e.setChecked(true,true);b.refresh()},disable:function(){var e=this,b=e.view,c=b.store,f,d;d=c.groupers.first();if(d){e.lastGroupIndex=d.property;c.groupers.clear()}e.callParent();f=e.view.headerCt.getMenu().down("#groupToggleMenuItem");f.setChecked(true,true);f.setChecked(false,true);b.refresh()},getFeatureTpl:function(c,d,b,f){var e=this;return["<tpl if=\"typeof rows !== 'undefined'\">",'<tr class="'+a.baseCSSPrefix+"grid-group-hd "+(e.startCollapsed?e.hdCollapsedCls:"")+' {hdCollapsedCls}"><td class="'+a.baseCSSPrefix+'grid-cell" colspan="'+d.columns.length+'" {[this.indentByDepth(values)]}><div class="'+a.baseCSSPrefix+'grid-cell-inner"><div class="'+a.baseCSSPrefix+'grid-group-title">{collapsed}'+e.groupHeaderTpl+"</div></div></td></tr>",'<tr id="{viewId}-gp-{name}" class="'+a.baseCSSPrefix+"grid-group-body "+(e.startCollapsed?e.collapsedCls:"")+' {collapsedCls}"><td colspan="'+d.columns.length+'">{[this.recurse(values)]}</td></tr>',"</tpl>"].join("")},getFragmentTpl:function(){return{indentByDepth:this.indentByDepth,depthToIndent:this.depthToIndent}},indentByDepth:function(b){var c=b.depth||0;return'style="padding-left:'+c*this.depthToIndent+'px;"'},destroy:function(){var b=this;delete b.view;delete b.prunedHeader},attachEvents:function(){var e=this,b=e.view,g,c,f,d;b.on({scope:e,groupclick:e.onGroupClick,rowfocus:e.onRowFocus});b.store.on("groupchange",e.onGroupChange,e);e.pruneGroupedHeader();if(e.enableGroupingMenu){e.injectGroupingMenu()}if(e.hideGroupedHeader){g=b.headerCt.down("gridcolumn[dataIndex="+e.getGroupField()+"]");c=g.id;f=b.headerCt.getMenu();d=f.down("menuitem[headerId="+c+"]");if(d){d.setChecked(false)}}},injectGroupingMenu:function(){var c=this,b=c.view,d=b.headerCt;d.showMenuBy=c.showMenuBy;d.getMenuItems=c.getMenuItems()},showMenuBy:function(c,f){var e=this.getMenu(),d=e.down("#groupMenuItem"),b=f.groupable===false?"disable":"enable";d[b]();a.grid.header.Container.prototype.showMenuBy.apply(this,arguments)},getMenuItems:function(){var f=this,c=f.groupByText,e=f.disabled,b=f.showGroupsText,d=f.enableNoGroups,h=a.Function.bind(f.onGroupMenuItemClick,f),g=a.Function.bind(f.onGroupToggleMenuItemClick,f);return function(){var i=a.grid.header.Container.prototype.getMenuItems.call(this);i.push("-",{itemId:"groupMenuItem",text:c,handler:h});if(d){i.push({itemId:"groupToggleMenuItem",text:b,checked:!e,checkHandler:g})}return i}},onGroupMenuItemClick:function(c,d){var f=c.parentMenu,g=f.activeHeader,b=this.view;delete this.lastGroupIndex;this.enable();b.store.group(g.dataIndex);this.pruneGroupedHeader()},onGroupToggleMenuItemClick:function(b,c){this[c?"enable":"disable"]()},pruneGroupedHeader:function(){var e=this,c=e.view,d=c.store,b=e.getGroupField(),f=c.headerCt,g=f.down("header[dataIndex="+b+"]");if(g){if(e.prunedHeader){e.prunedHeader.show()}e.prunedHeader=g;g.hide()}},getGroupField:function(){var b=this.view.store.groupers.first();if(b){return b.property}return""},onRowFocus:function(d){var c=this.view.getNode(d),b=a.fly(c).up("."+this.collapsedCls);if(b){this.expand(b)}},expand:function(d){var f=this,c=f.view,e=c.up("gridpanel"),b=a.getDom(d);f.collapsedState[b.id]=false;d.removeCls(f.collapsedCls);d.prev().removeCls(f.hdCollapsedCls);e.determineScrollbars();e.invalidateScroller();c.fireEvent("groupexpand")},collapse:function(d){var f=this,c=f.view,e=c.up("gridpanel"),b=a.getDom(d);f.collapsedState[b.id]=true;d.addCls(f.collapsedCls);d.prev().addCls(f.hdCollapsedCls);e.determineScrollbars();e.invalidateScroller();c.fireEvent("groupcollapse")},onGroupChange:function(){this.view.refresh()},onGroupClick:function(d,i,b,j,h){var g=this,f=g.toggleCls,c=a.fly(i.nextSibling,"_grouping");if(c.hasCls(g.collapsedCls)){g.expand(c)}else{g.collapse(c)}},getMetaRowTplFragments:function(){return{isRow:this.isRow,closeRow:this.closeRow}},isRow:function(){return"<tpl if=\"typeof rows === 'undefined'\">"},closeRow:function(){return"</tpl>"},mutateMetaRowTpl:function(b){b.unshift("{[this.isRow()]}");b.push("{[this.closeRow()]}")},getAdditionalData:function(f,j,g,i){var h=this.view,e=h.headerCt,d=e.items.getAt(0),c={},b=d.id+"-tdAttr";c[b]=this.indentByDepth(f)+" "+(i[b]?i[b]:"");c.collapsed="true";return c},getGroupRows:function(h,d,c,i){var f=this,e=h.children,g=h.rows=[],b=f.view;h.viewId=b.id;a.Array.each(d,function(k,j){if(a.Array.indexOf(e,k)!=-1){g.push(a.apply(c[j],{depth:1}))}});delete h.children;h.fullWidth=i;if(f.collapsedState[b.id+"-gp-"+h.name]){h.collapsedCls=f.collapsedCls;h.hdCollapsedCls=f.hdCollapsedCls}return h},collectData:function(e,d,i,h,g){var f=this,c=f.view.store,b;if(!f.disabled&&c.isGrouped()){b=c.getGroups();a.Array.each(b,function(k,j){f.getGroupRows(k,e,d,h)},f);return{rows:b,fullWidth:h}}return g},getFireEventArgs:function(g,h,f,d){var j=[g,h,f],i=a.fly(f.nextSibling,"_grouping"),b=a.getDom(i).id,c=h.id+"-gp-",k=b.substr(c.length);j.push(k,d);return j}});a.define("Ext.grid.feature.GroupingSummary",{extend:"Ext.grid.feature.Grouping",alias:"feature.groupingsummary",mixins:{summary:"Ext.grid.feature.AbstractSummary"},getFeatureTpl:function(){var b=this.callParent(arguments);if(this.showSummaryRow){b=b.replace("</tpl>","");b+="{[this.printSummaryRow(xindex)]}</tpl>"}return b},getFragmentTpl:function(){var c=this,b=c.callParent();a.apply(b,c.getSummaryFragments());if(c.showSummaryRow){c.summaryGroups=c.view.store.getGroups();c.summaryData=c.generateSummaryData()}return b},getPrintData:function(j){var k=this,f=k.view.headerCt.getColumnsForTpl(),h=0,c=f.length,g=[],b=k.summaryGroups[j-1].name,e=k.summaryData[b],d;for(;h<c;++h){d=f[h];d.gridSummaryValue=this.getColumnValue(d,e);g.push(d)}return g},generateSummaryData:function(){var l=this,h={},n={},p=l.view.store,b=this.getGroupField(),k=p.proxy.reader,d=l.summaryGroups,f=l.view.headerCt.getColumnsForTpl(),g,c,e,m,q,j;for(g=0,c=d.length;g<c;++g){h[d[g].name]={}}if(l.remoteRoot&&k.rawData){m=k.root;k.root=l.remoteRoot;k.buildExtractors(true);a.Array.each(k.getRoot(k.rawData),function(i){h[i[b]]=i;h[i[b]]._remote=true});k.root=m;k.buildExtractors(true)}for(g=0,c=f.length;g<c;++g){j=a.getCmp(f[g].id);e=l.getSummary(p,j.summaryType,j.dataIndex,true);for(q in e){if(e.hasOwnProperty(q)){if(!h[q]._remote){h[q][j.dataIndex]=e[q]}}}}return h}});a.define("Ext.grid.feature.RowBody",{extend:"Ext.grid.feature.Feature",alias:"feature.rowbody",rowBodyHiddenCls:a.baseCSSPrefix+"grid-row-body-hidden",rowBodyTrCls:a.baseCSSPrefix+"grid-rowbody-tr",rowBodyTdCls:a.baseCSSPrefix+"grid-cell-rowbody",rowBodyDivCls:a.baseCSSPrefix+"grid-rowbody",eventPrefix:"rowbody",eventSelector:"."+a.baseCSSPrefix+"grid-rowbody-tr",getRowBody:function(b){return['<tr class="'+this.rowBodyTrCls+' {rowBodyCls}">','<td class="'+this.rowBodyTdCls+'" colspan="{rowBodyColspan}">','<div class="'+this.rowBodyDivCls+'">{rowBody}</div>',"</td>","</tr>"].join("")},getMetaRowTplFragments:function(){return{getRowBody:this.getRowBody,rowBodyTrCls:this.rowBodyTrCls,rowBodyTdCls:this.rowBodyTdCls,rowBodyDivCls:this.rowBodyDivCls}},mutateMetaRowTpl:function(b){b.push("{[this.getRowBody(values)]}")},getAdditionalData:function(d,b,c,g){var e=this.view.headerCt,f=e.getColumnCount();return{rowBody:"",rowBodyCls:this.rowBodyCls,rowBodyColspan:f}}});a.define("Ext.grid.feature.RowWrap",{extend:"Ext.grid.feature.Feature",alias:"feature.rowwrap",hasFeatureEvent:false,mutateMetaRowTpl:function(b){b[0]=b[0].replace(a.baseCSSPrefix+"grid-row","");b[0]=b[0].replace("{[this.embedRowCls()]}","");b.unshift('<table class="'+a.baseCSSPrefix+"grid-table "+a.baseCSSPrefix+'grid-table-resizer" style="width: {[this.embedFullWidth()]}px;">');b.unshift('<tr class="'+a.baseCSSPrefix+'grid-row {[this.embedRowCls()]}"><td colspan="{[this.embedColSpan()]}"><div class="'+a.baseCSSPrefix+'grid-rowwrap-div">');b.push("</table>");b.push("</div></td></tr>")},embedColSpan:function(){return"{colspan}"},embedFullWidth:function(){return"{fullWidth}"},getAdditionalData:function(h,p,k,m){var e=this.view.headerCt,d=e.getColumnCount(),n=e.getFullWidth(),l=e.query("gridcolumn"),q=l.length,g=0,c={colspan:d,fullWidth:n},b,j,f;for(;g<q;g++){b=l[g].id;j=b+"-tdCls";f=a.baseCSSPrefix+"grid-col-resizer-"+b;c[j]=f+" "+(m[j]?m[j]:"");c[b+"-tdAttr"]=' style="width: '+(l[g].hidden?0:l[g].getDesiredWidth())+'px;" ';if(m[b+"-tdAttr"]){c[b+"-tdAttr"]+=m[b+"-tdAttr"]}}return c},getMetaRowTplFragments:function(){return{embedFullWidth:this.embedFullWidth,embedColSpan:this.embedColSpan}}});a.define("Ext.grid.feature.Summary",{extend:"Ext.grid.feature.AbstractSummary",alias:"feature.summary",getFragmentTpl:function(){this.summaryData=this.generateSummaryData();return this.getSummaryFragments()},getTableFragments:function(){if(this.showSummaryRow){return{closeRows:this.closeRows}}},closeRows:function(){return"</tpl>{[this.printSummaryRow()]}"},getPrintData:function(b){var g=this,d=g.view.headerCt.getColumnsForTpl(),c=0,f=d.length,h=[],j=g.summaryData,e;for(;c<f;++c){e=d[c];e.gridSummaryValue=this.getColumnValue(e,j);h.push(e)}return h},generateSummaryData:function(){var h=this,e={},j=h.view.store,d=h.view.headerCt.getColumnsForTpl(),f=0,b=d.length,c,k,g;for(f=0,b=d.length;f<b;++f){g=a.getCmp(d[f].id);e[g.dataIndex]=h.getSummary(j,g.summaryType,g.dataIndex,false)}return e}});a.define("Ext.grid.header.DragZone",{extend:"Ext.dd.DragZone",colHeaderCls:a.baseCSSPrefix+"column-header",maxProxyWidth:120,constructor:function(b){this.headerCt=b;this.ddGroup=this.getDDGroup();this.callParent([b.el]);this.proxy.el.addCls(a.baseCSSPrefix+"grid-col-dd")},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getDragData:function(c){var f=c.getTarget("."+this.colHeaderCls),b;if(f){b=a.getCmp(f.id);if(!this.headerCt.dragging&&b.draggable&&!(b.isOnLeftEdge(c)||b.isOnRightEdge(c))){var d=document.createElement("div");d.innerHTML=a.getCmp(f.id).text;return{ddel:d,header:b}}}return false},onBeforeDrag:function(){return !(this.headerCt.dragging||this.disabled)},onInitDrag:function(){this.headerCt.dragging=true;this.callParent(arguments)},onDragDrop:function(){this.headerCt.dragging=false;this.callParent(arguments)},afterRepair:function(){this.callParent();this.headerCt.dragging=false},getRepairXY:function(){return this.dragData.header.el.getXY()},disable:function(){this.disabled=true},enable:function(){this.disabled=false}});a.define("Ext.grid.header.DropZone",{extend:"Ext.dd.DropZone",colHeaderCls:a.baseCSSPrefix+"column-header",proxyOffsets:[-4,-9],constructor:function(b){this.headerCt=b;this.ddGroup=this.getDDGroup();this.callParent([b.el])},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getTargetFromEvent:function(b){return b.getTarget("."+this.colHeaderCls)},getTopIndicator:function(){if(!this.topIndicator){this.topIndicator=a.core.DomHelper.append(a.getBody(),{cls:"col-move-top",html:"&#160;"},true)}return this.topIndicator},getBottomIndicator:function(){if(!this.bottomIndicator){this.bottomIndicator=a.core.DomHelper.append(a.getBody(),{cls:"col-move-bottom",html:"&#160;"},true)}return this.bottomIndicator},getLocation:function(f,c){var b=f.getXY()[0],d=a.fly(c).getRegion(),h,g;if((d.right-b)<=(d.right-d.left)/2){h="after"}else{h="before"}return{pos:h,header:a.getCmp(c.id),node:c}},positionIndicator:function(y,q,w){var b=this.getLocation(w,q),s=b.header,h=b.pos,g=y.nextSibling("gridcolumn:not([hidden])"),v=y.previousSibling("gridcolumn:not([hidden])"),f,m,t,u,c,d,l,n,z,x;if(!s.draggable&&s.getIndex()==0){return false}this.lastLocation=b;if((y!==s)&&((h==="before"&&g!==s)||(h==="after"&&v!==s))&&!s.isDescendantOf(y)){var p=a.dd.DragDropManager.getRelated(this),k=p.length,r=0,j;for(;r<k;r++){j=p[r];if(j!==this&&j.invalidateDrop){j.invalidateDrop()}}this.valid=true;m=this.getTopIndicator();t=this.getBottomIndicator();if(h==="before"){u="tl";c="bl"}else{u="tr";c="br"}d=s.el.getAnchorXY(u);l=s.el.getAnchorXY(c);n=this.headerCt.el;z=n.getLeft();x=n.getRight();d[0]=a.Number.constrain(d[0],z,x);l[0]=a.Number.constrain(l[0],z,x);d[0]-=4;d[1]-=9;l[0]-=4;m.setXY(d);t.setXY(l);m.show();t.show()}else{this.invalidateDrop()}},invalidateDrop:function(){this.valid=false;this.hideIndicators()},onNodeOver:function(c,b,f,d){if(d.header.el.dom!==c){this.positionIndicator(d.header,c,f)}return this.valid?this.dropAllowed:this.dropNotAllowed},hideIndicators:function(){this.getTopIndicator().hide();this.getBottomIndicator().hide()},onNodeOut:function(){this.hideIndicators()},onNodeDrop:function(f,l,k,g){if(this.valid){this.invalidateDrop();var i=g.header,h=this.lastLocation,n=i.ownerCt,b=n.items.indexOf(i),j=h.header.ownerCt,p=j.items.indexOf(h.header),d=this.headerCt,m,c;if(h.pos==="after"){p++}if(n!==j&&n.lockableInjected&&j.lockableInjected&&j.lockedCt){c=n.up("[scrollerOwner]");c.lock(i,p)}else{if(n!==j&&n.lockableInjected&&j.lockableInjected&&n.lockedCt){c=n.up("[scrollerOwner]");c.unlock(i,p)}else{if((n===j)&&(p>n.items.indexOf(i))){p--}if(n!==j){n.suspendLayout=true;n.remove(i,false);n.suspendLayout=false}if(n.isGroupHeader){if(!n.items.getCount()){m=n.ownerCt;m.suspendLayout=true;m.remove(n,false);n.el.dom.parentNode.removeChild(n.el.dom);m.suspendLayout=false}else{n.minWidth=n.getWidth()-i.getWidth();n.setWidth(n.minWidth)}}j.suspendLayout=true;if(n===j){j.move(b,p)}else{j.insert(p,i)}j.suspendLayout=false;if(j.isGroupHeader){i.savedFlex=i.flex;delete i.flex;i.width=i.getWidth();j.minWidth=j.getWidth()+i.getWidth()-(i.savedFlex?1:0);j.setWidth(j.minWidth)}else{if(i.savedFlex){i.flex=i.savedFlex;delete i.width}}d.purgeCache();d.doLayout();d.onHeaderMoved(i,b,p);if(!n.items.getCount()){n.destroy()}}}}}});a.define("Ext.grid.plugin.Editing",{alias:"editing.editing",requires:["Ext.grid.column.Column","Ext.util.KeyNav"],mixins:{observable:"Ext.util.Observable"},clicksToEdit:2,defaultFieldXType:"textfield",editStyle:"",constructor:function(b){var c=this;a.apply(c,b);c.addEvents("beforeedit","edit","validateedit");c.mixins.observable.constructor.call(c);c.relayEvents(c,["afteredit"],"after")},init:function(b){var c=this;c.grid=b;c.view=b.view;c.initEvents();c.initFieldAccessors(c.view.getGridColumns());b.relayEvents(c,["beforeedit","edit","validateedit"]);b.isEditable=true;b.editingPlugin=b.view.editingPlugin=c},destroy:function(){var d=this,c=d.grid,e=c.headerCt,b=c.events;a.destroy(d.keyNav);d.removeFieldAccessors(c.getView().getGridColumns());d.clearListeners();delete d.grid.editingPlugin;delete d.grid.view.editingPlugin;delete d.grid;delete d.view;delete d.editor;delete d.keyNav},getEditStyle:function(){return this.editStyle},initFieldAccessors:function(b){var c=this;if(a.isArray(b)){a.Array.forEach(b,c.initFieldAccessors,c);return}a.applyIf(b,{getEditor:function(d,e){return c.getColumnField(this,e)},setEditor:function(d){c.setColumnField(this,d)}})},removeFieldAccessors:function(b){var c=this;if(a.isArray(b)){a.Array.forEach(b,c.removeFieldAccessors,c);return}delete b.getEditor;delete b.setEditor},getColumnField:function(c,b){var d=c.field;if(!d&&c.editor){d=c.editor;delete c.editor}if(!d&&b){d=b}if(d){if(a.isString(d)){d={xtype:d}}if(a.isObject(d)&&!d.isFormField){d=a.ComponentManager.create(d,this.defaultFieldXType);c.field=d}a.apply(d,{name:c.dataIndex});return d}},setColumnField:function(b,c){if(a.isObject(c)&&!c.isFormField){c=a.ComponentManager.create(c,this.defaultFieldXType)}b.field=c},initEvents:function(){var b=this;b.initEditTriggers();b.initCancelTriggers()},initCancelTriggers:a.emptyFn,initEditTriggers:function(){var d=this,c=d.view,b=d.clicksToEdit===1?"click":"dblclick";d.mon(c,"cell"+b,d.startEditByClick,d);c.on("render",function(){d.keyNav=a.create("Ext.util.KeyNav",c.el,{enter:d.onEnterKey,esc:d.onEscKey,scope:d})},d,{single:true})},onEnterKey:function(h){var f=this,d=f.grid,c=d.getSelectionModel(),b,g=d.headerCt.getHeaderAtIndex(0);if(c.getCurrentPosition){pos=c.getCurrentPosition();b=d.store.getAt(pos.row);g=d.headerCt.getHeaderAtIndex(pos.column)}else{b=c.getLastSelected()}f.startEdit(b,g)},onEscKey:function(b){this.cancelEdit()},startEditByClick:function(d,b,i,c,h,f,g){this.startEdit(c,d.getHeaderAtIndex(i))},beforeEdit:a.emptyFn,startEdit:function(b,e){var d=this,c=d.getEditingContext(b,e);if(d.beforeEdit(c)===false||d.fireEvent("beforeedit",c)===false||c.cancel){return false}d.context=c;d.editing=true},getEditingContext:function(f,d){var g=this,b=g.grid,j=b.store,c,e,h=b.getView(),i;if(a.isNumber(f)){c=f;f=j.getAt(c)}else{c=j.indexOf(f)}if(a.isNumber(d)){e=d;d=b.headerCt.getHeaderAtIndex(e)}else{e=d.getIndex()}i=f.get(d.dataIndex);return{grid:b,record:f,field:d.dataIndex,value:i,row:h.getNode(c),column:d,rowIdx:c,colIdx:e}},cancelEdit:function(){this.editing=false},completeEdit:function(){var b=this;if(b.editing&&b.validateEdit()){b.fireEvent("edit",b.context)}delete b.context;b.editing=false},validateEdit:function(){var c=this,b=c.context;return c.fireEvent("validateedit",c,b)!==false&&!b.cancel}});a.define("Ext.grid.plugin.CellEditing",{alias:"plugin.cellediting",extend:"Ext.grid.plugin.Editing",requires:["Ext.grid.CellEditor"],constructor:function(){this.callParent(arguments);this.editors=a.create("Ext.util.MixedCollection",false,function(b){return b.editorId})},destroy:function(){var b=this;b.editors.each(a.destroy,a);b.editors.clear();b.callParent(arguments)},onBodyScroll:function(){var b=this.getActiveEditor();if(b&&b.field){if(b.field.triggerBlur){b.field.triggerBlur()}else{b.field.blur()}}},initCancelTriggers:function(){var d=this,c=d.grid,b=c.view;b.addElListener("mousewheel",d.cancelEdit,d);d.mon(b,"bodyscroll",d.onBodyScroll,d);d.mon(c,{columnresize:d.cancelEdit,columnmove:d.cancelEdit,scope:d})},startEdit:function(b,g){var e=this,c=e.getEditor(b,g),f=b.get(g.dataIndex),d=e.getEditingContext(b,g);b=d.record;g=d.column;e.completeEdit();if(g&&!g.getEditor(b)){return false}if(c){d.originalValue=d.value=f;if(e.beforeEdit(d)===false||e.fireEvent("beforeedit",d)===false||d.cancel){return false}e.context=d;e.setActiveEditor(c);e.setActiveRecord(b);e.setActiveColumn(g);a.defer(c.startEdit,15,c,[e.getCell(b,g),f])}else{e.grid.getView().el.focus((a.isWebKit||a.isIE)?10:false)}},completeEdit:function(){var b=this.getActiveEditor();if(b){b.completeEdit()}},setActiveEditor:function(b){this.activeEditor=b},getActiveEditor:function(){return this.activeEditor},setActiveColumn:function(b){this.activeColumn=b},getActiveColumn:function(){return this.activeColumn},setActiveRecord:function(b){this.activeRecord=b},getActiveRecord:function(){return this.activeRecord},getEditor:function(b,e){var g=this,f=g.editors,d=e.itemId||e.id,c=f.getByKey(d);if(c){return c}else{c=e.getEditor(b);if(!c){return false}if(!(c instanceof a.grid.CellEditor)){c=a.create("Ext.grid.CellEditor",{editorId:d,field:c})}c.parentEl=g.grid.getEditorParent();c.on({scope:g,specialkey:g.onSpecialKey,complete:g.onEditComplete,canceledit:g.cancelEdit});f.add(c);return c}},getCell:function(b,c){return this.grid.getView().getCell(b,c)},onSpecialKey:function(b,f,d){var c=this.grid,g;if(d.getKey()===d.TAB){d.stopEvent();g=c.getSelectionModel();if(g.onEditorTab){g.onEditorTab(this,d)}}},onEditComplete:function(c,h,b){var g=this,e=g.grid,i=e.getSelectionModel(),f=g.getActiveColumn(),d;if(f){d=f.dataIndex;g.setActiveEditor(null);g.setActiveColumn(null);g.setActiveRecord(null);delete i.wasEditing;if(!g.validateEdit()){return}if(h!==b){g.context.record.set(d,h)}else{e.getView().el.focus()}g.context.value=h;g.fireEvent("edit",g,g.context)}},cancelEdit:function(){var d=this,c=d.getActiveEditor(),b=d.grid.getView().el;d.setActiveEditor(null);d.setActiveColumn(null);d.setActiveRecord(null);if(c){c.cancelEdit();b.focus()}},startEditByPosition:function(b){var e=this,d=e.grid,g=d.getSelectionModel(),c=d.store.getAt(b.row),f=d.headerCt.getHeaderAtIndex(b.column);if(g.selectByPosition){g.selectByPosition(b)}e.startEdit(c,f)}});a.define("Ext.grid.plugin.DragDrop",{extend:"Ext.AbstractPlugin",alias:"plugin.gridviewdragdrop",uses:["Ext.view.DragZone","Ext.grid.ViewDropZone"],dragText:"{0} selected row{1}",ddGroup:"GridDD",enableDrop:true,enableDrag:true,init:function(b){b.on("render",this.onViewRender,this,{single:true})},destroy:function(){a.destroy(this.dragZone,this.dropZone)},onViewRender:function(b){var c=this;if(c.enableDrag){c.dragZone=a.create("Ext.view.DragZone",{view:b,ddGroup:c.dragGroup||c.ddGroup,dragText:c.dragText})}if(c.enableDrop){c.dropZone=a.create("Ext.grid.ViewDropZone",{view:b,ddGroup:c.dropGroup||c.ddGroup})}}});a.define("Ext.grid.plugin.HeaderReorderer",{extend:"Ext.util.Observable",requires:["Ext.grid.header.DragZone","Ext.grid.header.DropZone"],alias:"plugin.gridheaderreorderer",init:function(b){this.headerCt=b;b.on("render",this.onHeaderCtRender,this)},destroy:function(){a.destroy(this.dragZone,this.dropZone)},onHeaderCtRender:function(){this.dragZone=a.create("Ext.grid.header.DragZone",this.headerCt);this.dropZone=a.create("Ext.grid.header.DropZone",this.headerCt);if(this.disabled){this.dragZone.disable()}},enable:function(){this.disabled=false;if(this.dragZone){this.dragZone.enable()}},disable:function(){this.disabled=true;if(this.dragZone){this.dragZone.disable()}}});a.define("Ext.grid.plugin.HeaderResizer",{extend:"Ext.util.Observable",requires:["Ext.dd.DragTracker","Ext.util.Region"],alias:"plugin.gridheaderresizer",disabled:false,configs:{dynamic:true},colHeaderCls:a.baseCSSPrefix+"column-header",minColWidth:40,maxColWidth:1000,wResizeCursor:"col-resize",eResizeCursor:"col-resize",init:function(b){this.headerCt=b;b.on("render",this.afterHeaderRender,this,{single:true})},destroy:function(){if(this.tracker){this.tracker.destroy()}},afterHeaderRender:function(){var c=this.headerCt,b=c.el;c.mon(b,"mousemove",this.onHeaderCtMouseMove,this);this.tracker=a.create("Ext.dd.DragTracker",{disabled:this.disabled,onBeforeStart:a.Function.bind(this.onBeforeStart,this),onStart:a.Function.bind(this.onStart,this),onDrag:a.Function.bind(this.onDrag,this),onEnd:a.Function.bind(this.onEnd,this),tolerance:3,autoStart:300,el:b})},onHeaderCtMouseMove:function(d,b){if(this.headerCt.dragging){if(this.activeHd){this.activeHd.el.dom.style.cursor="";delete this.activeHd}}else{var g=d.getTarget("."+this.colHeaderCls,3,true),c,f;if(g){c=a.getCmp(g.id);if(c.isOnLeftEdge(d)){f=c.previousNode("gridcolumn:not([hidden]):not([isGroupHeader])")}else{if(c.isOnRightEdge(d)){f=c}else{f=null}}if(f){if(f.isGroupHeader){f=f.getVisibleGridColumns();f=f[f.length-1]}if(f&&!f.fixed){this.activeHd=f;c.el.dom.style.cursor=this.eResizeCursor}}else{c.el.dom.style.cursor="";delete this.activeHd}}}},onBeforeStart:function(c){var b=c.getTarget();this.dragHd=this.activeHd;if(!!this.dragHd&&!a.fly(b).hasCls("x-column-header-trigger")&&!this.headerCt.dragging){this.tracker.constrainTo=this.getConstrainRegion();return true}else{this.headerCt.dragging=false;return false}},getConstrainRegion:function(){var b=this.dragHd.el,c=a.util.Region.getRegion(b);return c.adjust(0,this.maxColWidth-b.getWidth(),0,this.minColWidth)},onStart:function(v){var w=this,h=w.dragHd,c=h.el,p=c.getWidth(),j=w.headerCt,l=v.getTarget();if(w.dragHd&&!a.fly(l).hasCls("x-column-header-trigger")){j.dragging=true}w.origWidth=p;if(!w.dynamic){var f=c.getXY(),s=j.up("[scrollerOwner]"),g=w.dragHd.up(":not([isGroupHeader])"),k=g.up(),d=s.getLhsMarker(),n=s.getRhsMarker(),b=n.parent(),i=b.getLeft(true),u=b.getTop(true),r=b.translatePoints(f),q=k.body.getHeight()+j.getHeight(),m=r.top-u;d.setTop(m);n.setTop(m);d.setHeight(q);n.setHeight(q);d.setLeft(r.left-i);n.setLeft(r.left+p-i)}},onDrag:function(h){if(!this.dynamic){var g=this.tracker.getXY("point"),b=this.headerCt.up("[scrollerOwner]"),i=b.getRhsMarker(),d=i.parent(),c=d.translatePoints(g),f=d.getLeft(true);i.setLeft(c.left-f)}else{this.doResize()}},onEnd:function(h){this.headerCt.dragging=false;if(this.dragHd){if(!this.dynamic){var g=this.dragHd,d=this.headerCt.up("[scrollerOwner]"),f=d.getLhsMarker(),j=d.getRhsMarker(),b=g.getWidth(),i=this.tracker.getOffset("point"),c=-9999;f.setLeft(c);j.setLeft(c)}this.doResize()}},doResize:function(){if(this.dragHd){var c=this.dragHd,b,d=this.tracker.getOffset("point");if(c.flex){delete c.flex}if(this.headerCt.forceFit){b=c.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])");if(b){this.headerCt.componentLayout.layoutBusy=true}}c.minWidth=this.origWidth+d[0];c.setWidth(c.minWidth);if(b){delete b.flex;b.setWidth(b.getWidth()-d[0]);this.headerCt.componentLayout.layoutBusy=false;this.headerCt.doComponentLayout()}}},disable:function(){this.disabled=true;if(this.tracker){this.tracker.disable()}},enable:function(){this.disabled=false;if(this.tracker){this.tracker.enable()}}});a.define("Ext.grid.plugin.RowEditing",{extend:"Ext.grid.plugin.Editing",alias:"plugin.rowediting",requires:["Ext.grid.RowEditor"],editStyle:"row",autoCancel:true,errorSummary:true,constructor:function(){var b=this;b.callParent(arguments);if(!b.clicksToMoveEditor){b.clicksToMoveEditor=b.clicksToEdit}b.autoCancel=!!b.autoCancel},destroy:function(){var b=this;a.destroy(b.editor);b.callParent(arguments)},startEdit:function(b,e){var d=this,c=d.getEditor();if(d.callParent(arguments)===false){return false}if(c.beforeEdit()!==false){c.startEdit(d.context.record,d.context.column)}},cancelEdit:function(){var b=this;if(b.editing){b.getEditor().cancelEdit();b.callParent(arguments)}},completeEdit:function(){var b=this;if(b.editing&&b.validateEdit()){b.editing=false;b.fireEvent("edit",b.context)}},validateEdit:function(){var b=this;return b.callParent(arguments)&&b.getEditor().completeEdit()},getEditor:function(){var b=this;if(!b.editor){b.editor=b.initEditor()}return b.editor},initEditor:function(){var d=this,c=d.grid,b=d.view,e=c.headerCt;return a.create("Ext.grid.RowEditor",{autoCancel:d.autoCancel,errorSummary:d.errorSummary,fields:e.getGridColumns(),hidden:true,editingPlugin:d,renderTo:b.el})},initEditTriggers:function(){var d=this,c=d.grid,b=d.view,f=c.headerCt,e=d.clicksToMoveEditor===1?"click":"dblclick";d.callParent(arguments);if(d.clicksToMoveEditor!==d.clicksToEdit){d.mon(b,"cell"+e,d.moveEditorByClick,d)}b.on("render",function(){d.mon(f,{add:d.onColumnAdd,remove:d.onColumnRemove,columnresize:d.onColumnResize,columnhide:d.onColumnHide,columnshow:d.onColumnShow,columnmove:d.onColumnMove,scope:d})},d,{single:true})},startEditByClick:function(){var b=this;if(!b.editing||b.clicksToMoveEditor===b.clicksToEdit){b.callParent(arguments)}},moveEditorByClick:function(){var b=this;if(b.editing){b.superclass.startEditByClick.apply(b,arguments)}},onColumnAdd:function(b,d){if(d.isHeader){var e=this,c;e.initFieldAccessors(d);c=e.getEditor();if(c&&c.onColumnAdd){c.onColumnAdd(d)}}},onColumnRemove:function(b,d){if(d.isHeader){var e=this,c=e.getEditor();if(c&&c.onColumnRemove){c.onColumnRemove(d)}e.removeFieldAccessors(d)}},onColumnResize:function(b,e,d){if(e.isHeader){var f=this,c=f.getEditor();if(c&&c.onColumnResize){c.onColumnResize(e,d)}}},onColumnHide:function(b,d){var e=this,c=e.getEditor();if(c&&c.onColumnHide){c.onColumnHide(d)}},onColumnShow:function(b,d){var e=this,c=e.getEditor();if(c&&c.onColumnShow){c.onColumnShow(d)}},onColumnMove:function(b,e,d,g){var f=this,c=f.getEditor();if(c&&c.onColumnMove){c.onColumnMove(e,d,g)}},setColumnField:function(b,d){var c=this;c.callParent(arguments);c.getEditor().setField(b.field,b)}});a.define("Ext.grid.property.Grid",{extend:"Ext.grid.Panel",alias:"widget.propertygrid",alternateClassName:"Ext.grid.PropertyGrid",uses:["Ext.grid.plugin.CellEditing","Ext.grid.property.Store","Ext.grid.property.HeaderContainer","Ext.XTemplate","Ext.grid.CellEditor","Ext.form.field.Date","Ext.form.field.Text","Ext.form.field.Number"],valueField:"value",nameField:"name",enableColumnMove:false,columnLines:true,stripeRows:false,trackMouseOver:false,clicksToEdit:1,enableHdMenu:false,initComponent:function(){var b=this;b.addCls(a.baseCSSPrefix+"property-grid");b.plugins=b.plugins||[];b.plugins.push(a.create("Ext.grid.plugin.CellEditing",{clicksToEdit:b.clicksToEdit,startEdit:function(c,d){a.grid.plugin.CellEditing.prototype.startEdit.call(this,c,b.headerCt.child("#"+b.valueField))}}));b.selModel={selType:"cellmodel",onCellSelect:function(c){if(c.column!=1){c.column=1;a.selection.CellModel.prototype.onCellSelect.call(this,c)}}};b.customRenderers=b.customRenderers||{};b.customEditors=b.customEditors||{};if(!b.store){b.propStore=b.store=a.create("Ext.grid.property.Store",b,b.source)}b.store.sort("name","ASC");b.columns=a.create("Ext.grid.property.HeaderContainer",b,b.store);b.addEvents("beforepropertychange","propertychange");b.callParent();b.getView().walkCells=this.walkCells;b.editors={date:a.create("Ext.grid.CellEditor",{field:a.create("Ext.form.field.Date",{selectOnFocus:true})}),string:a.create("Ext.grid.CellEditor",{field:a.create("Ext.form.field.Text",{selectOnFocus:true})}),number:a.create("Ext.grid.CellEditor",{field:a.create("Ext.form.field.Number",{selectOnFocus:true})}),"boolean":a.create("Ext.grid.CellEditor",{field:a.create("Ext.form.field.ComboBox",{editable:false,store:[[true,b.headerCt.trueText],[false,b.headerCt.falseText]]})})};this.store.on("update",b.onUpdate,b)},onUpdate:function(e,b,d){var g=this,c,f;if(d==a.data.Model.EDIT){c=b.get(g.valueField);f=b.modified.value;if(g.fireEvent("beforepropertychange",g.source,b.getId(),c,f)!==false){if(g.source){g.source[b.getId()]=c}b.commit();g.fireEvent("propertychange",g.source,b.getId(),c,f)}else{b.reject()}}},walkCells:function(h,g,f,d,b,c){if(g=="left"){g="up"}else{if(g=="right"){g="down"}}h=a.view.Table.prototype.walkCells.call(this,h,g,f,d,b,c);if(!h.column){h.column=1}return h},getCellEditor:function(b,d){var e=this,f=b.get(e.nameField),g=b.get(e.valueField),c=e.customEditors[f];if(c){if(!(c instanceof a.grid.CellEditor)){if(!(c instanceof a.form.field.Base)){c=a.ComponentManager.create(c,"textfield")}c=e.customEditors[f]=a.create("Ext.grid.CellEditor",{field:c})}}else{if(a.isDate(g)){c=e.editors.date}else{if(a.isNumber(g)){c=e.editors.number}else{if(a.isBoolean(g)){c=e.editors["boolean"]}else{c=e.editors.string}}}}c.editorId=f;return c},beforeDestroy:function(){var b=this;b.callParent();b.destroyEditors(b.editors);b.destroyEditors(b.customEditors);delete b.source},destroyEditors:function(c){for(var b in c){if(c.hasOwnProperty(b)){a.destroy(c[b])}}},setSource:function(b){this.source=b;this.propStore.setSource(b)},getSource:function(){return this.propStore.getSource()},setProperty:function(d,c,b){this.propStore.setValue(d,c,b)},removeProperty:function(b){this.propStore.remove(b)}});a.define("Ext.grid.property.HeaderContainer",{extend:"Ext.grid.header.Container",alternateClassName:"Ext.grid.PropertyColumnModel",nameText:"Name",valueText:"Value",dateFormat:"m/j/Y",trueText:"true",falseText:"false",nameColumnCls:a.baseCSSPrefix+"grid-property-name",constructor:function(c,b){this.grid=c;this.store=b;this.callParent([{items:[{header:this.nameText,width:115,sortable:true,dataIndex:c.nameField,renderer:a.Function.bind(this.renderProp,this),itemId:c.nameField,menuDisabled:true,tdCls:this.nameColumnCls},{header:this.valueText,renderer:a.Function.bind(this.renderCell,this),getEditor:function(d){return c.getCellEditor(d,this)},flex:1,fixed:true,dataIndex:c.valueField,itemId:c.valueField,menuDisabled:true}]}])},renderProp:function(b){return this.getPropertyName(b)},renderCell:function(g,e,f){var c=this,d=this.grid.customRenderers[f.get(c.grid.nameField)],b=g;if(d){return d.apply(this,arguments)}if(a.isDate(g)){b=this.renderDate(g)}else{if(a.isBoolean(g)){b=this.renderBool(g)}}return a.util.Format.htmlEncode(b)},renderDate:a.util.Format.date,renderBool:function(b){return this[b?"trueText":"falseText"]},getPropertyName:function(c){var b=this.grid.propertyNames;return b&&b[c]?b[c]:c}});a.define("Ext.grid.property.Property",{extend:"Ext.data.Model",alternateClassName:"Ext.PropGridProperty",fields:[{name:"name",type:"string"},{name:"value"}],idProperty:"name"});a.define("Ext.grid.property.Store",{extend:"Ext.data.Store",alternateClassName:"Ext.grid.PropertyStore",uses:["Ext.data.reader.Reader","Ext.data.proxy.Proxy","Ext.data.ResultSet","Ext.grid.property.Property"],constructor:function(b,d){var c=this;c.grid=b;c.source=d;c.callParent([{data:d,model:a.grid.property.Property,proxy:c.getProxy()}])},getProxy:function(){if(!this.proxy){a.grid.property.Store.prototype.proxy=a.create("Ext.data.proxy.Memory",{model:a.grid.property.Property,reader:this.getReader()})}return this.proxy},getReader:function(){if(!this.reader){a.grid.property.Store.prototype.reader=a.create("Ext.data.reader.Reader",{model:a.grid.property.Property,buildExtractors:a.emptyFn,read:function(b){return this.readRecords(b)},readRecords:function(c){var e,d,b={records:[],success:true};for(d in c){if(c.hasOwnProperty(d)){e=c[d];if(this.isEditableValue(e)){b.records.push(new a.grid.property.Property({name:d,value:e},d))}}}b.total=b.count=b.records.length;return a.create("Ext.data.ResultSet",b)},isEditableValue:function(b){return a.isPrimitive(b)||a.isDate(b)}})}return this.reader},setSource:function(b){var c=this;c.source=b;c.suspendEvents();c.removeAll();c.proxy.data=b;c.load();c.resumeEvents();c.fireEvent("datachanged",c)},getProperty:function(b){return a.isNumber(b)?this.getAt(b):this.getById(b)},setValue:function(f,d,b){var c=this,e=c.getRec(f);if(e){e.set("value",d);c.source[f]=d}else{if(b){c.source[f]=d;e=new a.grid.property.Property({name:f,value:d},f);c.store.add(e)}}},remove:function(c){var b=this.getRec(c);if(b){store.remove(b);delete this.source[c]}},getRec:function(b){return this.getById(b)},getSource:function(){return this.source}});a.define("Ext.layout.component.Body",{alias:["layout.body"],extend:"Ext.layout.component.Component",uses:["Ext.layout.container.Container"],type:"body",onLayout:function(d,c){var e=this,b=e.owner;e.setTargetSize(d,c);e.setBodySize.apply(e,arguments);if(b&&b.layout&&b.layout.isLayout){if(!a.isNumber(b.height)||!a.isNumber(b.width)){b.layout.bindToOwnerCtComponent=true}else{b.layout.bindToOwnerCtComponent=false}}e.callParent(arguments)},setBodySize:function(f,c){var g=this,b=g.owner,d=b.frameSize,e=a.isNumber;if(e(f)){f-=b.el.getFrameWidth("lr")-d.left-d.right}if(e(c)){c-=b.el.getFrameWidth("tb")-d.top-d.bottom}g.setElementSize(b.body,f,c)}});a.define("Ext.layout.component.FieldSet",{extend:"Ext.layout.component.Body",alias:["layout.fieldset"],type:"fieldset",doContainerLayout:function(){if(!this.owner.collapsed){this.callParent()}}});a.define("Ext.layout.component.Tab",{alias:["layout.tab"],extend:"Ext.layout.component.Button",beforeLayout:function(){var c=this,b=c.lastClosable!==c.owner.closable;if(b){delete c.adjWidth}return this.callParent(arguments)||b},onLayout:function(){var b=this;b.callParent(arguments);b.lastClosable=b.owner.closable}});a.define("Ext.layout.component.field.File",{alias:["layout.filefield"],extend:"Ext.layout.component.field.Field",type:"filefield",sizeBodyContents:function(d,c){var e=this,b=e.owner;if(!b.buttonOnly){e.setElementSize(b.inputEl,a.isNumber(d)?d-b.button.getWidth()-b.buttonMargin:d)}}});a.define("Ext.layout.component.field.Slider",{alias:["layout.sliderfield"],extend:"Ext.layout.component.field.Field",type:"sliderfield",sizeBodyContents:function(b,k){var c=this.owner,g=c.thumbs,d=g.length,j=c.inputEl,h=c.innerEl,f=c.endEl,e=0;for(;e<d;++e){g[e].el.stopAnimation()}if(c.vertical){j.setHeight(k);h.setHeight(a.isNumber(k)?k-j.getPadding("t")-f.getPadding("b"):k)}else{j.setWidth(b);h.setWidth(a.isNumber(b)?b-j.getPadding("l")-f.getPadding("r"):b)}c.syncThumbs()}});a.define("Ext.layout.container.Absolute",{alias:"layout.absolute",extend:"Ext.layout.container.Anchor",requires:["Ext.chart.axis.Axis","Ext.fx.Anim"],alternateClassName:"Ext.layout.AbsoluteLayout",itemCls:a.baseCSSPrefix+"abs-layout-item",type:"absolute",onLayout:function(){var c=this,d=c.getTarget(),b=d.dom===document.body;if(!b){d.position()}c.paddingLeft=d.getPadding("l");c.paddingTop=d.getPadding("t");c.callParent(arguments)},adjustWidthAnchor:function(c,b){return c?c-b.getPosition(true)[0]:c},adjustHeightAnchor:function(c,b){return c?c-b.getPosition(true)[1]:c}});a.define("Ext.layout.container.Accordion",{extend:"Ext.layout.container.VBox",alias:["layout.accordion"],alternateClassName:"Ext.layout.AccordionLayout",align:"stretch",fill:true,autoWidth:true,titleCollapse:true,hideCollapseTool:false,collapseFirst:false,animate:true,activeOnTop:false,multi:false,constructor:function(){var b=this;b.callParent(arguments);b.initialAnimate=b.animate;b.animate=false;if(b.fill===false){b.itemCls=a.baseCSSPrefix+"accordion-item"}},beforeLayout:function(){var b=this;b.callParent(arguments);if(b.fill){if(!b.owner.el.dom.style.height){return false}}else{b.owner.componentLayout.monitorChildren=false;b.autoSize=true;b.owner.setAutoScroll(true)}},renderItems:function(h,f){var j=this,g=h.length,d=0,e,c=j.getLayoutTargetSize(),k=[],b;for(;d<g;d++){e=h[d];if(!e.rendered){k.push(e);if(j.collapseFirst){e.collapseFirst=j.collapseFirst}if(j.hideCollapseTool){e.hideCollapseTool=j.hideCollapseTool;e.titleCollapse=true}else{if(j.titleCollapse){e.titleCollapse=j.titleCollapse}}delete e.hideHeader;e.collapsible=true;e.title=e.title||"&#160;";e.setBorder(false);e.width=c.width;if(j.fill){delete e.height;delete e.flex;if(j.expandedItem!==undefined){e.collapsed=true}else{if(e.collapsed===false){e.flex=1;j.expandedItem=d}else{e.collapsed=true}}}else{delete e.flex;e.animCollapse=j.initialAnimate;e.autoHeight=true;e.autoScroll=false}}}if(g&&j.expandedItem===undefined){j.expandedItem=0;e=h[0];e.collapsed=false;if(j.fill){e.flex=1}}j.callParent(arguments);g=k.length;for(d=0;d<g;d++){e=k[d];delete e.width;e.header.addCls(a.baseCSSPrefix+"accordion-hd");e.body.addCls(a.baseCSSPrefix+"accordion-body");if(j.fill){j.owner.mon(e,{show:j.onComponentShow,beforeexpand:j.onComponentExpand,beforecollapse:j.onComponentCollapse,scope:j})}}},onLayout:function(){var g=this;g.updatePanelClasses();if(g.fill){g.callParent(arguments)}else{var f=g.getLayoutTargetSize(),d=g.getVisibleItems(),b=d.length,e=0,c;for(;e<b;e++){c=d[e];if(c.collapsed){d[e].setWidth(f.width)}else{d[e].setSize(null,null)}}}return g},updatePanelClasses:function(){var d=this.getLayoutItems(),e=d.length,b=true,c,f;for(c=0;c<e;c++){f=d[c];if(!b){f.header.addCls(a.baseCSSPrefix+"accordion-hd-sibling-expanded")}else{f.header.removeCls(a.baseCSSPrefix+"accordion-hd-sibling-expanded")}if(c+1==e&&f.collapsed){f.header.addCls(a.baseCSSPrefix+"accordion-hd-last-collapsed")}else{f.header.removeCls(a.baseCSSPrefix+"accordion-hd-last-collapsed")}b=f.collapsed}},onComponentExpand:function(g){var f=this,e=f.owner.items.items,b=e.length,d=0,c;for(;d<b;d++){c=e[d];if(c===g&&c.collapsed){f.setExpanded(c)}else{if(!f.multi&&(c.rendered&&c.header.rendered&&c!==g&&!c.collapsed)){f.setCollapsed(c)}}}f.animate=f.initialAnimate;f.layout();f.animate=false;return false},onComponentCollapse:function(c){var d=this,e=c.next()||c.prev(),b=d.multi?d.owner.query(">panel:not([collapsed])"):[];if(d.multi){d.setCollapsed(c);if(b.length===1&&b[0]===c){d.setExpanded(e)}d.animate=d.initialAnimate;d.layout();d.animate=false}else{if(e){d.onComponentExpand(e)}}return false},onComponentShow:function(b){this.onComponentExpand(b)},setCollapsed:function(c){var f=c.getDockedItems(),e,b=f.length,d=0;c.hiddenDocked=[];for(;d<b;d++){e=f[d];if((e!==c.header)&&!e.hidden){e.hidden=true;c.hiddenDocked.push(e)}}c.addCls(c.collapsedCls);c.header.addCls(c.collapsedHeaderCls);c.height=c.header.getHeight();c.el.setHeight(c.height);c.collapsed=true;delete c.flex;c.fireEvent("collapse",c);if(c.collapseTool){c.collapseTool.setType("expand-"+c.getOppositeDirection(c.collapseDirection))}},setExpanded:function(c){var e=c.hiddenDocked,b=e?e.length:0,d=0;for(;d<b;d++){e[d].show()}if(!c.body.isVisible()){c.body.show()}delete c.collapsed;delete c.height;delete c.componentLayout.lastComponentSize;c.suspendLayout=false;c.flex=1;c.removeCls(c.collapsedCls);c.header.removeCls(c.collapsedHeaderCls);c.fireEvent("expand",c);if(c.collapseTool){c.collapseTool.setType("collapse-"+c.collapseDirection)}c.setAutoScroll(c.initialConfig.autoScroll)}});a.define("Ext.resizer.Splitter",{extend:"Ext.Component",requires:["Ext.XTemplate"],uses:["Ext.resizer.SplitterTracker"],alias:"widget.splitter",renderTpl:['<tpl if="collapsible===true"><div class="'+a.baseCSSPrefix+"collapse-el "+a.baseCSSPrefix+'layout-split-{collapseDir}">&nbsp;</div></tpl>'],baseCls:a.baseCSSPrefix+"splitter",collapsedCls:a.baseCSSPrefix+"splitter-collapsed",collapsible:false,collapseOnDblClick:true,defaultSplitMin:40,defaultSplitMax:1000,width:5,height:5,collapseTarget:"next",onRender:function(){var b=this,c=b.getCollapseTarget(),d=b.getCollapseDirection();a.applyIf(b.renderData,{collapseDir:d,collapsible:b.collapsible||c.collapsible});a.applyIf(b.renderSelectors,{collapseEl:"."+a.baseCSSPrefix+"collapse-el"});this.callParent(arguments);if(b.performCollapse!==false){if(b.renderData.collapsible){b.mon(b.collapseEl,"click",b.toggleTargetCmp,b)}if(b.collapseOnDblClick){b.mon(b.el,"dblclick",b.toggleTargetCmp,b)}}b.mon(c,"collapse",b.onTargetCollapse,b);b.mon(c,"expand",b.onTargetExpand,b);b.el.addCls(b.baseCls+"-"+b.orientation);b.el.unselectable();b.tracker=a.create("Ext.resizer.SplitterTracker",{el:b.el});b.relayEvents(b.tracker,["beforedragstart","dragstart","dragend"])},getCollapseDirection:function(){var d=this,b,c=d.ownerCt.layout.type;if(d.collapseTarget.isComponent){b=Number(d.ownerCt.items.indexOf(d.collapseTarget)==d.ownerCt.items.indexOf(d)-1)<<1|Number(c=="hbox")}else{b=Number(d.collapseTarget=="prev")<<1|Number(c=="hbox")}d.orientation=["horizontal","vertical"][b&1];return["bottom","right","top","left"][b]},getCollapseTarget:function(){return this.collapseTarget.isComponent?this.collapseTarget:this.collapseTarget=="prev"?this.previousSibling():this.nextSibling()},onTargetCollapse:function(b){this.el.addCls(this.collapsedCls)},onTargetExpand:function(b){this.el.removeCls(this.collapsedCls)},toggleTargetCmp:function(d,b){var c=this.getCollapseTarget();if(c.isVisible()){if(c.collapsed){c.expand(c.animCollapse)}else{c.collapse(this.renderData.collapseDir,c.animCollapse)}}},setSize:function(){var b=this;b.callParent(arguments);if(a.isIE){b.el.repaint()}}});a.define("Ext.layout.container.Border",{alias:["layout.border"],extend:"Ext.layout.container.Container",requires:["Ext.resizer.Splitter","Ext.container.Container","Ext.fx.Anim"],alternateClassName:"Ext.layout.BorderLayout",targetCls:a.baseCSSPrefix+"border-layout-ct",itemCls:a.baseCSSPrefix+"border-item",bindToOwnerCtContainer:true,fixedLayout:false,percentageRe:/(\d+)%/,slideDirection:{north:"t",south:"b",west:"l",east:"r"},constructor:function(b){this.initialConfig=b;this.callParent(arguments)},onLayout:function(){var b=this;if(!b.borderLayoutInitialized){b.initializeBorderLayout()}b.fixHeightConstraints();b.shadowLayout.onLayout();if(b.embeddedContainer){b.embeddedContainer.layout.onLayout()}if(!b.initialCollapsedComplete){a.iterate(b.regions,function(c,d){if(d.borderCollapse){b.onBeforeRegionCollapse(d,d.collapseDirection,false,0)}});b.initialCollapsedComplete=true}},isValidParent:function(c,d,b){if(!this.borderLayoutInitialized){this.initializeBorderLayout()}return this.shadowLayout.isValidParent(c,d,b)},beforeLayout:function(){if(!this.borderLayoutInitialized){this.initializeBorderLayout()}this.shadowLayout.beforeLayout()},renderItems:function(b,c){},renderItem:function(b){},initializeBorderLayout:function(){var k=this,d=0,j=k.getLayoutItems(),h=j.length,c=(k.regions={}),f=[],g=[],b=0,m=0,e,l;k.splitters={};for(;d<h;d++){e=j[d];c[e.region]=e;if(e.region!="center"&&e.collapsible&&e.collapseMode!="header"){e.borderCollapse=e.collapsed;delete e.collapsed;e.on({beforecollapse:k.onBeforeRegionCollapse,beforeexpand:k.onBeforeRegionExpand,destroy:k.onRegionDestroy,scope:k});k.setupState(e)}}e=c.center;if(!e.flex){e.flex=1}delete e.width;e.maintainFlex=true;e=c.west;if(e){e.collapseDirection=a.Component.DIRECTION_LEFT;g.push(e);if(e.split){g.push(k.splitters.west=k.createSplitter(e))}l=a.isString(e.width)&&e.width.match(k.percentageRe);if(l){b+=(e.flex=parseInt(l[1],10)/100);delete e.width}}e=c.north;if(e){e.collapseDirection=a.Component.DIRECTION_TOP;f.push(e);if(e.split){f.push(k.splitters.north=k.createSplitter(e))}l=a.isString(e.height)&&e.height.match(k.percentageRe);if(l){m+=(e.flex=parseInt(l[1],10)/100);delete e.height}}if(c.north||c.south){if(c.east||c.west){f.push(k.embeddedContainer=a.create("Ext.container.Container",{xtype:"container",region:"center",id:k.owner.id+"-embedded-center",cls:a.baseCSSPrefix+"border-item",flex:c.center.flex,maintainFlex:true,layout:{type:"hbox",align:"stretch"}}));g.push(c.center)}else{f.push(c.center)}}else{g.push(c.center)}e=c.south;if(e){e.collapseDirection=a.Component.DIRECTION_BOTTOM;if(e.split){f.push(k.splitters.south=k.createSplitter(e))}l=a.isString(e.height)&&e.height.match(k.percentageRe);if(l){m+=(e.flex=parseInt(l[1],10)/100);delete e.height}f.push(e)}e=c.east;if(e){e.collapseDirection=a.Component.DIRECTION_RIGHT;if(e.split){g.push(k.splitters.east=k.createSplitter(e))}l=a.isString(e.width)&&e.width.match(k.percentageRe);if(l){b+=(e.flex=parseInt(l[1],10)/100);delete e.width}g.push(e)}if(c.north||c.south){k.shadowContainer=a.create("Ext.container.Container",{ownerCt:k.owner,el:k.getTarget(),layout:a.applyIf({type:"vbox",align:"stretch"},k.initialConfig)});k.createItems(k.shadowContainer,f);if(k.splitters.north){k.splitters.north.ownerCt=k.shadowContainer}if(k.splitters.south){k.splitters.south.ownerCt=k.shadowContainer}if(k.embeddedContainer){k.embeddedContainer.ownerCt=k.shadowContainer;k.createItems(k.embeddedContainer,g);if(k.splitters.east){k.splitters.east.ownerCt=k.embeddedContainer}if(k.splitters.west){k.splitters.west.ownerCt=k.embeddedContainer}a.each([k.splitters.north,k.splitters.south],function(i){if(i){i.on("beforedragstart",k.fixHeightConstraints,k)}});if(b){c.center.flex-=b}if(m){k.embeddedContainer.flex-=m}}else{if(m){c.center.flex-=m}}}else{k.shadowContainer=a.create("Ext.container.Container",{ownerCt:k.owner,el:k.getTarget(),layout:a.applyIf({type:(g.length==1)?"fit":"hbox",align:"stretch"},k.initialConfig)});k.createItems(k.shadowContainer,g);if(k.splitters.east){k.splitters.east.ownerCt=k.shadowContainer}if(k.splitters.west){k.splitters.west.ownerCt=k.shadowContainer}if(b){c.center.flex-=m}}for(d=0,j=k.shadowContainer.items.items,h=j.length;d<h;d++){j[d].shadowOwnerCt=k.shadowContainer}if(k.embeddedContainer){for(d=0,j=k.embeddedContainer.items.items,h=j.length;d<h;d++){j[d].shadowOwnerCt=k.embeddedContainer}}k.shadowLayout=k.shadowContainer.getLayout();k.borderLayoutInitialized=true},setupState:function(c){var b=c.getState;c.getState=function(){var d=b.call(c)||{},e=c.region;d.collapsed=!!c.collapsed;if(e=="west"||e=="east"){d.width=c.getWidth()}else{d.height=c.getHeight()}return d};c.addStateEvents(["collapse","expand","resize"])},createItems:function(b,c){delete b.items;b.initItems();b.items.addAll(c)},createSplitter:function(b){var c=this,d=(b.collapseMode!="header"),e;e=a.create("Ext.resizer.Splitter",{hidden:!!b.hidden,collapseTarget:b,performCollapse:!d,listeners:d?{click:{fn:a.Function.bind(c.onSplitterCollapseClick,c,[b]),element:"collapseEl"}}:null});if(b.collapseMode=="mini"){b.placeholder=e}b.on({hide:c.onRegionVisibilityChange,show:c.onRegionVisibilityChange,scope:c});return e},fixHeightConstraints:function(){var d=this,b=d.embeddedContainer,c=1e+99,e=-1;if(!b){return}b.items.each(function(f){if(a.isNumber(f.maxHeight)){c=Math.max(c,f.maxHeight)}if(a.isNumber(f.minHeight)){e=Math.max(e,f.minHeight)}});b.maxHeight=c;b.minHeight=e},onRegionVisibilityChange:function(b){this.splitters[b.region][b.hidden?"hide":"show"]();this.layout()},onSplitterCollapseClick:function(b){if(b.collapsed){this.onPlaceHolderToolClick(null,null,null,{client:b})}else{b.collapse()}},getPlaceholder:function(d){var e=this,g=d.placeholder,c=d.shadowOwnerCt,f=c.layout,b=a.panel.Panel.prototype.getOppositeDirection(d.collapseDirection),h=(d.region=="north"||d.region=="south");if(d.collapseMode=="header"){return}if(!g){if(d.collapseMode=="mini"){g=a.create("Ext.resizer.Splitter",{id:"collapse-placeholder-"+d.id,collapseTarget:d,performCollapse:false,listeners:{click:{fn:a.Function.bind(e.onSplitterCollapseClick,e,[d]),element:"collapseEl"}}});g.addCls(g.collapsedCls)}else{g={id:"collapse-placeholder-"+d.id,margins:d.initialConfig.margins||a.getClass(d).prototype.margins,xtype:"header",orientation:h?"horizontal":"vertical",title:d.title,textCls:d.headerTextCls,iconCls:d.iconCls,baseCls:d.baseCls+"-header",ui:d.ui,indicateDrag:d.draggable,cls:a.baseCSSPrefix+"region-collapsed-placeholder "+a.baseCSSPrefix+"region-collapsed-"+d.collapseDirection+"-placeholder",listeners:d.floatable?{click:{fn:function(i){e.floatCollapsedPanel(i,d)},element:"el"}}:null};if((a.isIE6||a.isIE7||(a.isIEQuirks))&&!h){g.width=25}if(!d.hideCollapseTool){g[h?"tools":"items"]=[{xtype:"tool",client:d,type:"expand-"+b,handler:e.onPlaceHolderToolClick,scope:e}]}}g=e.owner.createComponent(g);if(d.isXType("panel")){d.on({titlechange:e.onRegionTitleChange,iconchange:e.onRegionIconChange,scope:e})}}d.placeholder=g;g.comp=d;return g},onRegionTitleChange:function(b,c){b.placeholder.setTitle(c)},onRegionIconChange:function(c,b){c.placeholder.setIconCls(b)},calculateChildBox:function(b){var c=this;if(c.shadowContainer.items.contains(b)){return c.shadowContainer.layout.calculateChildBox(b)}else{if(c.embeddedContainer&&c.embeddedContainer.items.contains(b)){return c.embeddedContainer.layout.calculateChildBox(b)}}},onBeforeRegionCollapse:function(h,k,e){var j=this,p=h.el,d,c=h.collapseMode=="mini",i=h.shadowOwnerCt,b=i.layout,m=h.placeholder,g=j.owner.suspendLayout,l=i.suspendLayout,n=(h.region=="north"||h.region=="west");j.owner.suspendLayout=true;i.suspendLayout=true;b.layoutBusy=true;if(i.componentLayout){i.componentLayout.layoutBusy=true}j.shadowContainer.layout.layoutBusy=true;j.layoutBusy=true;j.owner.componentLayout.layoutBusy=true;if(!m){m=j.getPlaceholder(h)}if(m.shadowOwnerCt===i){m.show()}else{i.insert(i.items.indexOf(h)+(n?0:1),m);m.shadowOwnerCt=i;m.ownerCt=j.owner}h.hidden=true;if(!m.rendered){b.renderItem(m,b.innerCt);if(h.region=="north"||h.region=="south"){m.setCalculatedSize(h.getWidth())}else{m.setCalculatedSize(undefined,h.getHeight())}}function f(){j.owner.suspendLayout=g;i.suspendLayout=l;delete b.layoutBusy;if(i.componentLayout){delete i.componentLayout.layoutBusy}delete j.shadowContainer.layout.layoutBusy;delete j.layoutBusy;delete j.owner.componentLayout.layoutBusy;h.collapsed=true;h.fireEvent("collapse",h)}if(h.animCollapse&&j.initialCollapsedComplete){b.layout();p.dom.style.zIndex=100;if(!c){m.el.hide()}p.slideOut(j.slideDirection[h.region],{duration:a.Number.from(h.animCollapse,a.fx.Anim.prototype.duration),listeners:{afteranimate:function(){p.show().setLeftTop(-10000,-10000);p.dom.style.zIndex="";if(!c){m.el.slideIn(j.slideDirection[h.region],{easing:"linear",duration:100})}f()}}})}else{p.setLeftTop(-10000,-10000);b.layout();f()}return false},onBeforeRegionExpand:function(c,b){this.onPlaceHolderToolClick(null,null,null,{client:c});return false},onPlaceHolderToolClick:function(n,u,b,d){var t=this,q=d.client,i=(q.collapseMode!="mini")||!q.split,s=q.el,k,f=q.placeholder,l=f.el,r=q.shadowOwnerCt,c=r.layout,j,p=t.owner.suspendLayout,m=r.suspendLayout,h;if(q.getActiveAnimation()){q.stopAnimation()}if(q.slideOutAnim){s.un(q.panelMouseMon);l.un(q.placeholderMouseMon);delete q.slideOutAnim;delete q.panelMouseMon;delete q.placeholderMouseMon;h=true}t.owner.suspendLayout=true;r.suspendLayout=true;c.layoutBusy=true;if(r.componentLayout){r.componentLayout.layoutBusy=true}t.shadowContainer.layout.layoutBusy=true;t.layoutBusy=true;t.owner.componentLayout.layoutBusy=true;q.hidden=false;q.collapsed=false;if(i){f.hidden=true}k=c.calculateChildBox(q);if(q.collapseTool){q.collapseTool.show()}if(q.animCollapse&&!h){s.setStyle("visibility","hidden")}s.setLeftTop(k.left,k.top);j=q.getSize();if(j.height!=k.height||j.width!=k.width){t.setItemSize(q,k.width,k.height)}function g(){t.owner.suspendLayout=p;r.suspendLayout=m;delete c.layoutBusy;if(r.componentLayout){delete r.componentLayout.layoutBusy}delete t.shadowContainer.layout.layoutBusy;delete t.layoutBusy;delete t.owner.componentLayout.layoutBusy;q.removeCls(a.baseCSSPrefix+"border-region-slide-in");q.fireEvent("expand",q)}if(i){f.el.hide()}if(q.animCollapse&&!h){s.dom.style.zIndex=100;s.slideIn(t.slideDirection[q.region],{duration:a.Number.from(q.animCollapse,a.fx.Anim.prototype.duration),listeners:{afteranimate:function(){s.dom.style.zIndex="";q.hidden=false;c.onLayout();g()}}})}else{c.onLayout();g()}},floatCollapsedPanel:function(j,h){if(h.floatable===false){return}var k=this,q=h.el,n=h.placeholder,p=n.el,i=h.shadowOwnerCt,c=i.layout,g=c.getChildBox(n),m=i.suspendLayout,b,f,l;if(j.getTarget("."+a.baseCSSPrefix+"tool")){return}if(q.getActiveAnimation()){return}if(h.slideOutAnim){k.slideOutFloatedComponent(h);return}function d(s){var r=q.getRegion().union(p.getRegion()).adjust(1,-1,-1,1);if(!r.contains(s.getPoint())){k.slideOutFloatedComponent(h)}}h.placeholderMouseMon=p.monitorMouseLeave(500,d);i.suspendLayout=true;k.layoutBusy=true;k.owner.componentLayout.layoutBusy=true;if(h.collapseTool){h.collapseTool.hide()}h.hidden=false;h.collapsed=false;n.hidden=true;f=c.calculateChildBox(h);n.hidden=false;if(h.region=="north"||h.region=="west"){f[c.parallelBefore]+=g[c.parallelPrefix]-1}else{f[c.parallelBefore]-=(g[c.parallelPrefix]-1)}q.setStyle("visibility","hidden");q.setLeftTop(f.left,f.top);b=h.getSize();if(b.height!=f.height||b.width!=f.width){k.setItemSize(h,f.width,f.height)}l={listeners:{afteranimate:function(){i.suspendLayout=m;delete k.layoutBusy;delete k.owner.componentLayout.layoutBusy;l.listeners={afterAnimate:function(){q.show().removeCls(a.baseCSSPrefix+"border-region-slide-in").setLeftTop(-10000,-10000);h.hidden=true;h.collapsed=true;delete h.slideOutAnim;delete h.panelMouseMon;delete h.placeholderMouseMon}};h.slideOutAnim=l}},duration:500};q.addCls(a.baseCSSPrefix+"border-region-slide-in");q.slideIn(k.slideDirection[h.region],l);h.panelMouseMon=q.monitorMouseLeave(500,d)},slideOutFloatedComponent:function(b){var d=b.el,c;d.un(b.panelMouseMon);b.placeholder.el.un(b.placeholderMouseMon);d.slideOut(this.slideDirection[b.region],b.slideOutAnim);delete b.slideOutAnim;delete b.panelMouseMon;delete b.placeholderMouseMon},onRegionDestroy:function(b){var c=b.placeholder;if(c){delete c.ownerCt;c.destroy()}},onDestroy:function(){var c=this,b=c.shadowContainer,d=c.embeddedContainer;if(b){delete b.ownerCt;a.destroy(b)}if(d){delete d.ownerCt;a.destroy(d)}delete c.regions;delete c.splitters;delete c.shadowContainer;delete c.embeddedContainer;c.callParent(arguments)}});a.define("Ext.layout.container.Card",{alias:["layout.card"],alternateClassName:"Ext.layout.CardLayout",extend:"Ext.layout.container.AbstractCard",setActiveItem:function(c){var f=this,b=f.owner,e=f.activeItem,d;f.layoutBusy=true;c=f.parseActiveItem(c);d=b.items.indexOf(c);if(d==-1){d=b.items.items.length;b.add(c)}if(c&&e!=c){if(!c.rendered){f.renderItem(c,f.getRenderTarget(),b.items.length);f.configureItem(c,0)}f.activeItem=c;if(c.fireEvent("beforeactivate",c,e)===false){f.layoutBusy=false;return false}if(e&&e.fireEvent("beforedeactivate",e,c)===false){f.layoutBusy=false;return false}if(!f.sizeAllCards){f.setItemBox(c,f.getTargetBox())}else{f.onLayout()}if(e){if(f.hideInactive){e.hide()}e.fireEvent("deactivate",e,c)}if(c.hidden){c.show()}c.fireEvent("activate",c,e);f.layoutBusy=false;if(!f.sizeAllCards){if(!b.componentLayout.layoutBusy){f.onLayout()}}return c}f.layoutBusy=false;return false}});a.define("Ext.layout.container.Column",{extend:"Ext.layout.container.Auto",alias:["layout.column"],alternateClassName:"Ext.layout.ColumnLayout",type:"column",itemCls:a.baseCSSPrefix+"column",targetCls:a.baseCSSPrefix+"column-layout-ct",scrollOffset:0,bindToOwnerCtComponent:false,getRenderTarget:function(){if(!this.innerCt){this.innerCt=this.getTarget().createChild({cls:a.baseCSSPrefix+"column-inner"});this.clearEl=this.innerCt.createChild({cls:a.baseCSSPrefix+"clear",role:"presentation"})}return this.innerCt},onLayout:function(){var h=this,f=h.getTarget(),g=h.getLayoutItems(),e=g.length,k,d,l=[],c,m,j,b;m=h.getLayoutTargetSize();if(m.width<e*10){return}if(h.adjustmentPass){if(a.isIE6||a.isIE7||a.isIEQuirks){m.width=h.adjustedWidth}}else{d=f.getStyle("overflow");if(d&&d!="hidden"){h.autoScroll=true;if(!(a.isIE6||a.isIE7||a.isIEQuirks)){f.setStyle("overflow","hidden");m=h.getLayoutTargetSize()}}}j=m.width-h.scrollOffset;h.innerCt.setWidth(j);for(d=0;d<e;d++){k=g[d];c=l[d]=k.getEl().getMargin("lr");if(!k.columnWidth){j-=(k.getWidth()+c)}}j=j<0?0:j;for(d=0;d<e;d++){k=g[d];if(k.columnWidth){b=Math.floor(k.columnWidth*j)-l[d];if(k.getWidth()!=b){h.setItemSize(k,b,k.height)}}}if(!h.adjustmentPass&&h.autoScroll){f.setStyle("overflow","auto");h.adjustmentPass=(f.dom.scrollHeight>m.height);if(a.isIE6||a.isIE7||a.isIEQuirks){h.adjustedWidth=m.width-a.getScrollBarWidth()}else{f.setStyle("overflow","auto")}if(h.adjustmentPass){h.onLayout()}}delete h.adjustmentPass}});a.define("Ext.layout.container.Table",{alias:["layout.table"],extend:"Ext.layout.container.Auto",alternateClassName:"Ext.layout.TableLayout",monitorResize:false,type:"table",autoSize:true,clearEl:true,targetCls:a.baseCSSPrefix+"table-layout-ct",tableCls:a.baseCSSPrefix+"table-layout",cellCls:a.baseCSSPrefix+"table-layout-cell",tableAttrs:null,renderItems:function(h){var f=this.getTable().tBodies[0],p=f.rows,e=0,g=h.length,n,l,d,b,m,k,j,c;n=this.calculateCells(h);for(;e<g;e++){l=n[e];d=l.rowIdx;b=l.cellIdx;m=h[e];k=p[d];if(!k){k=f.insertRow(d)}c=j=a.get(k.cells[b]||k.insertCell(b));if(this.needsDivWrap()){c=j.first()||j.createChild({tag:"div"});c.setWidth(null)}if(!m.rendered){this.renderItem(m,c,0)}else{if(!this.isValidParent(m,c,0)){this.moveItem(m,c,0)}}j.set({colSpan:m.colspan||1,rowSpan:m.rowspan||1,id:m.cellId||"",cls:this.cellCls+" "+(m.cellCls||"")});if(!n[e+1]||n[e+1].rowIdx!==d){b++;while(k.cells[b]){k.deleteCell(b)}}}d++;while(f.rows[d]){f.deleteRow(d)}},afterLayout:function(){this.callParent();if(this.needsDivWrap()){a.Array.forEach(this.getLayoutItems(),function(b){a.fly(b.el.dom.parentNode).setWidth(b.getWidth())})}},calculateCells:function(k){var m=[],c=0,e=0,b=0,h=this.columns||Infinity,n=[],f=0,d,g=k.length,l;for(;f<g;f++){l=k[f];while(e>=h||n[e]>0){if(e>=h){e=0;b=0;c++;for(d=0;d<h;d++){if(n[d]>0){n[d]--}}}else{e++}}m.push({rowIdx:c,cellIdx:b});n[e]=l.rowspan||1;e+=l.colspan||1;b++}return m},getTable:function(){var b=this.table;if(!b){b=this.table=this.getTarget().createChild(a.apply({tag:"table",role:"presentation",cls:this.tableCls,cellspacing:0,cn:{tag:"tbody"}},this.tableAttrs),null,true)}return b},needsDivWrap:function(){return a.isOpera10_5}});a.define("Ext.menu.Item",{extend:"Ext.Component",alias:"widget.menuitem",alternateClassName:"Ext.menu.TextItem",activeCls:a.baseCSSPrefix+"menu-item-active",ariaRole:"menuitem",canActivate:true,clickHideDelay:1,destroyMenu:true,disabledCls:a.baseCSSPrefix+"menu-item-disabled",hideOnClick:true,isMenuItem:true,menuAlign:"tl-tr?",menuExpandDelay:200,menuHideDelay:200,renderTpl:['<tpl if="plain">',"{text}","</tpl>",'<tpl if="!plain">','<a class="'+a.baseCSSPrefix+'menu-item-link" href="{href}" <tpl if="hrefTarget">target="{hrefTarget}"</tpl> hidefocus="true" unselectable="on">','<img src="{icon}" class="'+a.baseCSSPrefix+'menu-item-icon {iconCls}" />','<span class="'+a.baseCSSPrefix+'menu-item-text" <tpl if="menu">style="margin-right: 17px;"</tpl> >{text}</span>','<tpl if="menu">','<img src="'+a.BLANK_IMAGE_URL+'" class="'+a.baseCSSPrefix+'menu-item-arrow" />',"</tpl>","</a>","</tpl>"],maskOnDisable:false,activate:function(){var b=this;if(!b.activated&&b.canActivate&&b.rendered&&!b.isDisabled()&&b.isVisible()){b.el.addCls(b.activeCls);b.focus();b.activated=true;b.fireEvent("activate",b)}},blur:function(){this.$focused=false;this.callParent(arguments)},deactivate:function(){var b=this;if(b.activated){b.el.removeCls(b.activeCls);b.blur();b.hideMenu();b.activated=false;b.fireEvent("deactivate",b)}},deferExpandMenu:function(){var b=this;if(!b.menu.rendered||!b.menu.isVisible()){b.parentMenu.activeChild=b.menu;b.menu.parentItem=b;b.menu.parentMenu=b.menu.ownerCt=b.parentMenu;b.menu.showBy(b,b.menuAlign)}},deferHideMenu:function(){if(this.menu.isVisible()){this.menu.hide()}},deferHideParentMenus:function(){a.menu.Manager.hideAll()},expandMenu:function(b){var c=this;if(c.menu){clearTimeout(c.hideMenuTimer);if(b===0){c.deferExpandMenu()}else{c.expandMenuTimer=a.defer(c.deferExpandMenu,a.isNumber(b)?b:c.menuExpandDelay,c)}}},focus:function(){this.$focused=true;this.callParent(arguments)},getRefItems:function(b){var d=this.menu,c;if(d){c=d.getRefItems(b);c.unshift(d)}return c||[]},hideMenu:function(b){var c=this;if(c.menu){clearTimeout(c.expandMenuTimer);c.hideMenuTimer=a.defer(c.deferHideMenu,a.isNumber(b)?b:c.menuHideDelay,c)}},initComponent:function(){var c=this,d=a.baseCSSPrefix,b=[d+"menu-item"];c.addEvents("activate","click","deactivate");if(c.plain){b.push(d+"menu-item-plain")}if(c.cls){b.push(c.cls)}c.cls=b.join(" ");if(c.menu){c.menu=a.menu.Manager.get(c.menu)}c.callParent(arguments)},onClick:function(c){var b=this;if(!b.href){c.stopEvent()}if(b.disabled){return}if(b.hideOnClick){b.deferHideParentMenusTimer=a.defer(b.deferHideParentMenus,b.clickHideDelay,b)}a.callback(b.handler,b.scope||b,[b,c]);b.fireEvent("click",b,c);if(!b.hideOnClick){b.focus()}},onDestroy:function(){var b=this;clearTimeout(b.expandMenuTimer);clearTimeout(b.hideMenuTimer);clearTimeout(b.deferHideParentMenusTimer);if(b.menu){delete b.menu.parentItem;delete b.menu.parentMenu;delete b.menu.ownerCt;if(b.destroyMenu!==false){b.menu.destroy()}}b.callParent(arguments)},onRender:function(b,e){var c=this,d="."+a.baseCSSPrefix;a.applyIf(c.renderData,{href:c.href||"#",hrefTarget:c.hrefTarget,icon:c.icon||a.BLANK_IMAGE_URL,iconCls:c.iconCls,menu:a.isDefined(c.menu),plain:c.plain,text:c.text});a.applyIf(c.renderSelectors,{itemEl:d+"menu-item-link",iconEl:d+"menu-item-icon",textEl:d+"menu-item-text",arrowEl:d+"menu-item-arrow"});c.callParent(arguments)},setHandler:function(c,b){this.handler=c||null;this.scope=b},setIconCls:function(b){var c=this;if(c.iconEl){if(c.iconCls){c.iconEl.removeCls(c.iconCls)}if(b){c.iconEl.addCls(b)}}c.iconCls=b},setText:function(e){var d=this,b=d.textEl||d.el,c;if(e&&b){b.update(e);if(d.textEl){c=d.textEl.getWidth()+d.iconEl.getWidth()+25+(d.arrowEl?d.arrowEl.getWidth():0);if(c>d.itemEl.getWidth()){d.parentMenu.setWidth(c)}}}else{if(b){b.update("")}}d.text=e}});a.define("Ext.menu.CheckItem",{extend:"Ext.menu.Item",alias:"widget.menucheckitem",checkedCls:a.baseCSSPrefix+"menu-item-checked",uncheckedCls:a.baseCSSPrefix+"menu-item-unchecked",groupCls:a.baseCSSPrefix+"menu-group-icon",hideOnClick:false,afterRender:function(){var b=this;this.callParent();b.checked=!b.checked;b.setChecked(!b.checked,true)},initComponent:function(){var b=this;b.addEvents("beforecheckchange","checkchange");b.callParent(arguments);a.menu.Manager.registerCheckable(b);if(b.group){if(!b.iconCls){b.iconCls=b.groupCls}if(b.initialConfig.hideOnClick!==false){b.hideOnClick=true}}},disableCheckChange:function(){var b=this;b.iconEl.addCls(b.disabledCls);b.checkChangeDisabled=true},enableCheckChange:function(){var b=this;b.iconEl.removeCls(b.disabledCls);b.checkChangeDisabled=false},onClick:function(c){var b=this;if(!b.disabled&&!b.checkChangeDisabled&&!(b.checked&&b.group)){b.setChecked(!b.checked)}this.callParent([c])},onDestroy:function(){a.menu.Manager.unregisterCheckable(this);this.callParent(arguments)},setChecked:function(d,b){var c=this;if(c.checked!==d&&(b||c.fireEvent("beforecheckchange",c,d)!==false)){if(c.el){c.el[d?"addCls":"removeCls"](c.checkedCls)[!d?"addCls":"removeCls"](c.uncheckedCls)}c.checked=d;a.menu.Manager.onCheckChange(c,d);if(!b){a.callback(c.checkHandler,c.scope,[c,d]);c.fireEvent("checkchange",c,d)}}}});a.define("Ext.menu.KeyNav",{extend:"Ext.util.KeyNav",requires:["Ext.FocusManager"],constructor:function(c){var b=this;b.menu=c;b.callParent([c.el,{down:b.down,enter:b.enter,esc:b.escape,left:b.left,right:b.right,space:b.enter,tab:b.tab,up:b.up}])},down:function(c){var b=this,d=b.menu.focusedItem;if(d&&c.getKey()==a.EventObject.DOWN&&b.isWhitelisted(d)){return true}b.focusNextItem(1)},enter:function(b){var c=this.menu;if(c.activeItem){c.onClick(b)}},escape:function(b){a.menu.Manager.hideAll()},focusNextItem:function(g){var h=this.menu,c=h.items,e=h.focusedItem,d=e?c.indexOf(e):-1,b=d+g;while(b!=d){if(b<0){b=c.length-1}else{if(b>=c.length){b=0}}var f=c.getAt(b);if(h.canActivateItem(f)){h.setActiveItem(f);break}b+=g}},isWhitelisted:function(b){return a.FocusManager.isWhitelisted(b)},left:function(c){var d=this.menu,f=d.focusedItem,b=d.activeItem;if(f&&this.isWhitelisted(f)){return true}d.hide();if(d.parentMenu){d.parentMenu.focus()}},right:function(d){var f=this.menu,g=f.focusedItem,b=f.activeItem,c;if(g&&this.isWhitelisted(g)){return true}if(b){c=f.activeItem.menu;if(c){b.expandMenu(0);a.defer(function(){c.setActiveItem(c.items.getAt(0))},25)}}},tab:function(c){var b=this;if(c.shiftKey){b.up(c)}else{b.down(c)}},up:function(c){var b=this,d=b.menu.focusedItem;if(d&&c.getKey()==a.EventObject.UP&&b.isWhitelisted(d)){return true}b.focusNextItem(-1)}});a.define("Ext.menu.Separator",{extend:"Ext.menu.Item",alias:"widget.menuseparator",canActivate:false,focusable:false,hideOnClick:false,plain:true,separatorCls:a.baseCSSPrefix+"menu-item-separator",text:"&#160;",onRender:function(c,e){var d=this,b=d.separatorCls;d.cls+=" "+b;a.applyIf(d.renderSelectors,{itemSepEl:"."+b});d.callParent(arguments)}});a.define("Ext.menu.Menu",{extend:"Ext.panel.Panel",alias:"widget.menu",requires:["Ext.layout.container.Fit","Ext.layout.container.VBox","Ext.menu.CheckItem","Ext.menu.Item","Ext.menu.KeyNav","Ext.menu.Manager","Ext.menu.Separator"],allowOtherMenus:false,ariaRole:"menu",defaultAlign:"tl-bl?",floating:true,constrain:false,hidden:true,ignoreParentClicks:false,isMenu:true,showSeparator:true,minWidth:120,initComponent:function(){var c=this,e=a.baseCSSPrefix,b=[e+"menu"],d=c.bodyCls?[c.bodyCls]:[];c.addEvents("click","mouseenter","mouseleave","mouseover");a.menu.Manager.register(c);if(c.plain){b.push(e+"menu-plain")}c.cls=b.join(" ");d.unshift(e+"menu-body");c.bodyCls=d.join(" ");c.layout={type:"vbox",align:"stretchmax",autoSize:true,clearInnerCtOnLayout:true,overflowHandler:"Scroller"};if(c.floating===false&&c.initialConfig.hidden!==true){c.hidden=false}c.callParent(arguments);c.on("beforeshow",function(){var f=!!c.items.length;if(f&&c.rendered){c.el.setStyle("visibility",null)}return f})},afterRender:function(b){var c=this,e=a.baseCSSPrefix,d="&#160;";c.callParent(arguments);if(c.showSeparator){c.iconSepEl=c.layout.getRenderTarget().insertFirst({cls:e+"menu-icon-separator",html:d})}c.focusEl=c.el.createChild({cls:e+"menu-focus",tabIndex:"-1",html:d});c.mon(c.el,{click:c.onClick,mouseover:c.onMouseOver,scope:c});c.mouseMonitor=c.el.monitorMouseLeave(100,c.onMouseLeave,c);if(c.showSeparator&&((!a.isStrict&&a.isIE)||a.isIE6)){c.iconSepEl.setHeight(c.el.getHeight())}c.keyNav=a.create("Ext.menu.KeyNav",c)},afterLayout:function(){var k=this;k.callParent(arguments);if((!a.iStrict&&a.isIE)||a.isIE6){var b=k.layout.getRenderTarget(),d=0,c=k.dockedItems,e=c.length,g=0,h,j,f;d=b.getWidth();f=d+k.body.getBorderWidth("lr")+k.body.getPadding("lr");k.body.setWidth(f);for(;g<e,h=c.getAt(g);g++){if(h.dock=="left"||h.dock=="right"){f+=h.getWidth()}}k.el.setWidth(f)}},canActivateItem:function(b){return b&&!b.isDisabled()&&b.isVisible()&&(b.canActivate||b.getXTypes().indexOf("menuitem")<0)},deactivateActiveItem:function(){var b=this;if(b.activeItem){b.activeItem.deactivate();if(!b.activeItem.activated){delete b.activeItem}}if(b.focusedItem){b.focusedItem.blur();if(!b.focusedItem.$focused){delete b.focusedItem}}},getFocusEl:function(){return this.focusEl},hide:function(){this.deactivateActiveItem();this.callParent(arguments)},getItemFromEvent:function(b){return this.getChildByElement(b.getTarget())},lookupComponent:function(c){var b=this;if(a.isString(c)){c=b.lookupItemFromString(c)}else{if(a.isObject(c)){c=b.lookupItemFromObject(c)}}c.minWidth=c.minWidth||b.minWidth;return c},lookupItemFromObject:function(d){var c=this,e=a.baseCSSPrefix,b,f;if(!d.isComponent){if(!d.xtype){d=a.create("Ext.menu."+(a.isBoolean(d.checked)?"Check":"")+"Item",d)}else{d=a.ComponentManager.create(d,d.xtype)}}if(d.isMenuItem){d.parentMenu=c}if(!d.isMenuItem&&!d.dock){b=[e+"menu-item",e+"menu-item-cmp"];f=a.Function.createInterceptor;d.focus=f(d.focus,function(){this.$focused=true},d);d.blur=f(d.blur,function(){this.$focused=false},d);if(!c.plain&&(d.indent===true||d.iconCls==="no-icon")){b.push(e+"menu-item-indent")}if(d.rendered){d.el.addCls(b)}else{d.cls=(d.cls?d.cls:"")+" "+b.join(" ")}d.isMenuItem=true}return d},lookupItemFromString:function(b){return(b=="separator"||b=="-")?a.createWidget("menuseparator"):a.createWidget("menuitem",{canActivate:false,hideOnClick:false,plain:true,text:b})},onClick:function(d){var c=this,b;if(c.disabled){d.stopEvent();return}if((d.getTarget()==c.focusEl.dom)||d.within(c.layout.getRenderTarget())){b=c.getItemFromEvent(d)||c.activeItem;if(b){if(b.getXTypes().indexOf("menuitem")>=0){if(!b.menu||!c.ignoreParentClicks){b.onClick(d)}else{d.stopEvent()}}}c.fireEvent("click",c,b,d)}},onDestroy:function(){var b=this;a.menu.Manager.unregister(b);if(b.rendered){b.el.un(b.mouseMonitor);b.keyNav.destroy();delete b.keyNav}b.callParent(arguments)},onMouseLeave:function(c){var b=this;b.deactivateActiveItem();if(b.disabled){return}b.fireEvent("mouseleave",b,c)},onMouseOver:function(f){var d=this,g=f.getRelatedTarget(),b=!d.el.contains(g),c=d.getItemFromEvent(f);if(b&&d.parentMenu){d.parentMenu.setActiveItem(d.parentItem);d.parentMenu.mouseMonitor.mouseenter()}if(d.disabled){return}if(c){d.setActiveItem(c);if(c.activated&&c.expandMenu){c.expandMenu()}}if(b){d.fireEvent("mouseenter",d,f)}d.fireEvent("mouseover",d,c,f)},setActiveItem:function(c){var b=this;if(c&&(c!=b.activeItem&&c!=b.focusedItem)){b.deactivateActiveItem();if(b.canActivateItem(c)){if(c.activate){c.activate();if(c.activated){b.activeItem=c;b.focusedItem=c;b.focus()}}else{c.focus();b.focusedItem=c}}c.el.scrollIntoView(b.layout.getRenderTarget())}},showBy:function(c,g,f){var b=this,e,d;if(b.floating&&c){b.layout.autoSize=true;b.show();c=c.el||c;e=b.el.getAlignToXY(c,g||b.defaultAlign,f);if(b.floatParent){d=b.floatParent.getTargetEl().getViewRegion();e[0]-=d.x;e[1]-=d.y}b.showAt(e)}return b},showAt:function(){this.callParent(arguments);if(this.floating){this.doConstrain()}},doConstrain:function(){var g=this,h=g.el.getY(),i,f,c,j=h,k,e,b,d;delete g.height;g.setSize();f=g.getHeight();if(g.floating){e=a.fly(g.el.dom.parentNode);b=e.getScroll().top;d=e.getViewSize().height;k=h-b;i=g.maxHeight?g.maxHeight:d-k;if(f>d){i=d;j=h-k}else{if(i<f){j=h-(f-i);i=f}}}else{i=g.getHeight()}if(g.maxHeight){i=Math.min(g.maxHeight,i)}if(f>i&&i>0){g.layout.autoSize=false;g.setHeight(i);if(g.showSeparator){g.iconSepEl.setHeight(g.layout.getRenderTarget().dom.scrollHeight)}}c=g.getConstrainVector();if(c){g.setPosition(g.getPosition()[0]+c[0])}g.el.setY(j)}});a.define("Ext.menu.ColorPicker",{extend:"Ext.menu.Menu",alias:"widget.colormenu",requires:["Ext.picker.Color"],hideOnClick:true,pickerId:null,initComponent:function(){var b=this;a.apply(b,{plain:true,showSeparator:false,items:a.applyIf({cls:a.baseCSSPrefix+"menu-color-item",id:b.pickerId,xtype:"colorpicker"},b.initialConfig)});b.callParent(arguments);b.picker=b.down("colorpicker");b.relayEvents(b.picker,["select"]);if(b.hideOnClick){b.on("select",b.hidePickerOnSelect,b)}},hidePickerOnSelect:function(){a.menu.Manager.hideAll()}});a.define("Ext.menu.DatePicker",{extend:"Ext.menu.Menu",alias:"widget.datemenu",requires:["Ext.picker.Date"],hideOnClick:true,pickerId:null,initComponent:function(){var b=this;a.apply(b,{showSeparator:false,plain:true,items:a.applyIf({cls:a.baseCSSPrefix+"menu-date-item",id:b.pickerId,xtype:"datepicker"},b.initialConfig)});b.callParent(arguments);b.picker=b.down("datepicker");b.relayEvents(b.picker,["select"]);if(b.hideOnClick){b.on("select",b.hidePickerOnSelect,b)}},hidePickerOnSelect:function(){a.menu.Manager.hideAll()}});a.define("Ext.panel.Tool",{extend:"Ext.Component",requires:["Ext.tip.QuickTipManager"],alias:"widget.tool",baseCls:a.baseCSSPrefix+"tool",disabledCls:a.baseCSSPrefix+"tool-disabled",toolPressedCls:a.baseCSSPrefix+"tool-pressed",toolOverCls:a.baseCSSPrefix+"tool-over",ariaRole:"button",renderTpl:['<img src="{blank}" class="{baseCls}-{type}" role="presentation"/>'],stopEvent:true,initComponent:function(){var b=this;b.addEvents("click");b.type=b.type||b.id;a.applyIf(b.renderData,{baseCls:b.baseCls,blank:a.BLANK_IMAGE_URL,type:b.type});b.renderSelectors.toolEl="."+b.baseCls+"-"+b.type;b.callParent()},afterRender:function(){var b=this;b.callParent(arguments);if(b.qtip){if(a.isObject(b.qtip)){a.tip.QuickTipManager.register(a.apply({target:b.id},b.qtip))}else{b.toolEl.dom.qtip=b.qtip}}b.mon(b.toolEl,{click:b.onClick,mousedown:b.onMouseDown,mouseover:b.onMouseOver,mouseout:b.onMouseOut,scope:b})},setType:function(b){var c=this;c.type=b;if(c.rendered){c.toolEl.dom.className=c.baseCls+"-"+b}return c},bindTo:function(b){this.owner=b},onClick:function(f,d){var c=this,b;if(c.disabled){return false}b=c.owner||c.ownerCt;c.el.removeCls(c.toolPressedCls);c.el.removeCls(c.toolOverCls);if(c.stopEvent!==false){f.stopEvent()}a.callback(c.handler,c.scope||c,[f,d,b,c]);c.fireEvent("click",c,f);return true},onDestroy:function(){if(a.isObject(this.tooltip)){a.tip.QuickTipManager.unregister(this.id)}this.callParent()},onMouseDown:function(){if(this.disabled){return false}this.el.addCls(this.toolPressedCls)},onMouseOver:function(){if(this.disabled){return false}this.el.addCls(this.toolOverCls)},onMouseOut:function(){this.el.removeCls(this.toolOverCls)}});a.define("Ext.resizer.Handle",{extend:"Ext.Component",handleCls:"",baseHandleCls:a.baseCSSPrefix+"resizable-handle",region:"",onRender:function(){this.addCls(this.baseHandleCls,this.baseHandleCls+"-"+this.region,this.handleCls);this.callParent(arguments);this.el.unselectable()}});a.define("Ext.resizer.Resizer",{mixins:{observable:"Ext.util.Observable"},uses:["Ext.resizer.ResizeTracker","Ext.Component"],alternateClassName:"Ext.Resizable",handleCls:a.baseCSSPrefix+"resizable-handle",pinnedCls:a.baseCSSPrefix+"resizable-pinned",overCls:a.baseCSSPrefix+"resizable-over",proxyCls:a.baseCSSPrefix+"resizable-proxy",wrapCls:a.baseCSSPrefix+"resizable-wrap",dynamic:true,handles:"s e se",height:null,width:null,minHeight:20,minWidth:20,maxHeight:10000,maxWidth:10000,pinned:false,preserveRatio:false,transparent:false,possiblePositions:{n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"},constructor:function(b){var h=this,g,m,l=h.handles,c,k,f,d=0,j;this.addEvents("beforeresize","resizedrag","resize");if(a.isString(b)||a.isElement(b)||b.dom){g=b;b=arguments[1]||{};b.target=g}h.mixins.observable.constructor.call(h,b);g=h.target;if(g){if(g.isComponent){h.el=g.getEl();if(g.minWidth){h.minWidth=g.minWidth}if(g.minHeight){h.minHeight=g.minHeight}if(g.maxWidth){h.maxWidth=g.maxWidth}if(g.maxHeight){h.maxHeight=g.maxHeight}if(g.floating){if(!this.hasOwnProperty("handles")){this.handles="n ne e se s sw w nw"}}}else{h.el=h.target=a.get(g)}}else{h.target=h.el=a.get(h.el)}m=h.el.dom.tagName;if(m=="TEXTAREA"||m=="IMG"){h.originalTarget=h.target;h.target=h.el=h.el.wrap({cls:h.wrapCls,id:h.el.id+"-rzwrap"});h.el.setPositioning(h.originalTarget.getPositioning());h.originalTarget.clearPositioning();var e=h.originalTarget.getBox();h.el.setBox(e)}h.el.position();if(h.pinned){h.el.addCls(h.pinnedCls)}h.resizeTracker=a.create("Ext.resizer.ResizeTracker",{disabled:h.disabled,target:h.target,constrainTo:h.constrainTo,overCls:h.overCls,throttle:h.throttle,originalTarget:h.originalTarget,delegate:"."+h.handleCls,dynamic:h.dynamic,preserveRatio:h.preserveRatio,minHeight:h.minHeight,maxHeight:h.maxHeight,minWidth:h.minWidth,maxWidth:h.maxWidth});h.resizeTracker.on("mousedown",h.onBeforeResize,h);h.resizeTracker.on("drag",h.onResize,h);h.resizeTracker.on("dragend",h.onResizeEnd,h);if(h.handles=="all"){h.handles="n s e w ne nw se sw"}l=h.handles=h.handles.split(/ |\s*?[,;]\s*?/);k=h.possiblePositions;f=l.length;c=h.handleCls+" "+(this.target.isComponent?(h.target.baseCls+"-handle "):"")+h.handleCls+"-";for(;d<f;d++){if(l[d]&&k[l[d]]){j=k[l[d]];h[j]=a.create("Ext.Component",{owner:this,region:j,cls:c+j,renderTo:h.el});h[j].el.unselectable();if(h.transparent){h[j].el.setOpacity(0)}}}if(a.isNumber(h.width)){h.width=a.Number.constrain(h.width,h.minWidth,h.maxWidth)}if(a.isNumber(h.height)){h.height=a.Number.constrain(h.height,h.minHeight,h.maxHeight)}if(h.width!=null||h.height!=null){if(h.originalTarget){h.originalTarget.setWidth(h.width);h.originalTarget.setHeight(h.height)}h.resizeTo(h.width,h.height)}h.forceHandlesHeight()},disable:function(){this.resizeTracker.disable()},enable:function(){this.resizeTracker.enable()},onBeforeResize:function(d,f){var c=this.target.getBox();return this.fireEvent("beforeresize",this,c.width,c.height,f)},onResize:function(f,g){var d=this,c=d.target.getBox();d.forceHandlesHeight();return d.fireEvent("resizedrag",d,c.width,c.height,g)},onResizeEnd:function(f,g){var d=this,c=d.target.getBox();d.forceHandlesHeight();return d.fireEvent("resize",d,c.width,c.height,g)},resizeTo:function(c,b){this.target.setSize(c,b);this.fireEvent("resize",this,c,b,null)},getEl:function(){return this.el},getTarget:function(){return this.target},destroy:function(){var d;for(var c=0,b=this.handles.length;c<b;c++){d=this[this.possiblePositions[this.handles[c]]];delete d.owner;a.destroy(d)}},forceHandlesHeight:function(){var b=this,c;if(a.isIE6){c=b.east;if(c){c.setHeight(b.el.getHeight())}c=b.west;if(c){c.setHeight(b.el.getHeight())}b.el.repaint()}}});a.define("Ext.resizer.ResizeTracker",{extend:"Ext.dd.DragTracker",dynamic:true,preserveRatio:false,constrainTo:null,constructor:function(c){var e=this;if(!c.el){if(c.target.isComponent){e.el=c.target.getEl()}else{e.el=c.target}}this.callParent(arguments);if(e.preserveRatio&&e.minWidth&&e.minHeight){var d=e.minWidth/e.el.getWidth(),b=e.minHeight/e.el.getHeight();if(b>d){e.minWidth=e.el.getWidth()*b}else{e.minHeight=e.el.getHeight()*d}}if(e.throttle){var f=a.Function.createThrottled(function(){a.resizer.ResizeTracker.prototype.resize.apply(e,arguments)},e.throttle);e.resize=function(h,i,g){if(g){a.resizer.ResizeTracker.prototype.resize.apply(e,arguments)}else{f.apply(null,arguments)}}}},onBeforeStart:function(b){this.startBox=this.el.getBox()},getDynamicTarget:function(){var b=this.target;if(this.dynamic){return b}else{if(!this.proxy){this.proxy=b.isComponent?b.getProxy().addCls(a.baseCSSPrefix+"resizable-proxy"):b.createProxy({tag:"div",cls:a.baseCSSPrefix+"resizable-proxy",id:b.id+"-rzproxy"},a.getBody());this.proxy.removeCls(a.baseCSSPrefix+"proxy-el")}}this.proxy.show();return this.proxy},onStart:function(b){this.activeResizeHandle=a.getCmp(this.getDragTarget().id);if(!this.dynamic){this.resize(this.startBox,{horizontal:"none",vertical:"none"})}},onDrag:function(b){if(this.dynamic||this.proxy){this.updateDimensions(b)}},updateDimensions:function(r,l){var s=this,d=s.activeResizeHandle.region,g=s.getOffset(s.constrainTo?"dragTarget":null),j=s.startBox,h,p=0,t=0,b=0,v=0,u,m=g[0]<0?"right":"left",q=g[1]<0?"down":"up",i,c;switch(d){case"south":t=g[1];c=2;break;case"north":t=-g[1];v=-t;c=2;break;case"east":p=g[0];c=1;break;case"west":p=-g[0];b=-p;c=1;break;case"northeast":t=-g[1];v=-t;p=g[0];i=[j.x,j.y+j.height];c=3;break;case"southeast":t=g[1];p=g[0];i=[j.x,j.y];c=3;break;case"southwest":p=-g[0];b=-p;t=g[1];i=[j.x+j.width,j.y];c=3;break;case"northwest":t=-g[1];v=-t;p=-g[0];b=-p;i=[j.x+j.width,j.y+j.height];c=3;break}var f={width:j.width+p,height:j.height+t,x:j.x+b,y:j.y+v};if(f.width<s.minWidth||f.width>s.maxWidth){f.width=a.Number.constrain(f.width,s.minWidth,s.maxWidth);f.x=s.lastX||f.x}else{s.lastX=f.x}if(f.height<s.minHeight||f.height>s.maxHeight){f.height=a.Number.constrain(f.height,s.minHeight,s.maxHeight);f.y=s.lastY||f.y}else{s.lastY=f.y}if(s.preserveRatio||r.shiftKey){var n,k;h=s.startBox.width/s.startBox.height;n=Math.min(Math.max(s.minHeight,f.width/h),s.maxHeight);k=Math.min(Math.max(s.minWidth,f.height*h),s.maxWidth);if(c==1){f.height=n}else{if(c==2){f.width=k}else{u=Math.abs(i[0]-this.lastXY[0])/Math.abs(i[1]-this.lastXY[1]);if(u>h){f.height=n}else{f.width=k}if(d=="northeast"){f.y=j.y-(f.height-j.height)}else{if(d=="northwest"){f.y=j.y-(f.height-j.height);f.x=j.x-(f.width-j.width)}else{if(d=="southwest"){f.x=j.x-(f.width-j.width)}}}}}}if(t===0){q="none"}if(p===0){m="none"}s.resize(f,{horizontal:m,vertical:q},l)},getResizeTarget:function(b){return b?this.target:this.getDynamicTarget()},resize:function(c,e,b){var d=this.getResizeTarget(b);if(d.isComponent){if(d.floating){d.setPagePosition(c.x,c.y)}d.setSize(c.width,c.height)}else{d.setBox(c);if(this.originalTarget){this.originalTarget.setBox(c)}}},onEnd:function(b){this.updateDimensions(b,true);if(this.proxy){this.proxy.hide()}}});a.define("Ext.resizer.SplitterTracker",{extend:"Ext.dd.DragTracker",requires:["Ext.util.Region"],enabled:true,overlayCls:a.baseCSSPrefix+"resizable-overlay",getPrevCmp:function(){var b=this.getSplitter();return b.previousSibling()},getNextCmp:function(){var b=this.getSplitter();return b.nextSibling()},onBeforeStart:function(f){var c=this,d=c.getPrevCmp(),b=c.getNextCmp();if(b.collapsed||d.collapsed){return false}c.prevBox=d.getEl().getBox();c.nextBox=b.getEl().getBox();c.constrainTo=c.calculateConstrainRegion()},onStart:function(d){var c=this.getSplitter(),b;c.addCls(c.baseCls+"-active");b=this.overlay=a.getBody().createChild({cls:this.overlayCls,html:"&#160;"});b.unselectable();b.setSize(a.core.Element.getViewWidth(true),a.core.Element.getViewHeight(true));b.show()},calculateConstrainRegion:function(){var g=this,b=g.getSplitter(),h=b.getWidth(),i=b.defaultSplitMin,c=b.orientation,e=g.prevBox,j=g.getPrevCmp(),d=g.nextBox,f=g.getNextCmp(),l,k;if(c==="vertical"){l=a.create("Ext.util.Region",e.y,(j.maxWidth?e.x+j.maxWidth:d.right-(f.minWidth||i))+h,e.bottom,e.x+(j.minWidth||i));k=a.create("Ext.util.Region",d.y,d.right-(f.minWidth||i),d.bottom,(f.maxWidth?d.right-f.maxWidth:e.x+(e.minWidth||i))-h)}else{l=a.create("Ext.util.Region",e.y+(j.minHeight||i),e.right,(j.maxHeight?e.y+j.maxHeight:d.bottom-(f.minHeight||i))+h,e.x);k=a.create("Ext.util.Region",(f.maxHeight?d.bottom-f.maxHeight:e.y+(j.minHeight||i))-h,d.right,d.bottom-(f.minHeight||i),d.x)}return l.intersect(k)},performResize:function(h){var j=this,d=j.getOffset("dragTarget"),b=j.getSplitter(),f=b.orientation,k=j.getPrevCmp(),i=j.getNextCmp(),c=b.ownerCt,g=c.getLayout();c.suspendLayout=true;if(f==="vertical"){if(k){if(!k.maintainFlex){delete k.flex;k.setSize(j.prevBox.width+d[0],k.getHeight())}}if(i){if(!i.maintainFlex){delete i.flex;i.setSize(j.nextBox.width-d[0],i.getHeight())}}}else{if(k){if(!k.maintainFlex){delete k.flex;k.setSize(k.getWidth(),j.prevBox.height+d[1])}}if(i){if(!i.maintainFlex){delete i.flex;i.setSize(k.getWidth(),j.nextBox.height-d[1])}}}delete c.suspendLayout;g.onLayout()},onEnd:function(d){var b=this,c=b.getSplitter();c.removeCls(c.baseCls+"-active");if(b.overlay){b.overlay.remove();delete b.overlay}b.performResize()},onDrag:function(g){var d=this,h=d.getOffset("dragTarget"),f=d.getSplitter(),c=f.getEl(),b=f.orientation;if(b==="vertical"){c.setX(d.startRegion.left+h[0])}else{c.setY(d.startRegion.top+h[1])}},getSplitter:function(){return a.getCmp(this.getDragCt().id)}});a.define("Ext.selection.CellModel",{extend:"Ext.selection.Model",alias:"selection.cellmodel",requires:["Ext.util.KeyNav"],enableKeyNav:true,preventWrap:false,constructor:function(){this.addEvents("deselect","select");this.callParent(arguments)},bindComponent:function(b){var c=this;c.primaryView=b;c.views=c.views||[];c.views.push(b);c.bind(b.getStore(),true);b.on({cellmousedown:c.onMouseDown,refresh:c.onViewRefresh,scope:c});if(c.enableKeyNav){c.initKeyNav(b)}},initKeyNav:function(b){var c=this;if(!b.rendered){b.on("render",a.Function.bind(c.initKeyNav,c,[b],0),c,{single:true});return}b.el.set({tabIndex:-1});c.keyNav=a.create("Ext.util.KeyNav",b.el,{up:c.onKeyUp,down:c.onKeyDown,right:c.onKeyRight,left:c.onKeyLeft,tab:c.onKeyTab,scope:c})},getHeaderCt:function(){return this.primaryView.headerCt},onKeyUp:function(c,b){this.move("up",c)},onKeyDown:function(c,b){this.move("down",c)},onKeyLeft:function(c,b){this.move("left",c)},onKeyRight:function(c,b){this.move("right",c)},move:function(b,d){var c=this,f=c.primaryView.walkCells(c.getCurrentPosition(),b,d,c.preventWrap);if(f){c.setCurrentPosition(f)}return f},getCurrentPosition:function(){return this.position},setCurrentPosition:function(c){var b=this;if(b.position){b.onCellDeselect(b.position)}if(c){b.onCellSelect(c)}b.position=c},onMouseDown:function(d,b,f,c,h,i,g){this.setCurrentPosition({row:i,column:f})},onCellSelect:function(b){var e=this,d=e.view.getStore(),c=d.getAt(b.row);e.doSelect(c);e.primaryView.onCellSelect(b);e.primaryView.onCellFocus(b);e.fireEvent("select",e,c,b.row,b.column)},onCellDeselect:function(b){var e=this,d=e.view.getStore(),c=d.getAt(b.row);e.doDeselect(c);e.primaryView.onCellDeselect(b);e.fireEvent("deselect",e,c,b.row,b.column)},onKeyTab:function(h,d){var f=this,g=h.shiftKey?"left":"right",c=f.view.editingPlugin,b=f.move(g,h);if(c&&b&&f.wasEditing){c.startEditByPosition(b)}delete f.wasEditing},onEditorTab:function(c,g){var d=this,f=g.shiftKey?"left":"right",b=d.move(f,g);if(b){c.startEditByPosition(b);d.wasEditing=true}},refresh:function(){var b=this.getCurrentPosition();if(b){this.onCellSelect(b)}},onViewRefresh:function(){var b=this.getCurrentPosition();if(b){this.onCellDeselect(b);this.setCurrentPosition(null)}},selectByPosition:function(b){this.setCurrentPosition(b)}});a.define("Ext.selection.RowModel",{extend:"Ext.selection.Model",alias:"selection.rowmodel",requires:["Ext.util.KeyNav"],deltaScroll:5,enableKeyNav:true,constructor:function(){this.addEvents("deselect","select");this.callParent(arguments)},bindComponent:function(b){var c=this;c.views=c.views||[];c.views.push(b);c.bind(b.getStore(),true);b.on({itemmousedown:c.onRowMouseDown,scope:c});if(c.enableKeyNav){c.initKeyNav(b)}},initKeyNav:function(b){var c=this;if(!b.rendered){b.on("render",a.Function.bind(c.initKeyNav,c,[b],0),c,{single:true});return}b.el.set({tabIndex:-1});c.keyNav=new a.util.KeyNav(b.el,{up:c.onKeyUp,down:c.onKeyDown,right:c.onKeyRight,left:c.onKeyLeft,pageDown:c.onKeyPageDown,pageUp:c.onKeyPageUp,home:c.onKeyHome,end:c.onKeyEnd,scope:c});b.el.on(a.EventManager.getKeyEvent(),c.onKeyPress,c)},getRowsVisible:function(){var f=false,b=this.views[0],e=b.getNode(0),c,d;if(e){c=a.fly(e).getHeight();d=b.el.getHeight();f=Math.floor(d/c)}return f},onKeyEnd:function(f,b){var d=this,c=d.store.getAt(d.store.getCount()-1);if(c){if(f.shiftKey){d.selectRange(c,d.lastFocused||0);d.setLastFocused(c)}else{if(f.ctrlKey){d.setLastFocused(c)}else{d.doSelect(c)}}}},onKeyHome:function(d,b){var c=this,f=c.store.getAt(0);if(f){if(d.shiftKey){c.selectRange(f,c.lastFocused||0);c.setLastFocused(f)}else{if(d.ctrlKey){c.setLastFocused(f)}else{c.doSelect(f,false)}}}},onKeyPageUp:function(i,f){var h=this,j=h.getRowsVisible(),c,d,b,g;if(j){c=h.lastFocused?h.store.indexOf(h.lastFocused):0;d=c-j;if(d<0){d=0}b=h.store.getAt(d);if(i.shiftKey){g=h.store.getAt(c);h.selectRange(b,g,i.ctrlKey,"up");h.setLastFocused(b)}else{if(i.ctrlKey){i.preventDefault();h.setLastFocused(b)}else{h.doSelect(b)}}}},onKeyPageDown:function(i,c){var g=this,j=g.getRowsVisible(),b,h,f,d;if(j){b=g.lastFocused?g.store.indexOf(g.lastFocused):0;h=b+j;if(h>=g.store.getCount()){h=g.store.getCount()-1}f=g.store.getAt(h);if(i.shiftKey){d=g.store.getAt(b);g.selectRange(f,d,i.ctrlKey,"down");g.setLastFocused(f)}else{if(i.ctrlKey){i.preventDefault();g.setLastFocused(f)}else{g.doSelect(f)}}}},onKeyPress:function(f,c){if(f.getKey()===f.SPACE){f.stopEvent();var d=this,b=d.lastFocused;if(b){if(d.isSelected(b)){d.doDeselect(b,false)}else{d.doSelect(b,true)}}}},onKeyUp:function(h,f){var g=this,d=g.views[0],b=g.store.indexOf(g.lastFocused),c;if(b>0){c=g.store.getAt(b-1);if(h.shiftKey&&g.lastFocused){if(g.isSelected(g.lastFocused)&&g.isSelected(c)){g.doDeselect(g.lastFocused,true);g.setLastFocused(c)}else{if(!g.isSelected(g.lastFocused)){g.doSelect(g.lastFocused,true);g.doSelect(c,true)}else{g.doSelect(c,true)}}}else{if(h.ctrlKey){g.setLastFocused(c)}else{g.doSelect(c)}}}},onKeyDown:function(h,f){var g=this,d=g.views[0],b=g.store.indexOf(g.lastFocused),c;if(b+1<g.store.getCount()){c=g.store.getAt(b+1);if(g.selected.getCount()===0){g.doSelect(c)}else{if(h.shiftKey&&g.lastFocused){if(g.isSelected(g.lastFocused)&&g.isSelected(c)){g.doDeselect(g.lastFocused,true);g.setLastFocused(c)}else{if(!g.isSelected(g.lastFocused)){g.doSelect(g.lastFocused,true);g.doSelect(c,true)}else{g.doSelect(c,true)}}}else{if(h.ctrlKey){g.setLastFocused(c)}else{g.doSelect(c)}}}}},scrollByDeltaX:function(e){var b=this.views[0],d=b.up(),c=d.horizontalScroller;if(c){c.scrollByDeltaX(e)}},onKeyLeft:function(c,b){this.scrollByDeltaX(-this.deltaScroll)},onKeyRight:function(c,b){this.scrollByDeltaX(this.deltaScroll)},onRowMouseDown:function(c,b,f,d,g){c.el.focus();this.selectWithEvent(b,g)},onSelectChange:function(f,c,j){var g=this,k=g.views,d=k.length,h=g.store,b=h.indexOf(f),e=0;for(;e<d;e++){if(c){k[e].onRowSelect(b,j);if(!j){g.fireEvent("select",g,f,b)}}else{k[e].onRowDeselect(b,j);if(!j){g.fireEvent("deselect",g,f,b)}}}},onLastFocusChanged:function(j,e,c){var b=this.views,h=b.length,d=this.store,g,f=0;if(j){g=d.indexOf(j);if(g!=-1){for(;f<h;f++){b[f].onRowFocus(g,false)}}}if(e){g=d.indexOf(e);if(g!=-1){for(f=0;f<h;f++){b[f].onRowFocus(g,true,c)}}}},onEditorTab:function(i,g){var h=this,j=h.views[0],d=i.getActiveRecord(),c=i.getActiveColumn(),f=j.getPosition(d,c),k=g.shiftKey?"left":"right",b=j.walkCells(f,k,g,this.preventWrap);if(b){i.startEditByPosition(b)}},selectByPosition:function(b){var c=this.store.getAt(b.row);this.select(c)}});a.define("Ext.selection.CheckboxModel",{alias:"selection.checkboxmodel",extend:"Ext.selection.RowModel",mode:"MULTI",injectCheckbox:0,checkOnly:false,checkerOnCls:a.baseCSSPrefix+"grid-hd-checker-on",bindComponent:function(){this.sortable=false;this.callParent(arguments);var b=this.views[0],c=b.headerCt;if(this.injectCheckbox!==false){if(this.injectCheckbox=="first"){this.injectCheckbox=0}else{if(this.injectCheckbox=="last"){this.injectCheckbox=c.getColumnCount()}}c.add(this.injectCheckbox,this.getHeaderConfig())}c.on("headerclick",this.onHeaderClick,this)},toggleUiHeader:function(e){var b=this.views[0],d=b.headerCt,c=d.child("gridcolumn[isCheckerHd]");if(c){if(e){c.el.addCls(this.checkerOnCls)}else{c.el.removeCls(this.checkerOnCls)}}},onHeaderClick:function(c,f,b){if(f.isCheckerHd){b.stopEvent();var d=f.el.hasCls(a.baseCSSPrefix+"grid-hd-checker-on");if(d){this.deselectAll(true)}else{this.selectAll(true)}}},getHeaderConfig:function(){return{isCheckerHd:true,text:"&#160;",width:24,sortable:false,fixed:true,hideable:false,menuDisabled:true,dataIndex:"",cls:a.baseCSSPrefix+"column-header-checkbox ",renderer:a.Function.bind(this.renderer,this)}},renderer:function(g,d,c,h,f,e,b){d.tdCls=a.baseCSSPrefix+"grid-cell-special";return'<div class="'+a.baseCSSPrefix+'grid-row-checker">&#160;</div>'},onRowMouseDown:function(c,b,h,f,i){c.el.focus();var g=this,d=i.getTarget("."+a.baseCSSPrefix+"grid-row-checker");if(g.checkOnly&&!d){return}if(d){var j=g.getSelectionMode();if(j!=="SINGLE"){g.setSelectionMode("SIMPLE")}g.selectWithEvent(b,i);g.setSelectionMode(j)}else{g.selectWithEvent(b,i)}},onSelectChange:function(b,c){this.callParent([b,c]);var d=this.selected.getCount()===this.store.getCount();this.toggleUiHeader(d)}});a.define("Ext.selection.TreeModel",{extend:"Ext.selection.RowModel",alias:"selection.treemodel",pruneRemoved:false,onKeyRight:function(f,c){var d=this.getLastFocused(),b=this.view;if(d){if(d.isExpanded()){this.onKeyDown(f,c)}else{if(!d.isLeaf()){b.expand(d)}}}},onKeyLeft:function(i,f){var h=this.getLastFocused(),d=this.view,c=d.getSelectionModel(),b,g;if(h){b=h.parentNode;if(h.isExpanded()){d.collapse(h)}else{if(b&&!b.isRoot()){if(i.shiftKey){c.selectRange(b,h,i.ctrlKey,"up");c.setLastFocused(b)}else{if(i.ctrlKey){c.setLastFocused(b)}else{c.select(b)}}}}}},onKeyPress:function(f,b){var c,d;if(f.getKey()===f.SPACE||f.getKey()===f.ENTER){f.stopEvent();c=this.getLastSelected();if(c&&c.isLeaf()){d=c.get("checked");if(a.isBoolean(d)){c.set("checked",!d)}}}else{this.callParent(arguments)}}});a.define("Ext.slider.Thumb",{requires:["Ext.dd.DragTracker","Ext.util.Format"],topZIndex:10000,constructor:function(b){var c=this;a.apply(c,b||{},{cls:a.baseCSSPrefix+"slider-thumb",constrain:false});c.callParent([b]);if(c.slider.vertical){a.apply(c,a.slider.Thumb.Vertical)}},render:function(){var b=this;b.el=b.slider.innerEl.insertFirst({cls:b.cls});if(b.disabled){b.disable()}b.initEvents()},move:function(c,b){if(!b){this.el.setLeft(c)}else{a.create("Ext.fx.Anim",{target:this.el,duration:350,to:{left:c}})}},bringToFront:function(){this.el.setStyle("zIndex",this.topZIndex)},sendToBack:function(){this.el.setStyle("zIndex","")},enable:function(){var b=this;b.disabled=false;if(b.el){b.el.removeCls(b.slider.disabledCls)}},disable:function(){var b=this;b.disabled=true;if(b.el){b.el.addCls(b.slider.disabledCls)}},initEvents:function(){var c=this,b=c.el;c.tracker=a.create("Ext.dd.DragTracker",{onBeforeStart:a.Function.bind(c.onBeforeDragStart,c),onStart:a.Function.bind(c.onDragStart,c),onDrag:a.Function.bind(c.onDrag,c),onEnd:a.Function.bind(c.onDragEnd,c),tolerance:3,autoStart:300,overCls:a.baseCSSPrefix+"slider-thumb-over"});c.tracker.initEl(b)},onBeforeDragStart:function(b){if(this.disabled){return false}else{this.slider.promoteThumb(this);return true}},onDragStart:function(c){var b=this;b.el.addCls(a.baseCSSPrefix+"slider-thumb-drag");b.dragging=true;b.dragStartValue=b.value;b.slider.fireEvent("dragstart",b.slider,c,b)},onDrag:function(h){var f=this,d=f.slider,c=f.index,g=f.getNewValue(),b,i;if(f.constrain){b=d.thumbs[c+1];i=d.thumbs[c-1];if(i!==undefined&&g<=i.value){g=i.value}if(b!==undefined&&g>=b.value){g=b.value}}d.setValue(c,g,false);d.fireEvent("drag",d,h,f)},getNewValue:function(){var b=this.slider,c=b.innerEl.translatePoints(this.tracker.getXY());return a.util.Format.round(b.reverseValue(c.left),b.decimalPrecision)},onDragEnd:function(f){var c=this,b=c.slider,d=c.value;c.el.removeCls(a.baseCSSPrefix+"slider-thumb-drag");c.dragging=false;b.fireEvent("dragend",b,f);if(c.dragStartValue!=d){b.fireEvent("changecomplete",b,d,c)}},destroy:function(){a.destroy(this.tracker)},statics:{Vertical:{getNewValue:function(){var c=this.slider,d=c.innerEl,e=d.translatePoints(this.tracker.getXY()),b=d.getHeight()-e.top;return a.util.Format.round(c.reverseValue(b),c.decimalPrecision)},move:function(c,b){if(!b){this.el.setBottom(c)}else{a.create("Ext.fx.Anim",{target:this.el,duration:350,to:{bottom:c}})}}}}});a.define("Ext.slider.Tip",{extend:"Ext.tip.Tip",minWidth:10,alias:"widget.slidertip",offsets:[0,-10],isSliderTip:true,init:function(c){var b=this;c.on({scope:b,dragstart:b.onSlide,drag:b.onSlide,dragend:b.hide,destroy:b.destroy})},onSlide:function(d,f,b){var c=this;c.show();c.update(c.getText(b));c.doComponentLayout();c.el.alignTo(b.el,"b-t?",c.offsets)},getText:function(b){return String(b.value)}});a.define("Ext.slider.Multi",{extend:"Ext.form.field.Base",alias:"widget.multislider",alternateClassName:"Ext.slider.MultiSlider",requires:["Ext.slider.Thumb","Ext.slider.Tip","Ext.Number","Ext.util.Format","Ext.Template","Ext.layout.component.field.Slider"],fieldSubTpl:['<div class="'+a.baseCSSPrefix+'slider {fieldCls} {vertical}" aria-valuemin="{minValue}" aria-valuemax="{maxValue}" aria-valuenow="{value}" aria-valuetext="{value}">','<div class="'+a.baseCSSPrefix+'slider-end" role="presentation">','<div class="'+a.baseCSSPrefix+'slider-inner" role="presentation">','<a class="'+a.baseCSSPrefix+'slider-focus" href="#" tabIndex="-1" hidefocus="on" role="presentation"></a>',"</div>","</div>","</div>",{disableFormats:true,compiled:true}],vertical:false,minValue:0,maxValue:100,decimalPrecision:0,keyIncrement:1,increment:0,clickRange:[5,15],clickToChange:true,animate:true,dragging:false,constrainThumbs:true,componentLayout:"sliderfield",useTips:true,tipText:null,ariaRole:"slider",initValue:function(){var f=this,d=a.value,c=d(f.values,[d(f.value,d(f.minValue,0))]),e=0,b=c.length;f.originalValue=c;for(;e<b;e++){f.addThumb(c[e])}},initComponent:function(){var d=this,b,c;d.thumbs=[];d.keyIncrement=Math.max(d.increment,d.keyIncrement);d.addEvents("beforechange","change","changecomplete","dragstart","drag","dragend");if(d.vertical){a.apply(d,a.slider.Multi.Vertical)}d.callParent();if(d.useTips){b=d.tipText?{getText:d.tipText}:{};d.plugins=d.plugins||[];a.each(d.plugins,function(e){if(e.isSliderTip){c=true;return false}});if(!c){d.plugins.push(a.create("Ext.slider.Tip",b))}}},addThumb:function(d){var c=this,b=a.create("Ext.slider.Thumb",{value:d,slider:c,index:c.thumbs.length,constrain:c.constrainThumbs});c.thumbs.push(b);if(c.rendered){b.render()}return b},promoteThumb:function(d){var b=this.thumbs,f=b.length,g,c,e;for(e=0;e<f;e++){c=b[e];if(c==d){c.bringToFront()}else{c.sendToBack()}}},onRender:function(){var f=this,e=0,c=f.thumbs,b=c.length,d;a.applyIf(f.subTplData,{vertical:f.vertical?a.baseCSSPrefix+"slider-vert":a.baseCSSPrefix+"slider-horz",minValue:f.minValue,maxValue:f.maxValue,value:f.value});a.applyIf(f.renderSelectors,{endEl:"."+a.baseCSSPrefix+"slider-end",innerEl:"."+a.baseCSSPrefix+"slider-inner",focusEl:"."+a.baseCSSPrefix+"slider-focus"});f.callParent(arguments);for(;e<b;e++){c[e].render()}d=f.innerEl.down("."+a.baseCSSPrefix+"slider-thumb");f.halfThumb=(f.vertical?d.getHeight():d.getWidth())/2},onChange:function(c,b){this.setValue(b,undefined,true)},initEvents:function(){var b=this;b.mon(b.el,{scope:b,mousedown:b.onMouseDown,keydown:b.onKeyDown,change:b.onChange});b.focusEl.swallowEvent("click",true)},onMouseDown:function(j){var g=this,h=false,f=0,c=g.thumbs,b=c.length,d;if(g.disabled){return}for(;f<b;f++){h=h||j.target==c[f].el.dom}if(g.clickToChange&&!h){d=g.innerEl.translatePoints(j.getXY());g.onClickChange(d)}g.focus()},onClickChange:function(d){var e=this,b,c;if(d.top>e.clickRange[0]&&d.top<e.clickRange[1]){b=e.getNearest(d,"left");if(!b.disabled){c=b.index;e.setValue(c,a.util.Format.round(e.reverseValue(d.left),e.decimalPrecision),undefined,true)}}},getNearest:function(n,c){var l=this,q=c=="top"?l.innerEl.getHeight()-n[c]:n[c],j=l.reverseValue(q),m=(l.maxValue-l.minValue)+5,g=0,d=null,h=l.thumbs,e=0,f=h.length,b,p,k;for(;e<f;e++){b=l.thumbs[e];p=b.value;k=Math.abs(p-j);if(Math.abs(k<=m)){d=b;g=e;m=k}}return d},onKeyDown:function(d){var c=this,b,f;if(c.disabled||c.thumbs.length!==1){d.preventDefault();return}b=d.getKey();switch(b){case d.UP:case d.RIGHT:d.stopEvent();f=d.ctrlKey?c.maxValue:c.getValue(0)+c.keyIncrement;c.setValue(0,f,undefined,true);break;case d.DOWN:case d.LEFT:d.stopEvent();f=d.ctrlKey?c.minValue:c.getValue(0)-c.keyIncrement;c.setValue(0,f,undefined,true);break;default:d.preventDefault()}},doSnap:function(c){var e=c,d=this.increment,b;if(!(d&&c)){return c}b=c%d;if(b!==0){e-=b;if(b*2>=d){e+=d}else{if(b*2<-d){e-=d}}}return a.Number.constrain(e,this.minValue,this.maxValue)},afterRender:function(){var g=this,f=0,c=g.thumbs,b=c.length,e,d;g.callParent(arguments);for(;f<b;f++){e=c[f];if(e.value!==undefined){d=g.normalizeValue(e.value);if(d!==e.value){g.setValue(f,d,false)}else{e.move(g.translateValue(d),false)}}}},getRatio:function(){var b=this.innerEl.getWidth(),c=this.maxValue-this.minValue;return c===0?b:(b/c)},normalizeValue:function(b){var c=this;b=c.doSnap(b);b=a.util.Format.round(b,c.decimalPrecision);b=a.Number.constrain(b,c.minValue,c.maxValue);return b},setMinValue:function(g){var f=this,e=0,c=f.thumbs,b=c.length,d;f.minValue=g;f.inputEl.dom.setAttribute("aria-valuemin",g);for(;e<b;++e){d=c[e];d.value=d.value<g?g:d.value}f.syncThumbs()},setMaxValue:function(g){var f=this,e=0,c=f.thumbs,b=c.length,d;f.maxValue=g;f.inputEl.dom.setAttribute("aria-valuemax",g);for(;e<b;++e){d=c[e];d.value=d.value>g?g:d.value}f.syncThumbs()},setValue:function(d,g,c,f){var e=this,b=e.thumbs[d];g=e.normalizeValue(g);if(g!==b.value&&e.fireEvent("beforechange",e,g,b.value,b)!==false){b.value=g;if(e.rendered){e.inputEl.set({"aria-valuenow":g,"aria-valuetext":g});b.move(e.translateValue(g),a.isDefined(c)?c!==false:e.animate);e.fireEvent("change",e,g,b);if(f){e.fireEvent("changecomplete",e,g,b)}}}},translateValue:function(b){var c=this.getRatio();return(b*c)-(this.minValue*c)-this.halfThumb},reverseValue:function(c){var b=this.getRatio();return(c+(this.minValue*b))/b},focus:function(){this.focusEl.focus(10)},onDisable:function(){var g=this,e=0,c=g.thumbs,b=c.length,d,f,h;g.callParent();for(;e<b;e++){d=c[e];f=d.el;d.disable();if(a.isIE){h=f.getXY();f.hide();g.innerEl.addCls(g.disabledCls).dom.disabled=true;if(!g.thumbHolder){g.thumbHolder=g.endEl.createChild({cls:a.baseCSSPrefix+"slider-thumb "+g.disabledCls})}g.thumbHolder.show().setXY(h)}}},onEnable:function(){var g=this,e=0,c=g.thumbs,b=c.length,d,f;this.callParent();for(;e<b;e++){d=c[e];f=d.el;d.enable();if(a.isIE){g.innerEl.removeCls(g.disabledCls).dom.disabled=false;if(g.thumbHolder){g.thumbHolder.hide()}f.show();g.syncThumbs()}}},syncThumbs:function(){if(this.rendered){var b=this.thumbs,d=b.length,c=0;for(;c<d;c++){b[c].move(this.translateValue(b[c].value))}}},getValue:function(b){return a.isNumber(b)?this.thumbs[b].value:this.getValues()},getValues:function(){var d=[],e=0,c=this.thumbs,b=c.length;for(;e<b;e++){d.push(c[e].value)}return d},getSubmitValue:function(){var b=this;return(b.disabled||!b.submitValue)?null:b.getValue()},reset:function(){var c=this,b=a.Array;b.forEach(b.from(c.originalValue),function(e,d){c.setValue(d,e)});c.clearInvalid();delete c.wasValid},beforeDestroy:function(){var b=this;a.destroyMembers(b.innerEl,b.endEl,b.focusEl);a.each(b.thumbs,function(c){a.destroy(c)},b);b.callParent()},statics:{Vertical:{getRatio:function(){var c=this.innerEl.getHeight(),b=this.maxValue-this.minValue;return c/b},onClickChange:function(e){var f=this,c,d,b;if(e.left>f.clickRange[0]&&e.left<f.clickRange[1]){c=f.getNearest(e,"top");if(!c.disabled){d=c.index;b=f.reverseValue(f.innerEl.getHeight()-e.top);f.setValue(d,a.util.Format.round(f.minValue+b,f.decimalPrecision),undefined,true)}}}}}});a.define("Ext.slider.Single",{extend:"Ext.slider.Multi",alias:["widget.slider","widget.sliderfield"],alternateClassName:["Ext.Slider","Ext.form.SliderField","Ext.slider.SingleSlider","Ext.slider.Slider"],getValue:function(){return this.callParent([0])},setValue:function(e,c){var d=a.toArray(arguments),b=d.length;if(b==1||(b<=3&&typeof arguments[1]!="number")){d.unshift(0)}return this.callParent(d)},getNearest:function(){return this.thumbs[0]}});a.define("Ext.tab.Tab",{extend:"Ext.button.Button",alias:"widget.tab",requires:["Ext.layout.component.Tab","Ext.util.KeyNav"],componentLayout:"tab",isTab:true,baseCls:a.baseCSSPrefix+"tab",activeCls:"active",closableCls:"closable",closable:true,closeText:"Close Tab",active:false,scale:false,position:"top",initComponent:function(){var b=this;b.addEvents("activate","deactivate","beforeclose","close");b.callParent(arguments);if(b.card){b.setCard(b.card)}},onRender:function(){var b=this;b.addClsWithUI(b.position);b.syncClosableUI();b.callParent(arguments);if(b.active){b.activate(true)}b.syncClosableElements();b.keyNav=a.create("Ext.util.KeyNav",b.el,{enter:b.onEnterKey,del:b.onDeleteKey,scope:b})},enable:function(b){var c=this;c.callParent(arguments);c.removeClsWithUI(c.position+"-disabled");return c},disable:function(b){var c=this;c.callParent(arguments);c.addClsWithUI(c.position+"-disabled");return c},onDestroy:function(){var b=this;if(b.closeEl){b.closeEl.un("click",a.EventManager.preventDefault);b.closeEl=null}a.destroy(b.keyNav);delete b.keyNav;b.callParent(arguments)},setClosable:function(b){var c=this;b=(!arguments.length||!!b);if(c.closable!=b){c.closable=b;if(c.card){c.card.closable=b}c.syncClosableUI();if(c.rendered){c.syncClosableElements();c.doComponentLayout();if(c.ownerCt){c.ownerCt.doLayout()}}}},syncClosableElements:function(){var b=this;if(b.closable){if(!b.closeEl){b.closeEl=b.el.createChild({tag:"a",cls:b.baseCls+"-close-btn",href:"#",html:b.closeText,title:b.closeText}).on("click",a.EventManager.preventDefault)}}else{var c=b.closeEl;if(c){c.un("click",a.EventManager.preventDefault);c.remove();b.closeEl=null}}},syncClosableUI:function(){var c=this,b=[c.closableCls,c.closableCls+"-"+c.position];if(c.closable){c.addClsWithUI(b)}else{c.removeClsWithUI(b)}},setCard:function(b){var c=this;c.card=b;c.setText(c.title||b.title);c.setIconCls(c.iconCls||b.iconCls)},onCloseClick:function(){var b=this;if(b.fireEvent("beforeclose",b)!==false){if(b.tabBar){if(b.tabBar.closeTab(b)===false){return}}else{b.fireEvent("close",b)}}},fireClose:function(){this.fireEvent("close",this)},onEnterKey:function(c){var b=this;if(b.tabBar){b.tabBar.onClick(c,b.el)}},onDeleteKey:function(c){var b=this;if(b.closable){b.onCloseClick()}},activate:function(c){var b=this;b.active=true;b.addClsWithUI([b.activeCls,b.position+"-"+b.activeCls]);if(c!==true){b.fireEvent("activate",b)}},deactivate:function(c){var b=this;b.active=false;b.removeClsWithUI([b.activeCls,b.position+"-"+b.activeCls]);if(c!==true){b.fireEvent("deactivate",b)}}});a.define("Ext.tab.Bar",{extend:"Ext.panel.Header",alias:"widget.tabbar",baseCls:a.baseCSSPrefix+"tab-bar",requires:["Ext.tab.Tab","Ext.FocusManager"],defaultType:"tab",plain:false,renderTpl:['<div class="{baseCls}-body<tpl if="ui"> {baseCls}-body-{ui}<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl></tpl>"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>></div>','<div class="{baseCls}-strip<tpl if="ui"> {baseCls}-strip-{ui}<tpl for="uiCls"> {parent.baseCls}-strip-{parent.ui}-{.}</tpl></tpl>"></div>'],minTabWidth:30,maxTabWidth:undefined,initComponent:function(){var c=this,b;if(c.plain){c.setUI(c.ui+"-plain")}c.addClsWithUI(c.dock);c.addEvents("change");a.applyIf(c.renderSelectors,{body:"."+c.baseCls+"-body",strip:"."+c.baseCls+"-strip"});c.callParent(arguments);c.layout.align=(c.orientation=="vertical")?"left":"top";c.layout.overflowHandler=a.create("Ext.layout.container.boxOverflow.Scroller",c.layout);c.items.removeAt(c.items.getCount()-1);c.items.removeAt(c.items.getCount()-1);b=c.orientation=="vertical"?["up","down"]:["left","right"];a.FocusManager.subscribe(c,{keys:b})},onAdd:function(b){var c=this,e=c.tabPanel,d=!!e;c.callParent(arguments);b.position=c.dock;if(d){b.minWidth=e.minTabWidth}else{b.minWidth=c.minTabWidth+(b.iconCls?25:0)}b.maxWidth=c.maxTabWidth||(d?e.maxTabWidth:undefined)},afterRender:function(){var b=this;b.mon(b.el,{scope:b,click:b.onClick,delegate:"."+a.baseCSSPrefix+"tab"});b.callParent(arguments)},afterComponentLayout:function(){var b=this;b.callParent(arguments);b.strip.setWidth(b.el.getWidth())},onClick:function(f,d){var c=a.getCmp(d.id),g=this.tabPanel,b=true;d=f.getTarget();if(c&&c.isDisabled&&!c.isDisabled()){if(c.closable&&d===c.closeEl.dom){c.onCloseClick()}else{if(g){g.setActiveTab(c.card)}else{this.setActiveTab(c)}c.focus()}}},closeTab:function(d){var e=this,c=d.card,f=e.tabPanel,b;if(c&&c.fireEvent("beforeclose",c)===false){return false}if(d.active&&e.items.getCount()>1){b=d.next("tab")||e.items.items[0];e.setActiveTab(b);if(f){f.setActiveTab(b.card)}}d.fireClose();e.remove(d);if(f&&c){c.fireEvent("close",c);f.remove(c)}if(b){b.focus()}},setActiveTab:function(b){if(b.disabled){return}var c=this;if(c.activeTab){c.activeTab.deactivate()}b.activate();if(c.rendered){c.layout.layout();b.el.scrollIntoView(c.layout.getRenderTarget())}c.activeTab=b;c.fireEvent("change",c,b,b.card)}});a.define("Ext.tab.Panel",{extend:"Ext.panel.Panel",alias:"widget.tabpanel",alternateClassName:["Ext.TabPanel"],requires:["Ext.layout.container.Card","Ext.tab.Bar"],tabPosition:"top",removePanelHeader:true,plain:false,itemCls:"x-tabpanel-child",deferredRender:true,initComponent:function(){var d=this,c=d.dockedItems||[],b=d.activeTab||0;d.layout=a.create("Ext.layout.container.Card",a.apply({owner:d,deferredRender:d.deferredRender,itemCls:d.itemCls},d.layout));d.tabBar=a.create("Ext.tab.Bar",a.apply({},d.tabBar,{dock:d.tabPosition,plain:d.plain,border:d.border,cardLayout:d.layout,tabPanel:d}));if(c&&!a.isArray(c)){c=[c]}c.push(d.tabBar);d.dockedItems=c;d.addEvents("beforetabchange","tabchange");d.callParent(arguments);d.setActiveTab(b);d.on("afterlayout",d.afterInitialLayout,d,{single:true})},afterInitialLayout:function(){var c=this,b=c.getComponent(c.activeTab);if(b){c.layout.setActiveItem(b)}},setActiveTab:function(b){var d=this,c;b=d.getComponent(b);if(b){c=d.getActiveTab();if(c&&c!==b&&d.fireEvent("beforetabchange",d,b,c)===false){return false}d.tabBar.setActiveTab(b.tab);d.activeTab=b;if(d.rendered){d.layout.setActiveItem(b)}if(c&&c!==b){d.fireEvent("tabchange",d,b,c)}}},getActiveTab:function(){return this.activeTab},getTabBar:function(){return this.tabBar},onAdd:function(d,b){var c=this;d.tab=c.tabBar.insert(b,{xtype:"tab",card:d,disabled:d.disabled,closable:d.closable,hidden:d.hidden,tabBar:c.tabBar});d.on({scope:c,enable:c.onItemEnable,disable:c.onItemDisable,beforeshow:c.onItemBeforeShow,iconchange:c.onItemIconChange,titlechange:c.onItemTitleChange});if(d.isPanel){if(c.removePanelHeader){d.preventHeader=true;if(d.rendered){d.updateHeader()}}if(d.isPanel&&c.border){d.setBorder(false)}}if(this.rendered&&c.items.getCount()===1){c.setActiveTab(0)}},onItemEnable:function(b){b.tab.enable()},onItemDisable:function(b){b.tab.disable()},onItemBeforeShow:function(b){if(b!==this.activeTab){this.setActiveTab(b);return false}},onItemIconChange:function(c,b){c.tab.setIconCls(b);this.getTabBar().doLayout()},onItemTitleChange:function(b,c){b.tab.setText(c);this.getTabBar().doLayout()},doRemove:function(e,c){var d=this,b=d.items,f=b.getCount()>1;if(d.destroying||!f){d.activeTab=null}else{if(e===d.activeTab){d.setActiveTab(e.next()||b.getAt(0))}}d.callParent(arguments);delete e.tab.card;delete e.tab},onRemove:function(d,b){var c=this;d.un({scope:c,enable:c.onItemEnable,disable:c.onItemDisable,beforeshow:c.onItemBeforeShow});if(!c.destroying&&d.tab.ownerCt==c.tabBar){c.tabBar.remove(d.tab)}}});a.define("Ext.toolbar.Spacer",{extend:"Ext.Component",alias:"widget.tbspacer",alternateClassName:"Ext.Toolbar.Spacer",baseCls:a.baseCSSPrefix+"toolbar-spacer",focusable:false});a.define("Ext.tree.Column",{extend:"Ext.grid.column.Column",alias:"widget.treecolumn",initComponent:function(){var b=this.renderer||this.defaultRenderer,c=this.scope||window;this.renderer=function(m,p,f,e,l,h,k){var t=[],r=a.String.format,v=f.getDepth(),s=a.baseCSSPrefix+"tree-",g=s+"elbow-",n=s+"expander",j='<img src="{1}" class="{0}" />',w='<input type="button" role="checkbox" class="{0}" {1} />',i=b.apply(c,arguments),q=f.get("href"),u=f.get("hrefTarget"),d=f.get("cls");while(f){if(!f.isRoot()||(f.isRoot()&&k.rootVisible)){if(f.getDepth()===v){t.unshift(r(j,s+"icon "+s+"icon"+(f.get("icon")?"-inline ":(f.isLeaf()?"-leaf ":"-parent "))+(f.get("iconCls")||""),f.get("icon")||a.BLANK_IMAGE_URL));if(f.get("checked")!==null){t.unshift(r(w,(s+"checkbox")+(f.get("checked")?" "+s+"checkbox-checked":""),f.get("checked")?'aria-checked="true"':""));if(f.get("checked")){p.tdCls+=(" "+a.baseCSSPrefix+"tree-checked")}}if(f.isLast()){if(f.isLeaf()||(f.isLoaded()&&!f.hasChildNodes())){t.unshift(r(j,(g+"end"),a.BLANK_IMAGE_URL))}else{t.unshift(r(j,(g+"end-plus "+n),a.BLANK_IMAGE_URL))}}else{if(f.isLeaf()||(f.isLoaded()&&!f.hasChildNodes())){t.unshift(r(j,(s+"elbow"),a.BLANK_IMAGE_URL))}else{t.unshift(r(j,(g+"plus "+n),a.BLANK_IMAGE_URL))}}}else{if(f.isLast()||f.getDepth()===0){t.unshift(r(j,(g+"empty"),a.BLANK_IMAGE_URL))}else{if(f.getDepth()!==0){t.unshift(r(j,(g+"line"),a.BLANK_IMAGE_URL))}}}}f=f.parentNode}if(q){i=r('<a href="{0}" target="{1}">{2}</a>',q,u,i)}if(d){p.tdCls+=" "+d}return t.join("")+i};this.callParent(arguments)},defaultRenderer:function(b){return b}});a.define("Ext.tree.View",{extend:"Ext.view.Table",alias:"widget.treeview",loadingCls:a.baseCSSPrefix+"grid-tree-loading",expandedCls:a.baseCSSPrefix+"grid-tree-node-expanded",expanderSelector:"."+a.baseCSSPrefix+"tree-expander",checkboxSelector:"."+a.baseCSSPrefix+"tree-checkbox",expanderIconOverCls:a.baseCSSPrefix+"tree-expander-over",blockRefresh:true,rootVisible:true,expandDuration:250,collapseDuration:250,toggleOnDblClick:true,initComponent:function(){var b=this;if(b.initialConfig.animate===undefined){b.animate=a.enableFx}b.store=a.create("Ext.data.NodeStore",{recursive:true,rootVisible:b.rootVisible,listeners:{beforeexpand:b.onBeforeExpand,expand:b.onExpand,beforecollapse:b.onBeforeCollapse,collapse:b.onCollapse,scope:b}});if(b.node){b.setRootNode(b.node)}b.animQueue={};b.callParent(arguments)},onClear:function(){this.store.removeAll()},setRootNode:function(c){var b=this;b.store.setNode(c);b.node=c;if(!b.rootVisible){c.expand()}},onRender:function(){var d=this,c={delegate:d.expanderSelector},b;d.callParent(arguments);b=d.el;b.on({scope:d,delegate:d.expanderSelector,mouseover:d.onExpanderMouseOver,mouseout:d.onExpanderMouseOut});b.on({scope:d,delegate:d.checkboxSelector,click:d.onCheckboxChange})},onCheckboxChange:function(g,c){var d=g.getTarget(this.getItemSelector(),this.getTargetEl()),b,f;if(d){b=this.getRecord(d);f=!b.get("checked");b.set("checked",f);this.fireEvent("checkchange",b,f)}},getChecked:function(){var b=[];this.node.cascadeBy(function(c){if(c.get("checked")){b.push(c)}});return b},isItemChecked:function(b){return b.get("checked")},createAnimWrap:function(j,k){var g="",f=this.panel.headerCt,c=f.getGridColumns(),h=0,l=c.length,m,e=this.getNode(j),b,d;for(;h<l;h++){m=c[h];g+='<th style="width: '+(m.hidden?0:m.getDesiredWidth())+'px; height: 0px;"></th>'}d=a.get(e);b=d.insertSibling({tag:"tr",html:['<td colspan="'+f.getColumnCount()+'">','<div class="'+a.baseCSSPrefix+'tree-animator-wrap">','<table class="'+a.baseCSSPrefix+'grid-table" style="width: '+f.getFullWidth()+'px;"><tbody>',g,"</tbody></table>","</div>","</td>"].join("")},"after");return{record:j,node:e,el:b,expanding:false,collapsing:false,animating:false,animateEl:b.down("div"),targetEl:b.down("tbody")}},getAnimWrap:function(b){if(!this.animate){return null}while(b){if(b.animWrap){return b.animWrap}b=b.parentNode}return null},doAdd:function(b,d,h){var i=this,f=d[0],k=f.parentNode,j=i.all.elements,m=0,e=i.getAnimWrap(k),l,c,g;if(!e||!e.expanding){i.resetScrollers();return i.callParent(arguments)}k=e.record;l=e.targetEl;c=l.dom.childNodes;g=c.length-1;m=h-i.indexOf(k)-1;if(!g||m>=g){l.appendChild(b)}else{a.fly(c[m+1]).insertSibling(b,"before",true)}if(h<j.length){j.splice.apply(j,[h,0].concat(b))}else{j.push.apply(j,b)}if(e.isAnimating){i.onExpand(k)}},doRemove:function(b,d){var h=this,f=b.parentNode,e=h.all,c=h.getAnimWrap(b),g=e.item(d).dom;if(!c||!c.collapsing){h.resetScrollers();return h.callParent(arguments)}c.targetEl.appendChild(g);e.removeElement(d)},onBeforeExpand:function(e,c,d){var f=this,b;if(!f.rendered||!f.animate){return}if(f.getNode(e)){b=f.getAnimWrap(e);if(!b){b=e.animWrap=f.createAnimWrap(e);b.animateEl.setHeight(0)}else{if(b.collapsing){b.targetEl.select(f.itemSelector).remove()}}b.expanding=true;b.collapsing=false}},onExpand:function(d){var e=this,b=e.animQueue,i=d.getId(),c,f,g,h;if(e.singleExpand){e.ensureSingleExpand(d)}c=e.getAnimWrap(d);if(!c){e.resetScrollers();return}f=c.animateEl;g=c.targetEl;f.stopAnimation();b[i]=true;f.slideIn("t",{duration:e.expandDuration,listeners:{scope:e,lastframe:function(){c.el.insertSibling(g.query(e.itemSelector),"before");c.el.remove();e.resetScrollers();delete c.record.animWrap;delete b[i]}}});c.isAnimating=true},resetScrollers:function(){var b=this.panel;b.determineScrollbars();b.invalidateScroller()},onBeforeCollapse:function(e,c,d){var f=this,b;if(!f.rendered||!f.animate){return}if(f.getNode(e)){b=f.getAnimWrap(e);if(!b){b=e.animWrap=f.createAnimWrap(e,d)}else{if(b.expanding){b.targetEl.select(this.itemSelector).remove()}}b.expanding=false;b.collapsing=true}},onCollapse:function(d){var e=this,b=e.animQueue,h=d.getId(),c=e.getAnimWrap(d),f,g;if(!c){e.resetScrollers();return}f=c.animateEl;g=c.targetEl;b[h]=true;f.stopAnimation();f.slideOut("t",{duration:e.collapseDuration,listeners:{scope:e,lastframe:function(){c.el.remove();delete c.record.animWrap;e.resetScrollers();delete b[h]}}});c.isAnimating=true},isAnimating:function(b){return !!this.animQueue[b.getId()]},collectData:function(d){var g=this.callParent(arguments),f=g.rows,b=f.length,e=0,h,c;for(;e<b;e++){h=f[e];c=d[e];if(c.get("qtip")){h.rowAttr='data-qtip="'+c.get("qtip")+'"';if(c.get("qtitle")){h.rowAttr+=' data-qtitle="'+c.get("qtitle")+'"'}}if(c.isExpanded()){h.rowCls=(h.rowCls||"")+" "+this.expandedCls}if(c.isLoading()){h.rowCls=(h.rowCls||"")+" "+this.loadingCls}}return g},expand:function(c,b,e,d){return c.expand(b,e,d)},collapse:function(c,b,e,d){return c.collapse(b,e,d)},toggle:function(b){this[b.isExpanded()?"collapse":"expand"](b)},onItemDblClick:function(b,d,c){this.callParent(arguments);if(this.toggleOnDblClick){this.toggle(b)}},onBeforeItemMouseDown:function(b,d,c,f){if(f.getTarget(this.expanderSelector,d)){return false}return this.callParent(arguments)},onItemClick:function(b,d,c,f){if(f.getTarget(this.expanderSelector,d)){this.toggle(b);return false}return this.callParent(arguments)},onExpanderMouseOver:function(c,b){c.getTarget(this.cellSelector,10,true).addCls(this.expanderIconOverCls)},onExpanderMouseOut:function(c,b){c.getTarget(this.cellSelector,10,true).removeCls(this.expanderIconOverCls)},getTreeStore:function(){return this.panel.store},ensureSingleExpand:function(c){var b=c.parentNode;if(b){b.eachChild(function(d){if(d!==c&&d.isExpanded()){d.collapse()}})}}});a.define("Ext.tree.Panel",{extend:"Ext.panel.Table",alias:"widget.treepanel",alternateClassName:["Ext.tree.TreePanel","Ext.TreePanel"],requires:["Ext.tree.View","Ext.selection.TreeModel","Ext.tree.Column"],viewType:"treeview",selType:"treemodel",treeCls:a.baseCSSPrefix+"tree-panel",lines:true,useArrows:false,singleExpand:false,ddConfig:{enableDrag:true,enableDrop:true},rootVisible:true,displayField:"text",root:null,normalCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible","scroll"],lockedCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible"],constructor:function(b){b=b||{};if(b.animate===undefined){b.animate=a.enableFx}this.enableAnimations=b.animate;delete b.animate;this.callParent([b])},initComponent:function(){var c=this,b=[c.treeCls];if(c.useArrows){b.push(a.baseCSSPrefix+"tree-arrows");c.lines=false}if(c.lines){b.push(a.baseCSSPrefix+"tree-lines")}else{if(!c.useArrows){b.push(a.baseCSSPrefix+"tree-no-lines")}}if(a.isString(c.store)){c.store=a.StoreMgr.lookup(c.store)}else{if(!c.store||a.isObject(c.store)&&!c.store.isStore){c.store=a.create("Ext.data.TreeStore",a.apply({},c.store||{},{root:c.root,fields:c.fields,model:c.model,folderSort:c.folderSort}))}else{if(c.root){c.store=a.data.StoreManager.lookup(c.store);c.store.setRootNode(c.root);if(c.folderSort!==undefined){c.store.folderSort=c.folderSort;c.store.sort()}}}}c.viewConfig=a.applyIf(c.viewConfig||{},{rootVisible:c.rootVisible,animate:c.enableAnimations,singleExpand:c.singleExpand,node:c.store.getRootNode(),hideHeaders:c.hideHeaders});c.mon(c.store,{scope:c,rootchange:c.onRootChange,clear:c.onClear});c.relayEvents(c.store,["beforeload","load"]);c.store.on({append:c.createRelayer("itemappend"),remove:c.createRelayer("itemremove"),move:c.createRelayer("itemmove"),insert:c.createRelayer("iteminsert"),beforeappend:c.createRelayer("beforeitemappend"),beforeremove:c.createRelayer("beforeitemremove"),beforemove:c.createRelayer("beforeitemmove"),beforeinsert:c.createRelayer("beforeiteminsert"),expand:c.createRelayer("itemexpand"),collapse:c.createRelayer("itemcollapse"),beforeexpand:c.createRelayer("beforeitemexpand"),beforecollapse:c.createRelayer("beforeitemcollapse")});if(!c.columns){if(c.initialConfig.hideHeaders===undefined){c.hideHeaders=true}c.columns=[{xtype:"treecolumn",text:"Name",flex:1,dataIndex:c.displayField}]}if(c.cls){b.push(c.cls)}c.cls=b.join(" ");c.callParent();c.relayEvents(c.getView(),["checkchange"]);if(!c.getView().rootVisible&&!c.getRootNode()){c.setRootNode({expanded:true})}},onClear:function(){this.view.onClear()},setRootNode:function(){return this.store.setRootNode.apply(this.store,arguments)},getRootNode:function(){return this.store.getRootNode()},onRootChange:function(b){this.view.setRootNode(b)},getChecked:function(){return this.getView().getChecked()},isItemChecked:function(b){return b.get("checked")},expandAll:function(d,c){var b=this.getRootNode();if(b){b.expand(true,d,c)}},collapseAll:function(d,c){var b=this.getRootNode();if(b){if(this.getView().rootVisible){b.collapse(true,d,c)}else{b.collapseChildren(true,d,c)}}},expandPath:function(l,g,b,h,k){var e=this,d=e.getRootNode(),c=1,f=e.getView(),j,i;g=g||e.getRootNode().idProperty;b=b||"/";if(a.isEmpty(l)){a.callback(h,k||e,[false,null]);return}j=l.split(b);if(d.get(g)!=j[1]){a.callback(h,k||e,[false,d]);return}i=function(){if(++c===j.length){a.callback(h,k||e,[true,d]);return}var m=d.findChild(g,j[c]);if(!m){a.callback(h,k||e,[false,d]);return}d=m;d.expand(false,i)};d.expand(false,i)},selectPath:function(h,g,f,i,b){var e=this,d,c;g=g||e.getRootNode().idProperty;f=f||"/";d=h.split(f);c=d.pop();e.expandPath(d.join("/"),g,f,function(l,k){var j=false;if(l&&k){k=k.findChild(g,c);if(k){e.getSelectionModel().select(k);a.callback(i,b||e,[true,k]);j=true}}else{if(k===e.getRootNode()){j=true}}a.callback(i,b||e,[j,k])},e)}});a.define("Ext.view.DragZone",{extend:"Ext.dd.DragZone",containerScroll:false,constructor:function(b){var c=this;a.apply(c,b);if(!c.ddGroup){c.ddGroup="view-dd-zone-"+c.view.id}c.callParent([c.view.el.dom.parentNode]);c.ddel=a.get(document.createElement("div"));c.ddel.addCls(a.baseCSSPrefix+"grid-dd-wrap")},init:function(d,b,c){this.initTarget(d,b,c);this.view.mon(this.view,{itemmousedown:this.onItemMouseDown,scope:this})},onItemMouseDown:function(c,b,f,d,g){if(!this.isPreventDrag(g,b,f,d)){this.handleMouseDown(g)}},isPreventDrag:function(b){return false},getDragData:function(h){var d=this.view,g=h.getTarget(d.getItemSelector()),c,b,f;if(g){c=d.getRecord(g);b=d.getSelectionModel();f=b.getSelection();return{copy:this.view.copy||(this.view.allowCopy&&h.ctrlKey),event:new a.EventObjectImpl(h),view:d,ddel:this.ddel,item:g,records:f,fromPosition:a.fly(g).getXY()}}},onInitDrag:function(c,j){var g=this,h=g.dragData,f=h.view,b=f.getSelectionModel(),d=f.getRecord(h.item),i=h.event;if(!b.isSelected(d)||i.hasModifier()){b.selectWithEvent(d,i)}h.records=b.getSelection();g.ddel.update(g.getDragText());g.proxy.update(g.ddel.dom);g.onStartDrag(c,j);return true},getDragText:function(){var b=this.dragData.records.length;return a.String.format(this.dragText,b,b==1?"":"s")},getRepairXY:function(c,b){return b?b.fromPosition:false}});a.define("Ext.tree.ViewDragZone",{extend:"Ext.view.DragZone",isPreventDrag:function(c,b){return(b.get("allowDrag")===false)||!!c.getTarget(this.view.expanderSelector)},afterRepair:function(){var e=this,b=e.view,f=b.selectedItemCls,c=e.dragData.records,d=a.fly;if(a.enableFx&&e.repairHighlight){a.Array.forEach(c,function(g){var h=b.getNode(g);d(h.firstChild).highlight(e.repairHighlightColor,{listeners:{beforeanimate:function(){if(b.isSelected(h)){d(h).removeCls(f)}},afteranimate:function(){if(b.isSelected(h)){d(h).addCls(f)}}}})})}e.dragging=false}});a.define("Ext.tree.ViewDropZone",{extend:"Ext.view.DropZone",allowParentInserts:false,allowContainerDrops:false,appendOnly:false,expandDelay:500,indicatorCls:"x-tree-ddindicator",expandNode:function(c){var b=this.view;if(!c.isLeaf()&&!c.isExpanded()){b.expand(c);this.expandProcId=false}},queueExpand:function(b){this.expandProcId=a.Function.defer(this.expandNode,this.expandDelay,this,[b])},cancelExpand:function(){if(this.expandProcId){clearTimeout(this.expandProcId);this.expandProcId=false}},getPosition:function(g,c){var j=this.view,d=j.getRecord(c),h=g.getPageY(),k=d.isLeaf(),b=false,i=a.fly(c).getRegion(),f;if(d.isRoot()){return"append"}if(this.appendOnly){return k?false:"append"}if(!this.allowParentInsert){b=d.hasChildNodes()&&d.isExpanded()}f=(i.bottom-i.top)/(k?2:3);if(h>=i.top&&h<(i.top+f)){return"before"}else{if(!b&&(k||(h>=(i.bottom-f)&&h<=i.bottom))){return"after"}else{return"append"}}},isValidDropPoint:function(c,j,n,k,g){if(!c||!g.item){return false}var p=this.view,l=p.getRecord(c),f=g.records,b=f.length,m=f.length,d,h;if(!(l&&j&&b)){return false}for(d=0;d<m;d++){h=f[d];if(h.isNode&&h.contains(l)){return false}}if(j==="append"&&l.get("allowDrop")==false){return false}else{if(j!="append"&&l.parentNode.get("allowDrop")==false){return false}}if(a.Array.contains(f,l)){return false}return true},onNodeOver:function(b,i,g,d){var f=this.getPosition(g,b),c=this.dropNotAllowed,j=this.view,h=j.getRecord(b),k=this.getIndicator(),m=0,l=0;this.cancelExpand();if(f=="append"&&!this.expandProcId&&!a.Array.contains(d.records,h)&&!h.isLeaf()&&!h.isExpanded()){this.queueExpand(h)}if(this.isValidDropPoint(b,f,i,g,d)){this.valid=true;this.currentPosition=f;this.overRecord=h;k.setWidth(a.fly(b).getWidth());l=a.fly(b).getY()-a.fly(j.el).getY()-1;if(f=="before"){c=h.isFirst()?a.baseCSSPrefix+"tree-drop-ok-above":a.baseCSSPrefix+"tree-drop-ok-between";k.showAt(0,l);k.toFront()}else{if(f=="after"){c=h.isLast()?a.baseCSSPrefix+"tree-drop-ok-below":a.baseCSSPrefix+"tree-drop-ok-between";l+=a.fly(b).getHeight();k.showAt(0,l);k.toFront()}else{c=a.baseCSSPrefix+"tree-drop-ok-append";k.hide()}}}else{this.valid=false}this.currentCls=c;return c},onContainerOver:function(b,d,c){return d.getTarget("."+this.indicatorCls)?this.currentCls:this.dropNotAllowed},notifyOut:function(){this.callParent(arguments);this.cancelExpand()},handleNodeDrop:function(e,l,f){var n=this,p=n.view,g=l.parentNode,q=p.getStore(),s=[],b,d,k,c,j,m,r,h;if(e.copy){b=e.records;e.records=[];for(d=0,k=b.length;d<k;d++){e.records.push(a.apply({},b[d].data))}}n.cancelExpand();if(f=="before"){c=g.insertBefore;j=[null,l];l=g}else{if(f=="after"){if(l.nextSibling){c=g.insertBefore;j=[null,l.nextSibling]}else{c=g.appendChild;j=[null]}l=g}else{if(!l.isExpanded()){m=true}c=l.appendChild;j=[null]}}r=function(){var i;for(d=0,k=e.records.length;d<k;d++){j[0]=e.records[d];i=c.apply(l,j);if(a.enableFx&&n.dropHighlight){s.push(p.getNode(i))}}if(a.enableFx&&n.dropHighlight){a.Array.forEach(s,function(t){a.fly(t.firstChild?t.firstChild:t).highlight(n.dropHighlightColor)})}};if(m){l.expand(false,r)}else{r()}}});a.define("Ext.tree.plugin.TreeViewDragDrop",{extend:"Ext.AbstractPlugin",alias:"plugin.treeviewdragdrop",uses:["Ext.tree.ViewDragZone","Ext.tree.ViewDropZone"],dragText:"{0} selected node{1}",allowParentInserts:false,allowContainerDrops:false,appendOnly:false,ddGroup:"TreeDD",expandDelay:1000,enableDrop:true,enableDrag:true,nodeHighlightColor:"c3daf9",nodeHighlightOnDrop:a.enableFx,nodeHighlightOnRepair:a.enableFx,init:function(b){b.on("render",this.onViewRender,this,{single:true})},destroy:function(){a.destroy(this.dragZone,this.dropZone)},onViewRender:function(b){var c=this;if(c.enableDrag){c.dragZone=a.create("Ext.tree.ViewDragZone",{view:b,ddGroup:c.dragGroup||c.ddGroup,dragText:c.dragText,repairHighlightColor:c.nodeHighlightColor,repairHighlight:c.nodeHighlightOnRepair})}if(c.enableDrop){c.dropZone=a.create("Ext.tree.ViewDropZone",{view:b,ddGroup:c.dropGroup||c.ddGroup,allowContainerDrops:c.allowContainerDrops,appendOnly:c.appendOnly,allowParentInserts:c.allowParentInserts,expandDelay:c.expandDelay,dropHighlightColor:c.nodeHighlightColor,dropHighlight:c.nodeHighlightOnDrop})}}});a.define("Ext.util.Cookies",{singleton:true,set:function(d,f){var b=arguments,i=arguments.length,c=(i>2)?b[2]:null,h=(i>3)?b[3]:"/",e=(i>4)?b[4]:null,g=(i>5)?b[5]:false;document.cookie=d+"="+escape(f)+((c===null)?"":("; expires="+c.toGMTString()))+((h===null)?"":("; path="+h))+((e===null)?"":("; domain="+e))+((g===true)?"; secure":"")},get:function(e){var c=e+"=",g=c.length,b=document.cookie.length,f=0,d=0;while(f<b){d=f+g;if(document.cookie.substring(f,d)==c){return this.getCookieVal(d)}f=document.cookie.indexOf(" ",f)+1;if(f===0){break}}return null},clear:function(b,c){if(this.get(b)){c=c||"/";document.cookie=b+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path="+c}},getCookieVal:function(c){var b=document.cookie.indexOf(";",c);if(b==-1){b=document.cookie.length}return unescape(document.cookie.substring(c,b))}});a.define("Ext.util.CSS",function(){var e=null;var d=document;var c=/(-[a-z])/gi;var b=function(f,g){return g.charAt(1).toUpperCase()};return{singleton:true,constructor:function(){this.rules={};this.initialized=false},createStyleSheet:function(h,k){var g,f=d.getElementsByTagName("head")[0],j=d.createElement("style");j.setAttribute("type","text/css");if(k){j.setAttribute("id",k)}if(a.isIE){f.appendChild(j);g=j.styleSheet;g.cssText=h}else{try{j.appendChild(d.createTextNode(h))}catch(i){j.cssText=h}f.appendChild(j);g=j.styleSheet?j.styleSheet:(j.sheet||d.styleSheets[d.styleSheets.length-1])}this.cacheStyleSheet(g);return g},removeStyleSheet:function(g){var f=document.getElementById(g);if(f){f.parentNode.removeChild(f)}},swapStyleSheet:function(i,f){var h=document;this.removeStyleSheet(i);var g=h.createElement("link");g.setAttribute("rel","stylesheet");g.setAttribute("type","text/css");g.setAttribute("id",i);g.setAttribute("href",f);h.getElementsByTagName("head")[0].appendChild(g)},refreshCache:function(){return this.getRules(true)},cacheStyleSheet:function(k){if(!e){e={}}try{var n=k.cssRules||k.rules,l,h=n.length-1,f,g;for(;h>=0;--h){l=n[h].selectorText;if(l){l=l.split(",");g=l.length;for(f=0;f<g;f++){e[a.String.trim(l[f]).toLowerCase()]=n[h]}}}}catch(m){}},getRules:function(g){if(e===null||g){e={};var j=d.styleSheets,h=0,f=j.length;for(;h<f;h++){try{if(!j[h].disabled){this.cacheStyleSheet(j[h])}}catch(k){}}}return e},getRule:function(f,h){var g=this.getRules(h);if(!a.isArray(f)){return g[f.toLowerCase()]}for(var j=0;j<f.length;j++){if(g[f[j]]){return g[f[j].toLowerCase()]}}return null},updateRule:function(f,j,h){if(!a.isArray(f)){var k=this.getRule(f);if(k){k.style[j.replace(c,b)]=h;return true}}else{for(var g=0;g<f.length;g++){if(this.updateRule(f[g],j,h)){return true}}}return false}}}());a.define("Ext.util.History",{singleton:true,alternateClassName:"Ext.History",mixins:{observable:"Ext.util.Observable"},constructor:function(){var b=this;b.oldIEMode=a.isIE6||a.isIE7||!a.isStrict&&a.isIE8;b.iframe=null;b.hiddenField=null;b.ready=false;b.currentToken=null},getHash:function(){var b=window.location.href,c=b.indexOf("#");return c>=0?b.substr(c+1):null},doSave:function(){this.hiddenField.value=this.currentToken},handleStateChange:function(b){this.currentToken=b;this.fireEvent("change",b)},updateIFrame:function(c){var b='<html><body><div id="state">'+a.util.Format.htmlEncode(c)+"</div></body></html>";try{var f=this.iframe.contentWindow.document;f.open();f.write(b);f.close();return true}catch(d){return false}},checkIFrame:function(){var e=this,c=e.iframe.contentWindow;if(!c||!c.document){a.Function.defer(this.checkIFrame,10,this);return}var f=c.document,d=f.getElementById("state"),b=d?d.innerText:null,g=e.getHash();a.TaskManager.start({run:function(){var k=c.document,j=k.getElementById("state"),h=j?j.innerText:null,i=e.getHash();if(h!==b){b=h;e.handleStateChange(h);window.top.location.hash=h;g=h;e.doSave()}else{if(i!==g){g=i;e.updateIFrame(i)}}},interval:50,scope:e});e.ready=true;e.fireEvent("ready",e)},startUp:function(){var b=this;b.currentToken=b.hiddenField.value||this.getHash();if(b.oldIEMode){b.checkIFrame()}else{var c=b.getHash();a.TaskManager.start({run:function(){var d=b.getHash();if(d!==c){c=d;b.handleStateChange(c);b.doSave()}},interval:50,scope:b});b.ready=true;b.fireEvent("ready",b)}},fieldId:a.baseCSSPrefix+"history-field",iframeId:a.baseCSSPrefix+"history-frame",init:function(d,b){var c=this;if(c.ready){a.callback(d,b,[c]);return}if(!a.isReady){a.onReady(function(){c.init(d,b)});return}c.hiddenField=a.getDom(c.fieldId);if(c.oldIEMode){c.iframe=a.getDom(c.iframeId)}c.addEvents("ready","change");if(d){c.on("ready",d,b,{single:true})}c.startUp()},add:function(b,d){var c=this;if(d!==false){if(c.getToken()===b){return true}}if(c.oldIEMode){return c.updateIFrame(b)}else{window.top.location.hash=b;return true}},back:function(){window.history.go(-1)},forward:function(){window.history.go(1)},getToken:function(){return this.ready?this.currentToken:this.getHash()}});a.define("Ext.view.TableChunker",{singleton:true,requires:["Ext.XTemplate"],metaTableTpl:["{[this.openTableWrap()]}",'<table class="'+a.baseCSSPrefix+"grid-table "+a.baseCSSPrefix+'grid-table-resizer" border="0" cellspacing="0" cellpadding="0" {[this.embedFullWidth()]}>',"<tbody>","<tr>",'<tpl for="columns">','<th class="'+a.baseCSSPrefix+'grid-col-resizer-{id}" style="width: {width}px; height: 0px;"></th>',"</tpl>","</tr>","{[this.openRows()]}","{row}",'<tpl for="features">',"{[this.embedFeature(values, parent, xindex, xcount)]}","</tpl>","{[this.closeRows()]}","</tbody>","</table>","{[this.closeTableWrap()]}"],constructor:function(){a.XTemplate.prototype.recurse=function(c,b){return this.apply(b?c[b]:c)}},embedFeature:function(c,e,b,f){var d="";if(!c.disabled){d=c.getFeatureTpl(c,e,b,f)}return d},embedFullWidth:function(){return'style="width: {fullWidth}px;"'},openRows:function(){return'<tpl for="rows">'},closeRows:function(){return"</tpl>"},metaRowTpl:['<tr class="'+a.baseCSSPrefix+'grid-row {addlSelector} {[this.embedRowCls()]}" {[this.embedRowAttr()]}>','<tpl for="columns">','<td class="{cls} '+a.baseCSSPrefix+"grid-cell "+a.baseCSSPrefix+'grid-cell-{columnId} {{id}-modified} {{id}-tdCls} {[this.firstOrLastCls(xindex, xcount)]}" {{id}-tdAttr}><div unselectable="on" class="'+a.baseCSSPrefix+"grid-cell-inner "+a.baseCSSPrefix+'unselectable" style="{{id}-style}; text-align: {align};">{{id}}</div></td>',"</tpl>","</tr>"],firstOrLastCls:function(c,d){var b="";if(c===1){b=a.baseCSSPrefix+"grid-cell-first"}else{if(c===d){b=a.baseCSSPrefix+"grid-cell-last"}}return b},embedRowCls:function(){return"{rowCls}"},embedRowAttr:function(){return"{rowAttr}"},openTableWrap:function(){return""},closeTableWrap:function(){return""},getTableTpl:function(k,c){var j,h={openRows:this.openRows,closeRows:this.closeRows,embedFeature:this.embedFeature,embedFullWidth:this.embedFullWidth,openTableWrap:this.openTableWrap,closeTableWrap:this.closeTableWrap},g={},d=k.features||[],m=d.length,f=0,l={embedRowCls:this.embedRowCls,embedRowAttr:this.embedRowAttr,firstOrLastCls:this.firstOrLastCls},e=Array.prototype.slice.call(this.metaRowTpl,0),b;for(;f<m;f++){if(!d[f].disabled){d[f].mutateMetaRowTpl(e);a.apply(l,d[f].getMetaRowTplFragments());a.apply(g,d[f].getFragmentTpl());a.apply(h,d[f].getTableFragments())}}e=a.create("Ext.XTemplate",e.join(""),l);k.row=e.applyTemplate(k);b=a.create("Ext.XTemplate",this.metaTableTpl.join(""),h);j=b.applyTemplate(k);if(!c){j=a.create("Ext.XTemplate",j,g)}return j}})})(this.Ext4||(this.Ext4={}));
